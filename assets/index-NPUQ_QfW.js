(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();function _p(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qa={exports:{}},Oi={},Ka={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function J_(){if(uh)return J;uh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function Q(S,P,X){this.props=S,this.context=P,this.refs=j,this.updater=X||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(S,P){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,P,"setState")},Q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Te(){}Te.prototype=Q.prototype;function xe(S,P,X){this.props=S,this.context=P,this.refs=j,this.updater=X||N}var ve=xe.prototype=new Te;ve.constructor=xe,L(ve,Q.prototype),ve.isPureReactComponent=!0;var Ce=Array.isArray,dt=Object.prototype.hasOwnProperty,Ae={current:null},Ze={key:!0,ref:!0,__self:!0,__source:!0};function vt(S,P,X){var te,ie={},se=null,de=null;if(P!=null)for(te in P.ref!==void 0&&(de=P.ref),P.key!==void 0&&(se=""+P.key),P)dt.call(P,te)&&!Ze.hasOwnProperty(te)&&(ie[te]=P[te]);var ae=arguments.length-2;if(ae===1)ie.children=X;else if(1<ae){for(var ye=Array(ae),ht=0;ht<ae;ht++)ye[ht]=arguments[ht+2];ie.children=ye}if(S&&S.defaultProps)for(te in ae=S.defaultProps,ae)ie[te]===void 0&&(ie[te]=ae[te]);return{$$typeof:i,type:S,key:se,ref:de,props:ie,_owner:Ae.current}}function an(S,P){return{$$typeof:i,type:S.type,key:P,ref:S.ref,props:S.props,_owner:S._owner}}function Vt(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function bn(S){var P={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(X){return P[X]})}var Ft=/\/+/g;function ft(S,P){return typeof S=="object"&&S!==null&&S.key!=null?bn(""+S.key):P.toString(36)}function kt(S,P,X,te,ie){var se=typeof S;(se==="undefined"||se==="boolean")&&(S=null);var de=!1;if(S===null)de=!0;else switch(se){case"string":case"number":de=!0;break;case"object":switch(S.$$typeof){case i:case t:de=!0}}if(de)return de=S,ie=ie(de),S=te===""?"."+ft(de,0):te,Ce(ie)?(X="",S!=null&&(X=S.replace(Ft,"$&/")+"/"),kt(ie,P,X,"",function(ht){return ht})):ie!=null&&(Vt(ie)&&(ie=an(ie,X+(!ie.key||de&&de.key===ie.key?"":(""+ie.key).replace(Ft,"$&/")+"/")+S)),P.push(ie)),1;if(de=0,te=te===""?".":te+":",Ce(S))for(var ae=0;ae<S.length;ae++){se=S[ae];var ye=te+ft(se,ae);de+=kt(se,P,X,ye,ie)}else if(ye=v(S),typeof ye=="function")for(S=ye.call(S),ae=0;!(se=S.next()).done;)se=se.value,ye=te+ft(se,ae++),de+=kt(se,P,X,ye,ie);else if(se==="object")throw P=String(S),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return de}function jt(S,P,X){if(S==null)return S;var te=[],ie=0;return kt(S,te,"","",function(se){return P.call(X,se,ie++)}),te}function et(S){if(S._status===-1){var P=S._result;P=P(),P.then(function(X){(S._status===0||S._status===-1)&&(S._status=1,S._result=X)},function(X){(S._status===0||S._status===-1)&&(S._status=2,S._result=X)}),S._status===-1&&(S._status=0,S._result=P)}if(S._status===1)return S._result.default;throw S._result}var ke={current:null},b={transition:null},q={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:b,ReactCurrentOwner:Ae};function U(){throw Error("act(...) is not supported in production builds of React.")}return J.Children={map:jt,forEach:function(S,P,X){jt(S,function(){P.apply(this,arguments)},X)},count:function(S){var P=0;return jt(S,function(){P++}),P},toArray:function(S){return jt(S,function(P){return P})||[]},only:function(S){if(!Vt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},J.Component=Q,J.Fragment=r,J.Profiler=a,J.PureComponent=xe,J.StrictMode=o,J.Suspense=m,J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,J.act=U,J.cloneElement=function(S,P,X){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var te=L({},S.props),ie=S.key,se=S.ref,de=S._owner;if(P!=null){if(P.ref!==void 0&&(se=P.ref,de=Ae.current),P.key!==void 0&&(ie=""+P.key),S.type&&S.type.defaultProps)var ae=S.type.defaultProps;for(ye in P)dt.call(P,ye)&&!Ze.hasOwnProperty(ye)&&(te[ye]=P[ye]===void 0&&ae!==void 0?ae[ye]:P[ye])}var ye=arguments.length-2;if(ye===1)te.children=X;else if(1<ye){ae=Array(ye);for(var ht=0;ht<ye;ht++)ae[ht]=arguments[ht+2];te.children=ae}return{$$typeof:i,type:S.type,key:ie,ref:se,props:te,_owner:de}},J.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},J.createElement=vt,J.createFactory=function(S){var P=vt.bind(null,S);return P.type=S,P},J.createRef=function(){return{current:null}},J.forwardRef=function(S){return{$$typeof:h,render:S}},J.isValidElement=Vt,J.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:et}},J.memo=function(S,P){return{$$typeof:g,type:S,compare:P===void 0?null:P}},J.startTransition=function(S){var P=b.transition;b.transition={};try{S()}finally{b.transition=P}},J.unstable_act=U,J.useCallback=function(S,P){return ke.current.useCallback(S,P)},J.useContext=function(S){return ke.current.useContext(S)},J.useDebugValue=function(){},J.useDeferredValue=function(S){return ke.current.useDeferredValue(S)},J.useEffect=function(S,P){return ke.current.useEffect(S,P)},J.useId=function(){return ke.current.useId()},J.useImperativeHandle=function(S,P,X){return ke.current.useImperativeHandle(S,P,X)},J.useInsertionEffect=function(S,P){return ke.current.useInsertionEffect(S,P)},J.useLayoutEffect=function(S,P){return ke.current.useLayoutEffect(S,P)},J.useMemo=function(S,P){return ke.current.useMemo(S,P)},J.useReducer=function(S,P,X){return ke.current.useReducer(S,P,X)},J.useRef=function(S){return ke.current.useRef(S)},J.useState=function(S){return ke.current.useState(S)},J.useSyncExternalStore=function(S,P,X){return ke.current.useSyncExternalStore(S,P,X)},J.useTransition=function(){return ke.current.useTransition()},J.version="18.3.1",J}var ch;function Pu(){return ch||(ch=1,Ka.exports=J_()),Ka.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function Z_(){if(dh)return Oi;dh=1;var i=Pu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,g){var E,w={},v=null,N=null;g!==void 0&&(v=""+g),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(N=m.ref);for(E in m)o.call(m,E)&&!u.hasOwnProperty(E)&&(w[E]=m[E]);if(h&&h.defaultProps)for(E in m=h.defaultProps,m)w[E]===void 0&&(w[E]=m[E]);return{$$typeof:t,type:h,key:v,ref:N,props:w,_owner:a.current}}return Oi.Fragment=r,Oi.jsx=f,Oi.jsxs=f,Oi}var fh;function ev(){return fh||(fh=1,qa.exports=Z_()),qa.exports}var T=ev(),G=Pu();const tv=_p(G);var yo={},Ya={exports:{}},ot={},Xa={exports:{}},Ja={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function nv(){return hh||(hh=1,function(i){function t(b,q){var U=b.length;b.push(q);e:for(;0<U;){var S=U-1>>>1,P=b[S];if(0<a(P,q))b[S]=q,b[U]=P,U=S;else break e}}function r(b){return b.length===0?null:b[0]}function o(b){if(b.length===0)return null;var q=b[0],U=b.pop();if(U!==q){b[0]=U;e:for(var S=0,P=b.length,X=P>>>1;S<X;){var te=2*(S+1)-1,ie=b[te],se=te+1,de=b[se];if(0>a(ie,U))se<P&&0>a(de,ie)?(b[S]=de,b[se]=U,S=se):(b[S]=ie,b[te]=U,S=te);else if(se<P&&0>a(de,U))b[S]=de,b[se]=U,S=se;else break e}}return q}function a(b,q){var U=b.sortIndex-q.sortIndex;return U!==0?U:b.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],g=[],E=1,w=null,v=3,N=!1,L=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,xe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(b){for(var q=r(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=b)o(g),q.sortIndex=q.expirationTime,t(m,q);else break;q=r(g)}}function Ce(b){if(j=!1,ve(b),!L)if(r(m)!==null)L=!0,et(dt);else{var q=r(g);q!==null&&ke(Ce,q.startTime-b)}}function dt(b,q){L=!1,j&&(j=!1,Te(vt),vt=-1),N=!0;var U=v;try{for(ve(q),w=r(m);w!==null&&(!(w.expirationTime>q)||b&&!bn());){var S=w.callback;if(typeof S=="function"){w.callback=null,v=w.priorityLevel;var P=S(w.expirationTime<=q);q=i.unstable_now(),typeof P=="function"?w.callback=P:w===r(m)&&o(m),ve(q)}else o(m);w=r(m)}if(w!==null)var X=!0;else{var te=r(g);te!==null&&ke(Ce,te.startTime-q),X=!1}return X}finally{w=null,v=U,N=!1}}var Ae=!1,Ze=null,vt=-1,an=5,Vt=-1;function bn(){return!(i.unstable_now()-Vt<an)}function Ft(){if(Ze!==null){var b=i.unstable_now();Vt=b;var q=!0;try{q=Ze(!0,b)}finally{q?ft():(Ae=!1,Ze=null)}}else Ae=!1}var ft;if(typeof xe=="function")ft=function(){xe(Ft)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,jt=kt.port2;kt.port1.onmessage=Ft,ft=function(){jt.postMessage(null)}}else ft=function(){Q(Ft,0)};function et(b){Ze=b,Ae||(Ae=!0,ft())}function ke(b,q){vt=Q(function(){b(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(b){b.callback=null},i.unstable_continueExecution=function(){L||N||(L=!0,et(dt))},i.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):an=0<b?Math.floor(1e3/b):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(b){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var U=v;v=q;try{return b()}finally{v=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(b,q){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var U=v;v=b;try{return q()}finally{v=U}},i.unstable_scheduleCallback=function(b,q,U){var S=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?S+U:S):U=S,b){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=U+P,b={id:E++,callback:q,priorityLevel:b,startTime:U,expirationTime:P,sortIndex:-1},U>S?(b.sortIndex=U,t(g,b),r(m)===null&&b===r(g)&&(j?(Te(vt),vt=-1):j=!0,ke(Ce,U-S))):(b.sortIndex=P,t(m,b),L||N||(L=!0,et(dt))),b},i.unstable_shouldYield=bn,i.unstable_wrapCallback=function(b){var q=v;return function(){var U=v;v=q;try{return b.apply(this,arguments)}finally{v=U}}}}(Ja)),Ja}var ph;function rv(){return ph||(ph=1,Xa.exports=nv()),Xa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function iv(){if(mh)return ot;mh=1;var i=Pu(),t=rv();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},w={};function v(e){return m.call(w,e)?!0:m.call(E,e)?!1:g.test(e)?w[e]=!0:(E[e]=!0,!1)}function N(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,s,l){if(n===null||typeof n>"u"||N(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,s,l,c,d,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=p}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Q[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Q[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Q[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Q[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Q[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Q[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Q[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Q[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Q[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var Te=/[\-:]([a-z])/g;function xe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Te,xe);Q[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Te,xe);Q[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Te,xe);Q[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Q[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Q[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function ve(e,n,s,l){var c=Q.hasOwnProperty(n)?Q[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,s,c,l)&&(s=null),l||c===null?v(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,l=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dt=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Ze=Symbol.for("react.fragment"),vt=Symbol.for("react.strict_mode"),an=Symbol.for("react.profiler"),Vt=Symbol.for("react.provider"),bn=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),b=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,S;function P(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var X=!1;function te(e,n){if(!e||X)return"";X=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var c=I.stack.split(`
`),d=l.stack.split(`
`),p=c.length-1,_=d.length-1;1<=p&&0<=_&&c[p]!==d[_];)_--;for(;1<=p&&0<=_;p--,_--)if(c[p]!==d[_]){if(p!==1||_!==1)do if(p--,_--,0>_||c[p]!==d[_]){var y=`
`+c[p].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=p&&0<=_);break}}}finally{X=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?P(e):""}function ie(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ze:return"Fragment";case Ae:return"Portal";case an:return"Profiler";case vt:return"StrictMode";case ft:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bn:return(e.displayName||"Context")+".Consumer";case Vt:return(e._context.displayName||"Context")+".Provider";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jt:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case et:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}function de(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===vt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ht(e){var n=ye(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function as(e){e._valueTracker||(e._valueTracker=ht(e))}function pc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ye(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function mc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ae(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function gc(e,n){n=n.checked,n!=null&&ve(e,"checked",n,!1)}function nl(e,n){gc(e,n);var s=ae(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?rl(e,n.type,s):n.hasOwnProperty("defaultValue")&&rl(e,n.type,ae(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function _c(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function rl(e,n,s){(n!=="number"||us(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var qr=Array.isArray;function lr(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ae(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function il(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(qr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ae(s)}}function yc(e,n){var s=ae(n.value),l=ae(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function wc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Cc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Cc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Kr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ng=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){ng.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Yr[n]=Yr[e]})});function Sc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+n).trim():n+"px"}function xc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=Sc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,c):e[s]=c}}var rg=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(e,n){if(n){if(rg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function ll(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,ar=null,ur=null;function kc(e){if(e=vi(e)){if(typeof cl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Os(n),cl(e.stateNode,e.type,n))}}function Ic(e){ar?ur?ur.push(e):ur=[e]:ar=e}function Nc(){if(ar){var e=ar,n=ur;if(ur=ar=null,kc(e),n)for(e=0;e<n.length;e++)kc(n[e])}}function Tc(e,n){return e(n)}function Rc(){}var dl=!1;function Pc(e,n,s){if(dl)return e(n,s);dl=!0;try{return Tc(e,n,s)}finally{dl=!1,(ar!==null||ur!==null)&&(Rc(),Nc())}}function Xr(e,n){var s=e.stateNode;if(s===null)return null;var l=Os(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var fl=!1;if(h)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{fl=!1}function ig(e,n,s,l,c,d,p,_,y){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(D){this.onError(D)}}var Zr=!1,ds=null,fs=!1,hl=null,sg={onError:function(e){Zr=!0,ds=e}};function og(e,n,s,l,c,d,p,_,y){Zr=!1,ds=null,ig.apply(sg,arguments)}function lg(e,n,s,l,c,d,p,_,y){if(og.apply(this,arguments),Zr){if(Zr){var I=ds;Zr=!1,ds=null}else throw Error(r(198));fs||(fs=!0,hl=I)}}function Fn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Dc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ac(e){if(Fn(e)!==e)throw Error(r(188))}function ag(e){var n=e.alternate;if(!n){if(n=Fn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Ac(c),e;if(d===l)return Ac(c),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=d;else{for(var p=!1,_=c.child;_;){if(_===s){p=!0,s=c,l=d;break}if(_===l){p=!0,l=c,s=d;break}_=_.sibling}if(!p){for(_=d.child;_;){if(_===s){p=!0,s=d,l=c;break}if(_===l){p=!0,l=d,s=c;break}_=_.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Oc(e){return e=ag(e),e!==null?Lc(e):null}function Lc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Lc(e);if(n!==null)return n;e=e.sibling}return null}var Mc=t.unstable_scheduleCallback,bc=t.unstable_cancelCallback,ug=t.unstable_shouldYield,cg=t.unstable_requestPaint,Re=t.unstable_now,dg=t.unstable_getCurrentPriorityLevel,pl=t.unstable_ImmediatePriority,Fc=t.unstable_UserBlockingPriority,hs=t.unstable_NormalPriority,fg=t.unstable_LowPriority,jc=t.unstable_IdlePriority,ps=null,zt=null;function hg(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:gg,pg=Math.log,mg=Math.LN2;function gg(e){return e>>>=0,e===0?32:31-(pg(e)/mg|0)|0}var ms=64,gs=4194304;function ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,d=e.pingedLanes,p=s&268435455;if(p!==0){var _=p&~c;_!==0?l=ei(_):(d&=p,d!==0&&(l=ei(d)))}else p=s&~c,p!==0?l=ei(p):d!==0&&(l=ei(d));if(l===0)return 0;if(n!==0&&n!==l&&(n&c)===0&&(c=l&-l,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-It(n),c=1<<s,l|=e[s],n&=~c;return l}function _g(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-It(d),_=1<<p,y=c[p];y===-1?((_&s)===0||(_&l)!==0)&&(c[p]=_g(_,n)):y<=n&&(e.expiredLanes|=_),d&=~_}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zc(){var e=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),e}function gl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ti(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-It(n),e[n]=s}function yg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-It(s),d=1<<c;n[c]=0,l[c]=-1,e[c]=-1,s&=~d}}function _l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-It(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}var ue=0;function Uc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Bc,vl,Wc,Hc,Vc,yl=!1,vs=[],un=null,cn=null,dn=null,ni=new Map,ri=new Map,fn=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $c(e,n){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ni.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(n.pointerId)}}function ii(e,n,s,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=vi(n),n!==null&&vl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Cg(e,n,s,l,c){switch(n){case"focusin":return un=ii(un,e,n,s,l,c),!0;case"dragenter":return cn=ii(cn,e,n,s,l,c),!0;case"mouseover":return dn=ii(dn,e,n,s,l,c),!0;case"pointerover":var d=c.pointerId;return ni.set(d,ii(ni.get(d)||null,e,n,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ri.set(d,ii(ri.get(d)||null,e,n,s,l,c)),!0}return!1}function Qc(e){var n=jn(e.target);if(n!==null){var s=Fn(n);if(s!==null){if(n=s.tag,n===13){if(n=Dc(s),n!==null){e.blockedOn=n,Vc(e.priority,function(){Wc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Cl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);al=l,s.target.dispatchEvent(l),al=null}else return n=vi(s),n!==null&&vl(n),e.blockedOn=s,!1;n.shift()}return!0}function Gc(e,n,s){ys(e)&&s.delete(n)}function Eg(){yl=!1,un!==null&&ys(un)&&(un=null),cn!==null&&ys(cn)&&(cn=null),dn!==null&&ys(dn)&&(dn=null),ni.forEach(Gc),ri.forEach(Gc)}function si(e,n){e.blockedOn===n&&(e.blockedOn=null,yl||(yl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Eg)))}function oi(e){function n(c){return si(c,e)}if(0<vs.length){si(vs[0],e);for(var s=1;s<vs.length;s++){var l=vs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(un!==null&&si(un,e),cn!==null&&si(cn,e),dn!==null&&si(dn,e),ni.forEach(n),ri.forEach(n),s=0;s<fn.length;s++)l=fn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<fn.length&&(s=fn[0],s.blockedOn===null);)Qc(s),s.blockedOn===null&&fn.shift()}var cr=Ce.ReactCurrentBatchConfig,ws=!0;function Sg(e,n,s,l){var c=ue,d=cr.transition;cr.transition=null;try{ue=1,wl(e,n,s,l)}finally{ue=c,cr.transition=d}}function xg(e,n,s,l){var c=ue,d=cr.transition;cr.transition=null;try{ue=4,wl(e,n,s,l)}finally{ue=c,cr.transition=d}}function wl(e,n,s,l){if(ws){var c=Cl(e,n,s,l);if(c===null)jl(e,n,l,Cs,s),$c(e,l);else if(Cg(c,e,n,s,l))l.stopPropagation();else if($c(e,l),n&4&&-1<wg.indexOf(e)){for(;c!==null;){var d=vi(c);if(d!==null&&Bc(d),d=Cl(e,n,s,l),d===null&&jl(e,n,l,Cs,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else jl(e,n,l,null,s)}}var Cs=null;function Cl(e,n,s,l){if(Cs=null,e=ul(l),e=jn(e),e!==null)if(n=Fn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Dc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Cs=e,null}function qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case pl:return 1;case Fc:return 4;case hs:case fg:return 16;case jc:return 536870912;default:return 16}default:return 16}}var hn=null,El=null,Es=null;function Kc(){if(Es)return Es;var e,n=El,s=n.length,l,c="value"in hn?hn.value:hn.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===c[d-l];l++);return Es=c.slice(e,1<l?1-l:void 0)}function Ss(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Yc(){return!1}function pt(e){function n(s,l,c,d,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xs:Yc,this.isPropagationStopped=Yc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=pt(dr),li=U({},dr,{view:0,detail:0}),kg=pt(li),xl,kl,ai,ks=U({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(xl=e.screenX-ai.screenX,kl=e.screenY-ai.screenY):kl=xl=0,ai=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Xc=pt(ks),Ig=U({},ks,{dataTransfer:0}),Ng=pt(Ig),Tg=U({},li,{relatedTarget:0}),Il=pt(Tg),Rg=U({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pg=pt(Rg),Dg=U({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ag=pt(Dg),Og=U({},dr,{data:0}),Jc=pt(Og),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bg[e])?!!n[e]:!1}function Nl(){return Fg}var jg=U({},li,{key:function(e){if(e.key){var n=Lg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=pt(jg),Ug=U({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=pt(Ug),Bg=U({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),Wg=pt(Bg),Hg=U({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=pt(Hg),$g=U({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=pt($g),Gg=[9,13,27,32],Tl=h&&"CompositionEvent"in window,ui=null;h&&"documentMode"in document&&(ui=document.documentMode);var qg=h&&"TextEvent"in window&&!ui,ed=h&&(!Tl||ui&&8<ui&&11>=ui),td=" ",nd=!1;function rd(e,n){switch(e){case"keyup":return Gg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Kg(e,n){switch(e){case"compositionend":return id(n);case"keypress":return n.which!==32?null:(nd=!0,td);case"textInput":return e=n.data,e===td&&nd?null:e;default:return null}}function Yg(e,n){if(fr)return e==="compositionend"||!Tl&&rd(e,n)?(e=Kc(),Es=El=hn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ed&&n.locale!=="ko"?null:n.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Xg[e.type]:n==="textarea"}function od(e,n,s,l){Ic(l),n=Ps(n,"onChange"),0<n.length&&(s=new Sl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ci=null,di=null;function Jg(e){xd(e,0)}function Is(e){var n=_r(e);if(pc(n))return e}function Zg(e,n){if(e==="change")return n}var ld=!1;if(h){var Rl;if(h){var Pl="oninput"in document;if(!Pl){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Pl=typeof ad.oninput=="function"}Rl=Pl}else Rl=!1;ld=Rl&&(!document.documentMode||9<document.documentMode)}function ud(){ci&&(ci.detachEvent("onpropertychange",cd),di=ci=null)}function cd(e){if(e.propertyName==="value"&&Is(di)){var n=[];od(n,di,e,ul(e)),Pc(Jg,n)}}function e_(e,n,s){e==="focusin"?(ud(),ci=n,di=s,ci.attachEvent("onpropertychange",cd)):e==="focusout"&&ud()}function t_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(di)}function n_(e,n){if(e==="click")return Is(n)}function r_(e,n){if(e==="input"||e==="change")return Is(n)}function i_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:i_;function fi(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!m.call(n,c)||!Nt(e[c],n[c]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,n){var s=dd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=dd(s)}}function hd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pd(){for(var e=window,n=us();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=us(e.document)}return n}function Dl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function s_(e){var n=pd(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&hd(s.ownerDocument.documentElement,s)){if(l!==null&&Dl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!e.extend&&d>l&&(c=l,l=d,d=c),c=fd(s,d);var p=fd(s,l);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o_=h&&"documentMode"in document&&11>=document.documentMode,hr=null,Al=null,hi=null,Ol=!1;function md(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ol||hr==null||hr!==us(l)||(l=hr,"selectionStart"in l&&Dl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hi&&fi(hi,l)||(hi=l,l=Ps(Al,"onSelect"),0<l.length&&(n=new Sl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=hr)))}function Ns(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Ll={},gd={};h&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Ts(e){if(Ll[e])return Ll[e];if(!pr[e])return e;var n=pr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gd)return Ll[e]=n[s];return e}var _d=Ts("animationend"),vd=Ts("animationiteration"),yd=Ts("animationstart"),wd=Ts("transitionend"),Cd=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,n){Cd.set(e,n),u(n,[e])}for(var Ml=0;Ml<Ed.length;Ml++){var bl=Ed[Ml],l_=bl.toLowerCase(),a_=bl[0].toUpperCase()+bl.slice(1);pn(l_,"on"+a_)}pn(_d,"onAnimationEnd"),pn(vd,"onAnimationIteration"),pn(yd,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(wd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Sd(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,lg(l,n,void 0,e),e.currentTarget=null}function xd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var p=l.length-1;0<=p;p--){var _=l[p],y=_.instance,I=_.currentTarget;if(_=_.listener,y!==d&&c.isPropagationStopped())break e;Sd(c,_,I),d=y}else for(p=0;p<l.length;p++){if(_=l[p],y=_.instance,I=_.currentTarget,_=_.listener,y!==d&&c.isPropagationStopped())break e;Sd(c,_,I),d=y}}}if(fs)throw e=hl,fs=!1,hl=null,e}function me(e,n){var s=n[Vl];s===void 0&&(s=n[Vl]=new Set);var l=e+"__bubble";s.has(l)||(kd(n,e,2,!1),s.add(l))}function Fl(e,n,s){var l=0;n&&(l|=4),kd(s,e,l,n)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function mi(e){if(!e[Rs]){e[Rs]=!0,o.forEach(function(s){s!=="selectionchange"&&(u_.has(s)||Fl(s,!1,e),Fl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Rs]||(n[Rs]=!0,Fl("selectionchange",!1,n))}}function kd(e,n,s,l){switch(qc(n)){case 1:var c=Sg;break;case 4:c=xg;break;default:c=wl}s=c.bind(null,n,s,e),c=void 0,!fl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function jl(e,n,s,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var y=p.tag;if((y===3||y===4)&&(y=p.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;p=p.return}for(;_!==null;){if(p=jn(_),p===null)return;if(y=p.tag,y===5||y===6){l=d=p;continue e}_=_.parentNode}}l=l.return}Pc(function(){var I=d,D=ul(s),A=[];e:{var R=Cd.get(e);if(R!==void 0){var F=Sl,B=e;switch(e){case"keypress":if(Ss(s)===0)break e;case"keydown":case"keyup":F=zg;break;case"focusin":B="focus",F=Il;break;case"focusout":B="blur",F=Il;break;case"beforeblur":case"afterblur":F=Il;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Wg;break;case _d:case vd:case yd:F=Pg;break;case wd:F=Vg;break;case"scroll":F=kg;break;case"wheel":F=Qg;break;case"copy":case"cut":case"paste":F=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zc}var W=(n&4)!==0,Pe=!W&&e==="scroll",x=W?R!==null?R+"Capture":null:R;W=[];for(var C=I,k;C!==null;){k=C;var O=k.stateNode;if(k.tag===5&&O!==null&&(k=O,x!==null&&(O=Xr(C,x),O!=null&&W.push(gi(C,O,k)))),Pe)break;C=C.return}0<W.length&&(R=new F(R,B,null,s,D),A.push({event:R,listeners:W}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",R&&s!==al&&(B=s.relatedTarget||s.fromElement)&&(jn(B)||B[$t]))break e;if((F||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,F?(B=s.relatedTarget||s.toElement,F=I,B=B?jn(B):null,B!==null&&(Pe=Fn(B),B!==Pe||B.tag!==5&&B.tag!==6)&&(B=null)):(F=null,B=I),F!==B)){if(W=Xc,O="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(W=Zc,O="onPointerLeave",x="onPointerEnter",C="pointer"),Pe=F==null?R:_r(F),k=B==null?R:_r(B),R=new W(O,C+"leave",F,s,D),R.target=Pe,R.relatedTarget=k,O=null,jn(D)===I&&(W=new W(x,C+"enter",B,s,D),W.target=k,W.relatedTarget=Pe,O=W),Pe=O,F&&B)t:{for(W=F,x=B,C=0,k=W;k;k=mr(k))C++;for(k=0,O=x;O;O=mr(O))k++;for(;0<C-k;)W=mr(W),C--;for(;0<k-C;)x=mr(x),k--;for(;C--;){if(W===x||x!==null&&W===x.alternate)break t;W=mr(W),x=mr(x)}W=null}else W=null;F!==null&&Id(A,R,F,W,!1),B!==null&&Pe!==null&&Id(A,Pe,B,W,!0)}}e:{if(R=I?_r(I):window,F=R.nodeName&&R.nodeName.toLowerCase(),F==="select"||F==="input"&&R.type==="file")var H=Zg;else if(sd(R))if(ld)H=r_;else{H=t_;var V=e_}else(F=R.nodeName)&&F.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(H=n_);if(H&&(H=H(e,I))){od(A,H,s,D);break e}V&&V(e,R,I),e==="focusout"&&(V=R._wrapperState)&&V.controlled&&R.type==="number"&&rl(R,"number",R.value)}switch(V=I?_r(I):window,e){case"focusin":(sd(V)||V.contentEditable==="true")&&(hr=V,Al=I,hi=null);break;case"focusout":hi=Al=hr=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,md(A,s,D);break;case"selectionchange":if(o_)break;case"keydown":case"keyup":md(A,s,D)}var $;if(Tl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else fr?rd(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(ed&&s.locale!=="ko"&&(fr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&fr&&($=Kc()):(hn=D,El="value"in hn?hn.value:hn.textContent,fr=!0)),V=Ps(I,Y),0<V.length&&(Y=new Jc(Y,e,null,s,D),A.push({event:Y,listeners:V}),$?Y.data=$:($=id(s),$!==null&&(Y.data=$)))),($=qg?Kg(e,s):Yg(e,s))&&(I=Ps(I,"onBeforeInput"),0<I.length&&(D=new Jc("onBeforeInput","beforeinput",null,s,D),A.push({event:D,listeners:I}),D.data=$))}xd(A,n)})}function gi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ps(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Xr(e,s),d!=null&&l.unshift(gi(e,d,c)),d=Xr(e,n),d!=null&&l.push(gi(e,d,c))),e=e.return}return l}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,n,s,l,c){for(var d=n._reactName,p=[];s!==null&&s!==l;){var _=s,y=_.alternate,I=_.stateNode;if(y!==null&&y===l)break;_.tag===5&&I!==null&&(_=I,c?(y=Xr(s,d),y!=null&&p.unshift(gi(s,y,_))):c||(y=Xr(s,d),y!=null&&p.push(gi(s,y,_)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var c_=/\r\n?/g,d_=/\u0000|\uFFFD/g;function Nd(e){return(typeof e=="string"?e:""+e).replace(c_,`
`).replace(d_,"")}function Ds(e,n,s){if(n=Nd(n),Nd(e)!==n&&s)throw Error(r(425))}function As(){}var zl=null,Ul=null;function Bl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(e){return Td.resolve(null).then(e).catch(p_)}:Wl;function p_(e){setTimeout(function(){throw e})}function Hl(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),oi(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);oi(n)}function mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Rd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var gr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+gr,_i="__reactProps$"+gr,$t="__reactContainer$"+gr,Vl="__reactEvents$"+gr,m_="__reactListeners$"+gr,g_="__reactHandles$"+gr;function jn(e){var n=e[Ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Rd(e);e!==null;){if(s=e[Ut])return s;e=Rd(e)}return n}e=s,s=e.parentNode}return null}function vi(e){return e=e[Ut]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Os(e){return e[_i]||null}var $l=[],vr=-1;function gn(e){return{current:e}}function ge(e){0>vr||(e.current=$l[vr],$l[vr]=null,vr--)}function fe(e,n){vr++,$l[vr]=e.current,e.current=n}var _n={},$e=gn(_n),tt=gn(!1),zn=_n;function yr(e,n){var s=e.type.contextTypes;if(!s)return _n;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function nt(e){return e=e.childContextTypes,e!=null}function Ls(){ge(tt),ge($e)}function Pd(e,n,s){if($e.current!==_n)throw Error(r(168));fe($e,n),fe(tt,s)}function Dd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(r(108,de(e)||"Unknown",c));return U({},s,l)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,zn=$e.current,fe($e,e),fe(tt,tt.current),!0}function Ad(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Dd(e,n,zn),l.__reactInternalMemoizedMergedChildContext=e,ge(tt),ge($e),fe($e,e)):ge(tt),fe(tt,s)}var Qt=null,bs=!1,Ql=!1;function Od(e){Qt===null?Qt=[e]:Qt.push(e)}function __(e){bs=!0,Od(e)}function vn(){if(!Ql&&Qt!==null){Ql=!0;var e=0,n=ue;try{var s=Qt;for(ue=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Qt=null,bs=!1}catch(c){throw Qt!==null&&(Qt=Qt.slice(e+1)),Mc(pl,vn),c}finally{ue=n,Ql=!1}}return null}var wr=[],Cr=0,Fs=null,js=0,yt=[],wt=0,Un=null,Gt=1,qt="";function Bn(e,n){wr[Cr++]=js,wr[Cr++]=Fs,Fs=e,js=n}function Ld(e,n,s){yt[wt++]=Gt,yt[wt++]=qt,yt[wt++]=Un,Un=e;var l=Gt;e=qt;var c=32-It(l)-1;l&=~(1<<c),s+=1;var d=32-It(n)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Gt=1<<32-It(n)+c|s<<c|l,qt=d+e}else Gt=1<<d|s<<c|l,qt=e}function Gl(e){e.return!==null&&(Bn(e,1),Ld(e,1,0))}function ql(e){for(;e===Fs;)Fs=wr[--Cr],wr[Cr]=null,js=wr[--Cr],wr[Cr]=null;for(;e===Un;)Un=yt[--wt],yt[wt]=null,qt=yt[--wt],yt[wt]=null,Gt=yt[--wt],yt[wt]=null}var mt=null,gt=null,we=!1,Tt=null;function Md(e,n){var s=xt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function bd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mt=e,gt=mn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mt=e,gt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Un!==null?{id:Gt,overflow:qt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=xt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,mt=e,gt=null,!0):!1;default:return!1}}function Kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(we){var n=gt;if(n){var s=n;if(!bd(e,n)){if(Kl(e))throw Error(r(418));n=mn(s.nextSibling);var l=mt;n&&bd(e,n)?Md(l,s):(e.flags=e.flags&-4097|2,we=!1,mt=e)}}else{if(Kl(e))throw Error(r(418));e.flags=e.flags&-4097|2,we=!1,mt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function zs(e){if(e!==mt)return!1;if(!we)return Fd(e),we=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Bl(e.type,e.memoizedProps)),n&&(n=gt)){if(Kl(e))throw jd(),Error(r(418));for(;n;)Md(e,n),n=mn(n.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){gt=mn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}gt=null}}else gt=mt?mn(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=gt;e;)e=mn(e.nextSibling)}function Er(){gt=mt=null,we=!1}function Xl(e){Tt===null?Tt=[e]:Tt.push(e)}var v_=Ce.ReactCurrentBatchConfig;function yi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var c=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(p){var _=c.refs;p===null?delete _[d]:_[d]=p},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Us(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function zd(e){var n=e._init;return n(e._payload)}function Ud(e){function n(x,C){if(e){var k=x.deletions;k===null?(x.deletions=[C],x.flags|=16):k.push(C)}}function s(x,C){if(!e)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function l(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function c(x,C){return x=In(x,C),x.index=0,x.sibling=null,x}function d(x,C,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<C?(x.flags|=2,C):k):(x.flags|=2,C)):(x.flags|=1048576,C)}function p(x){return e&&x.alternate===null&&(x.flags|=2),x}function _(x,C,k,O){return C===null||C.tag!==6?(C=Wa(k,x.mode,O),C.return=x,C):(C=c(C,k),C.return=x,C)}function y(x,C,k,O){var H=k.type;return H===Ze?D(x,C,k.props.children,O,k.key):C!==null&&(C.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===et&&zd(H)===C.type)?(O=c(C,k.props),O.ref=yi(x,C,k),O.return=x,O):(O=co(k.type,k.key,k.props,null,x.mode,O),O.ref=yi(x,C,k),O.return=x,O)}function I(x,C,k,O){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Ha(k,x.mode,O),C.return=x,C):(C=c(C,k.children||[]),C.return=x,C)}function D(x,C,k,O,H){return C===null||C.tag!==7?(C=Kn(k,x.mode,O,H),C.return=x,C):(C=c(C,k),C.return=x,C)}function A(x,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Wa(""+C,x.mode,k),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dt:return k=co(C.type,C.key,C.props,null,x.mode,k),k.ref=yi(x,null,C),k.return=x,k;case Ae:return C=Ha(C,x.mode,k),C.return=x,C;case et:var O=C._init;return A(x,O(C._payload),k)}if(qr(C)||q(C))return C=Kn(C,x.mode,k,null),C.return=x,C;Us(x,C)}return null}function R(x,C,k,O){var H=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:_(x,C,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dt:return k.key===H?y(x,C,k,O):null;case Ae:return k.key===H?I(x,C,k,O):null;case et:return H=k._init,R(x,C,H(k._payload),O)}if(qr(k)||q(k))return H!==null?null:D(x,C,k,O,null);Us(x,k)}return null}function F(x,C,k,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return x=x.get(k)||null,_(C,x,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case dt:return x=x.get(O.key===null?k:O.key)||null,y(C,x,O,H);case Ae:return x=x.get(O.key===null?k:O.key)||null,I(C,x,O,H);case et:var V=O._init;return F(x,C,k,V(O._payload),H)}if(qr(O)||q(O))return x=x.get(k)||null,D(C,x,O,H,null);Us(C,O)}return null}function B(x,C,k,O){for(var H=null,V=null,$=C,Y=C=0,je=null;$!==null&&Y<k.length;Y++){$.index>Y?(je=$,$=null):je=$.sibling;var oe=R(x,$,k[Y],O);if(oe===null){$===null&&($=je);break}e&&$&&oe.alternate===null&&n(x,$),C=d(oe,C,Y),V===null?H=oe:V.sibling=oe,V=oe,$=je}if(Y===k.length)return s(x,$),we&&Bn(x,Y),H;if($===null){for(;Y<k.length;Y++)$=A(x,k[Y],O),$!==null&&(C=d($,C,Y),V===null?H=$:V.sibling=$,V=$);return we&&Bn(x,Y),H}for($=l(x,$);Y<k.length;Y++)je=F($,x,Y,k[Y],O),je!==null&&(e&&je.alternate!==null&&$.delete(je.key===null?Y:je.key),C=d(je,C,Y),V===null?H=je:V.sibling=je,V=je);return e&&$.forEach(function(Nn){return n(x,Nn)}),we&&Bn(x,Y),H}function W(x,C,k,O){var H=q(k);if(typeof H!="function")throw Error(r(150));if(k=H.call(k),k==null)throw Error(r(151));for(var V=H=null,$=C,Y=C=0,je=null,oe=k.next();$!==null&&!oe.done;Y++,oe=k.next()){$.index>Y?(je=$,$=null):je=$.sibling;var Nn=R(x,$,oe.value,O);if(Nn===null){$===null&&($=je);break}e&&$&&Nn.alternate===null&&n(x,$),C=d(Nn,C,Y),V===null?H=Nn:V.sibling=Nn,V=Nn,$=je}if(oe.done)return s(x,$),we&&Bn(x,Y),H;if($===null){for(;!oe.done;Y++,oe=k.next())oe=A(x,oe.value,O),oe!==null&&(C=d(oe,C,Y),V===null?H=oe:V.sibling=oe,V=oe);return we&&Bn(x,Y),H}for($=l(x,$);!oe.done;Y++,oe=k.next())oe=F($,x,Y,oe.value,O),oe!==null&&(e&&oe.alternate!==null&&$.delete(oe.key===null?Y:oe.key),C=d(oe,C,Y),V===null?H=oe:V.sibling=oe,V=oe);return e&&$.forEach(function(X_){return n(x,X_)}),we&&Bn(x,Y),H}function Pe(x,C,k,O){if(typeof k=="object"&&k!==null&&k.type===Ze&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case dt:e:{for(var H=k.key,V=C;V!==null;){if(V.key===H){if(H=k.type,H===Ze){if(V.tag===7){s(x,V.sibling),C=c(V,k.props.children),C.return=x,x=C;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===et&&zd(H)===V.type){s(x,V.sibling),C=c(V,k.props),C.ref=yi(x,V,k),C.return=x,x=C;break e}s(x,V);break}else n(x,V);V=V.sibling}k.type===Ze?(C=Kn(k.props.children,x.mode,O,k.key),C.return=x,x=C):(O=co(k.type,k.key,k.props,null,x.mode,O),O.ref=yi(x,C,k),O.return=x,x=O)}return p(x);case Ae:e:{for(V=k.key;C!==null;){if(C.key===V)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){s(x,C.sibling),C=c(C,k.children||[]),C.return=x,x=C;break e}else{s(x,C);break}else n(x,C);C=C.sibling}C=Ha(k,x.mode,O),C.return=x,x=C}return p(x);case et:return V=k._init,Pe(x,C,V(k._payload),O)}if(qr(k))return B(x,C,k,O);if(q(k))return W(x,C,k,O);Us(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(s(x,C.sibling),C=c(C,k),C.return=x,x=C):(s(x,C),C=Wa(k,x.mode,O),C.return=x,x=C),p(x)):s(x,C)}return Pe}var Sr=Ud(!0),Bd=Ud(!1),Bs=gn(null),Ws=null,xr=null,Jl=null;function Zl(){Jl=xr=Ws=null}function ea(e){var n=Bs.current;ge(Bs),e._currentValue=n}function ta(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function kr(e,n){Ws=e,Jl=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(rt=!0),e.firstContext=null)}function Ct(e){var n=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:n,next:null},xr===null){if(Ws===null)throw Error(r(308));xr=e,Ws.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return n}var Wn=null;function na(e){Wn===null?Wn=[e]:Wn.push(e)}function Wd(e,n,s,l){var c=n.interleaved;return c===null?(s.next=s,na(n)):(s.next=c.next,c.next=s),n.interleaved=s,Kt(e,l)}function Kt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var yn=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Kt(e,s)}return c=l.interleaved,c===null?(n.next=n,na(l)):(n.next=c.next,c.next=n),l.interleaved=n,Kt(e,s)}function Hs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}function Vd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Vs(e,n,s,l){var c=e.updateQueue;yn=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var y=_,I=y.next;y.next=null,p===null?d=I:p.next=I,p=y;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==p&&(_===null?D.firstBaseUpdate=I:_.next=I,D.lastBaseUpdate=y))}if(d!==null){var A=c.baseState;p=0,D=I=y=null,_=d;do{var R=_.lane,F=_.eventTime;if((l&R)===R){D!==null&&(D=D.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(R=n,F=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){A=B.call(F,A,R);break e}A=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,R=typeof B=="function"?B.call(F,A,R):B,R==null)break e;A=U({},A,R);break e;case 2:yn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[_]:R.push(_))}else F={eventTime:F,lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(I=D=F,y=A):D=D.next=F,p|=R;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(D===null&&(y=A),c.baseState=y,c.firstBaseUpdate=I,c.lastBaseUpdate=D,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);$n|=p,e.lanes=p,e.memoizedState=A}}function $d(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(r(191,c));c.call(l)}}}var wi={},Bt=gn(wi),Ci=gn(wi),Ei=gn(wi);function Hn(e){if(e===wi)throw Error(r(174));return e}function ia(e,n){switch(fe(Ei,n),fe(Ci,e),fe(Bt,wi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=sl(n,e)}ge(Bt),fe(Bt,n)}function Ir(){ge(Bt),ge(Ci),ge(Ei)}function Qd(e){Hn(Ei.current);var n=Hn(Bt.current),s=sl(n,e.type);n!==s&&(fe(Ci,e),fe(Bt,s))}function sa(e){Ci.current===e&&(ge(Bt),ge(Ci))}var Ee=gn(0);function $s(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var oa=[];function la(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var Qs=Ce.ReactCurrentDispatcher,aa=Ce.ReactCurrentBatchConfig,Vn=0,Se=null,Oe=null,be=null,Gs=!1,Si=!1,xi=0,y_=0;function Qe(){throw Error(r(321))}function ua(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nt(e[s],n[s]))return!1;return!0}function ca(e,n,s,l,c,d){if(Vn=d,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Qs.current=e===null||e.memoizedState===null?S_:x_,e=s(l,c),Si){d=0;do{if(Si=!1,xi=0,25<=d)throw Error(r(301));d+=1,be=Oe=null,n.updateQueue=null,Qs.current=k_,e=s(l,c)}while(Si)}if(Qs.current=Ys,n=Oe!==null&&Oe.next!==null,Vn=0,be=Oe=Se=null,Gs=!1,n)throw Error(r(300));return e}function da(){var e=xi!==0;return xi=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Se.memoizedState=be=e:be=be.next=e,be}function Et(){if(Oe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=be===null?Se.memoizedState:be.next;if(n!==null)be=n,Oe=e;else{if(e===null)throw Error(r(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},be===null?Se.memoizedState=be=e:be=be.next=e}return be}function ki(e,n){return typeof n=="function"?n(e):n}function fa(e){var n=Et(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Oe,c=l.baseQueue,d=s.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}l.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,l=l.baseState;var _=p=null,y=null,I=d;do{var D=I.lane;if((Vn&D)===D)y!==null&&(y=y.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var A={lane:D,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};y===null?(_=y=A,p=l):y=y.next=A,Se.lanes|=D,$n|=D}I=I.next}while(I!==null&&I!==d);y===null?p=l:y.next=_,Nt(l,n.memoizedState)||(rt=!0),n.memoizedState=l,n.baseState=p,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){c=e;do d=c.lane,Se.lanes|=d,$n|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ha(e){var n=Et(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);Nt(d,n.memoizedState)||(rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Gd(){}function qd(e,n){var s=Se,l=Et(),c=n(),d=!Nt(l.memoizedState,c);if(d&&(l.memoizedState=c,rt=!0),l=l.queue,pa(Xd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,Ii(9,Yd.bind(null,s,l,c,n),void 0,null),Fe===null)throw Error(r(349));(Vn&30)!==0||Kd(s,n,c)}return c}function Kd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Se.updateQueue,n===null?(n={lastEffect:null,stores:null},Se.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Yd(e,n,s,l){n.value=s,n.getSnapshot=l,Jd(n)&&Zd(e)}function Xd(e,n,s){return s(function(){Jd(n)&&Zd(e)})}function Jd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nt(e,s)}catch{return!0}}function Zd(e){var n=Kt(e,1);n!==null&&At(n,e,1,-1)}function ef(e){var n=Wt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n.queue=e,e=e.dispatch=E_.bind(null,Se,e),[n.memoizedState,e]}function Ii(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Se.updateQueue,n===null?(n={lastEffect:null,stores:null},Se.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function tf(){return Et().memoizedState}function qs(e,n,s,l){var c=Wt();Se.flags|=e,c.memoizedState=Ii(1|n,s,void 0,l===void 0?null:l)}function Ks(e,n,s,l){var c=Et();l=l===void 0?null:l;var d=void 0;if(Oe!==null){var p=Oe.memoizedState;if(d=p.destroy,l!==null&&ua(l,p.deps)){c.memoizedState=Ii(n,s,d,l);return}}Se.flags|=e,c.memoizedState=Ii(1|n,s,d,l)}function nf(e,n){return qs(8390656,8,e,n)}function pa(e,n){return Ks(2048,8,e,n)}function rf(e,n){return Ks(4,2,e,n)}function sf(e,n){return Ks(4,4,e,n)}function of(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lf(e,n,s){return s=s!=null?s.concat([e]):null,Ks(4,4,of.bind(null,n,e),s)}function ma(){}function af(e,n){var s=Et();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ua(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function uf(e,n){var s=Et();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ua(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function cf(e,n,s){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=s):(Nt(s,n)||(s=zc(),Se.lanes|=s,$n|=s,e.baseState=!0),n)}function w_(e,n){var s=ue;ue=s!==0&&4>s?s:4,e(!0);var l=aa.transition;aa.transition={};try{e(!1),n()}finally{ue=s,aa.transition=l}}function df(){return Et().memoizedState}function C_(e,n,s){var l=xn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},ff(e))hf(n,s);else if(s=Wd(e,n,s,l),s!==null){var c=Xe();At(s,e,l,c),pf(s,n,l)}}function E_(e,n,s){var l=xn(e),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(ff(e))hf(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,_=d(p,s);if(c.hasEagerState=!0,c.eagerState=_,Nt(_,p)){var y=n.interleaved;y===null?(c.next=c,na(n)):(c.next=y.next,y.next=c),n.interleaved=c;return}}catch{}finally{}s=Wd(e,n,c,l),s!==null&&(c=Xe(),At(s,e,l,c),pf(s,n,l))}}function ff(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function hf(e,n){Si=Gs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pf(e,n,s){if((s&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}var Ys={readContext:Ct,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},S_={readContext:Ct,useCallback:function(e,n){return Wt().memoizedState=[e,n===void 0?null:n],e},useContext:Ct,useEffect:nf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,qs(4194308,4,of.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qs(4194308,4,e,n)},useInsertionEffect:function(e,n){return qs(4,2,e,n)},useMemo:function(e,n){var s=Wt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Wt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=C_.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var n=Wt();return e={current:e},n.memoizedState=e},useState:ef,useDebugValue:ma,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=ef(!1),n=e[0];return e=w_.bind(null,e[1]),Wt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Se,c=Wt();if(we){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Fe===null)throw Error(r(349));(Vn&30)!==0||Kd(l,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,nf(Xd.bind(null,l,d,e),[e]),l.flags|=2048,Ii(9,Yd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Wt(),n=Fe.identifierPrefix;if(we){var s=qt,l=Gt;s=(l&~(1<<32-It(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=xi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=y_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},x_={readContext:Ct,useCallback:af,useContext:Ct,useEffect:pa,useImperativeHandle:lf,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:uf,useReducer:fa,useRef:tf,useState:function(){return fa(ki)},useDebugValue:ma,useDeferredValue:function(e){var n=Et();return cf(n,Oe.memoizedState,e)},useTransition:function(){var e=fa(ki)[0],n=Et().memoizedState;return[e,n]},useMutableSource:Gd,useSyncExternalStore:qd,useId:df,unstable_isNewReconciler:!1},k_={readContext:Ct,useCallback:af,useContext:Ct,useEffect:pa,useImperativeHandle:lf,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:uf,useReducer:ha,useRef:tf,useState:function(){return ha(ki)},useDebugValue:ma,useDeferredValue:function(e){var n=Et();return Oe===null?n.memoizedState=e:cf(n,Oe.memoizedState,e)},useTransition:function(){var e=ha(ki)[0],n=Et().memoizedState;return[e,n]},useMutableSource:Gd,useSyncExternalStore:qd,useId:df,unstable_isNewReconciler:!1};function Rt(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ga(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xs={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Xe(),c=xn(e),d=Yt(l,c);d.payload=n,s!=null&&(d.callback=s),n=wn(e,d,c),n!==null&&(At(n,e,c,l),Hs(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Xe(),c=xn(e),d=Yt(l,c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=wn(e,d,c),n!==null&&(At(n,e,c,l),Hs(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xe(),l=xn(e),c=Yt(s,l);c.tag=2,n!=null&&(c.callback=n),n=wn(e,c,l),n!==null&&(At(n,e,l,s),Hs(n,e,l))}};function mf(e,n,s,l,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):n.prototype&&n.prototype.isPureReactComponent?!fi(s,l)||!fi(c,d):!0}function gf(e,n,s){var l=!1,c=_n,d=n.contextType;return typeof d=="object"&&d!==null?d=Ct(d):(c=nt(n)?zn:$e.current,l=n.contextTypes,d=(l=l!=null)?yr(e,c):_n),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Xs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function _f(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Xs.enqueueReplaceState(n,n.state,null)}function _a(e,n,s,l){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},ra(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=Ct(d):(d=nt(n)?zn:$e.current,c.context=yr(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ga(e,n,d,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Xs.enqueueReplaceState(c,c.state,null),Vs(e,s,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Nr(e,n){try{var s="",l=n;do s+=ie(l),l=l.return;while(l);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function va(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ya(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var I_=typeof WeakMap=="function"?WeakMap:Map;function vf(e,n,s){s=Yt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){io||(io=!0,La=l),ya(e,n)},s}function yf(e,n,s){s=Yt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;s.payload=function(){return l(c)},s.callback=function(){ya(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ya(e,n),typeof l!="function"&&(En===null?En=new Set([this]):En.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),s}function wf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new I_;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(c.add(s),e=U_.bind(null,e,n,s),n.then(e,e))}function Cf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ef(e,n,s,l,c){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Yt(-1,1),n.tag=2,wn(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var N_=Ce.ReactCurrentOwner,rt=!1;function Ye(e,n,s,l){n.child=e===null?Bd(n,null,s,l):Sr(n,e.child,s,l)}function Sf(e,n,s,l,c){s=s.render;var d=n.ref;return kr(n,c),l=ca(e,n,s,l,d,c),s=da(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Xt(e,n,c)):(we&&s&&Gl(n),n.flags|=1,Ye(e,n,l,c),n.child)}function xf(e,n,s,l,c){if(e===null){var d=s.type;return typeof d=="function"&&!Ba(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,kf(e,n,d,l,c)):(e=co(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&c)===0){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:fi,s(p,l)&&e.ref===n.ref)return Xt(e,n,c)}return n.flags|=1,e=In(d,l),e.ref=n.ref,e.return=n,n.child=e}function kf(e,n,s,l,c){if(e!==null){var d=e.memoizedProps;if(fi(d,l)&&e.ref===n.ref)if(rt=!1,n.pendingProps=l=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(rt=!0);else return n.lanes=e.lanes,Xt(e,n,c)}return wa(e,n,s,l,c)}function If(e,n,s){var l=n.pendingProps,c=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Rr,_t),_t|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,fe(Rr,_t),_t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,fe(Rr,_t),_t|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,fe(Rr,_t),_t|=l;return Ye(e,n,c,s),n.child}function Nf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function wa(e,n,s,l,c){var d=nt(s)?zn:$e.current;return d=yr(n,d),kr(n,c),s=ca(e,n,s,l,d,c),l=da(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Xt(e,n,c)):(we&&l&&Gl(n),n.flags|=1,Ye(e,n,s,c),n.child)}function Tf(e,n,s,l,c){if(nt(s)){var d=!0;Ms(n)}else d=!1;if(kr(n,c),n.stateNode===null)Zs(e,n),gf(n,s,l),_a(n,s,l,c),l=!0;else if(e===null){var p=n.stateNode,_=n.memoizedProps;p.props=_;var y=p.context,I=s.contextType;typeof I=="object"&&I!==null?I=Ct(I):(I=nt(s)?zn:$e.current,I=yr(n,I));var D=s.getDerivedStateFromProps,A=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==l||y!==I)&&_f(n,p,l,I),yn=!1;var R=n.memoizedState;p.state=R,Vs(n,l,p,c),y=n.memoizedState,_!==l||R!==y||tt.current||yn?(typeof D=="function"&&(ga(n,s,D,l),y=n.memoizedState),(_=yn||mf(n,s,_,l,R,y,I))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),p.props=l,p.state=y,p.context=I,l=_):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{p=n.stateNode,Hd(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Rt(n.type,_),p.props=I,A=n.pendingProps,R=p.context,y=s.contextType,typeof y=="object"&&y!==null?y=Ct(y):(y=nt(s)?zn:$e.current,y=yr(n,y));var F=s.getDerivedStateFromProps;(D=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==A||R!==y)&&_f(n,p,l,y),yn=!1,R=n.memoizedState,p.state=R,Vs(n,l,p,c);var B=n.memoizedState;_!==A||R!==B||tt.current||yn?(typeof F=="function"&&(ga(n,s,F,l),B=n.memoizedState),(I=yn||mf(n,s,I,l,R,B,y)||!1)?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,B,y),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,B,y)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),p.props=l,p.state=B,p.context=y,l=I):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return Ca(e,n,s,l,d,c)}function Ca(e,n,s,l,c,d){Nf(e,n);var p=(n.flags&128)!==0;if(!l&&!p)return c&&Ad(n,s,!1),Xt(e,n,d);l=n.stateNode,N_.current=n;var _=p&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&p?(n.child=Sr(n,e.child,null,d),n.child=Sr(n,null,_,d)):Ye(e,n,_,d),n.memoizedState=l.state,c&&Ad(n,s,!0),n.child}function Rf(e){var n=e.stateNode;n.pendingContext?Pd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Pd(e,n.context,!1),ia(e,n.containerInfo)}function Pf(e,n,s,l,c){return Er(),Xl(c),n.flags|=256,Ye(e,n,s,l),n.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Df(e,n,s){var l=n.pendingProps,c=Ee.current,d=!1,p=(n.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),fe(Ee,c&1),e===null)return Yl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(p=l.children,e=l.fallback,d?(l=n.mode,d=n.child,p={mode:"hidden",children:p},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=fo(p,l,0,null),e=Kn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Sa(s),n.memoizedState=Ea,e):xa(n,p));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return T_(e,n,p,l,_,c,s);if(d){d=l.fallback,p=n.mode,c=e.child,_=c.sibling;var y={mode:"hidden",children:l.children};return(p&1)===0&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=In(c,y),l.subtreeFlags=c.subtreeFlags&14680064),_!==null?d=In(_,d):(d=Kn(d,p,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,p=e.child.memoizedState,p=p===null?Sa(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~s,n.memoizedState=Ea,l}return d=e.child,e=d.sibling,l=In(d,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function xa(e,n){return n=fo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Js(e,n,s,l){return l!==null&&Xl(l),Sr(n,e.child,null,s),e=xa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function T_(e,n,s,l,c,d,p){if(s)return n.flags&256?(n.flags&=-257,l=va(Error(r(422))),Js(e,n,p,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,c=n.mode,l=fo({mode:"visible",children:l.children},c,0,null),d=Kn(d,c,p,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,(n.mode&1)!==0&&Sr(n,e.child,null,p),n.child.memoizedState=Sa(p),n.memoizedState=Ea,d);if((n.mode&1)===0)return Js(e,n,p,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=va(d,l,void 0),Js(e,n,p,l)}if(_=(p&e.childLanes)!==0,rt||_){if(l=Fe,l!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|p))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Kt(e,c),At(l,e,c,-1))}return Ua(),l=va(Error(r(421))),Js(e,n,p,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=B_.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,gt=mn(c.nextSibling),mt=n,we=!0,Tt=null,e!==null&&(yt[wt++]=Gt,yt[wt++]=qt,yt[wt++]=Un,Gt=e.id,qt=e.overflow,Un=n),n=xa(n,l.children),n.flags|=4096,n)}function Af(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ta(e.return,n,s)}function ka(e,n,s,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=c)}function Of(e,n,s){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(Ye(e,n,l.children,s),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Af(e,s,n);else if(e.tag===19)Af(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(fe(Ee,l),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&$s(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ka(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&$s(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ka(n,!0,s,null,d);break;case"together":ka(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),$n|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=In(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=In(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function R_(e,n,s){switch(n.tag){case 3:Rf(n),Er();break;case 5:Qd(n);break;case 1:nt(n.type)&&Ms(n);break;case 4:ia(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;fe(Bs,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(fe(Ee,Ee.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Df(e,n,s):(fe(Ee,Ee.current&1),e=Xt(e,n,s),e!==null?e.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Of(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),fe(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,If(e,n,s)}return Xt(e,n,s)}var Lf,Ia,Mf,bf;Lf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ia=function(){},Mf=function(e,n,s,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,Hn(Bt.current);var d=null;switch(s){case"input":c=tl(e,c),l=tl(e,l),d=[];break;case"select":c=U({},c,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":c=il(e,c),l=il(e,l),d=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=As)}ol(s,l);var p;s=null;for(I in c)if(!l.hasOwnProperty(I)&&c.hasOwnProperty(I)&&c[I]!=null)if(I==="style"){var _=c[I];for(p in _)_.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?d||(d=[]):(d=d||[]).push(I,null));for(I in l){var y=l[I];if(_=c!=null?c[I]:void 0,l.hasOwnProperty(I)&&y!==_&&(y!=null||_!=null))if(I==="style")if(_){for(p in _)!_.hasOwnProperty(p)||y&&y.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in y)y.hasOwnProperty(p)&&_[p]!==y[p]&&(s||(s={}),s[p]=y[p])}else s||(d||(d=[]),d.push(I,s)),s=y;else I==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(d=d||[]).push(I,y)):I==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(I,""+y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(y!=null&&I==="onScroll"&&me("scroll",e),d||_===y||(d=[])):(d=d||[]).push(I,y))}s&&(d=d||[]).push("style",s);var I=d;(n.updateQueue=I)&&(n.flags|=4)}},bf=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ni(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function P_(e,n,s){var l=n.pendingProps;switch(ql(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return nt(n.type)&&Ls(),Ge(n),null;case 3:return l=n.stateNode,Ir(),ge(tt),ge($e),la(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tt!==null&&(Fa(Tt),Tt=null))),Ia(e,n),Ge(n),null;case 5:sa(n);var c=Hn(Ei.current);if(s=n.type,e!==null&&n.stateNode!=null)Mf(e,n,s,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}if(e=Hn(Bt.current),zs(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Ut]=n,l[_i]=d,e=(n.mode&1)!==0,s){case"dialog":me("cancel",l),me("close",l);break;case"iframe":case"object":case"embed":me("load",l);break;case"video":case"audio":for(c=0;c<pi.length;c++)me(pi[c],l);break;case"source":me("error",l);break;case"img":case"image":case"link":me("error",l),me("load",l);break;case"details":me("toggle",l);break;case"input":mc(l,d),me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},me("invalid",l);break;case"textarea":vc(l,d),me("invalid",l)}ol(s,d),c=null;for(var p in d)if(d.hasOwnProperty(p)){var _=d[p];p==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Ds(l.textContent,_,e),c=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Ds(l.textContent,_,e),c=["children",""+_]):a.hasOwnProperty(p)&&_!=null&&p==="onScroll"&&me("scroll",l)}switch(s){case"input":as(l),_c(l,d,!0);break;case"textarea":as(l),wc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=As)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=p.createElement(s,{is:l.is}):(e=p.createElement(s),s==="select"&&(p=e,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):e=p.createElementNS(e,s),e[Ut]=n,e[_i]=l,Lf(e,n,!1,!1),n.stateNode=e;e:{switch(p=ll(s,l),s){case"dialog":me("cancel",e),me("close",e),c=l;break;case"iframe":case"object":case"embed":me("load",e),c=l;break;case"video":case"audio":for(c=0;c<pi.length;c++)me(pi[c],e);c=l;break;case"source":me("error",e),c=l;break;case"img":case"image":case"link":me("error",e),me("load",e),c=l;break;case"details":me("toggle",e),c=l;break;case"input":mc(e,l),c=tl(e,l),me("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=U({},l,{value:void 0}),me("invalid",e);break;case"textarea":vc(e,l),c=il(e,l),me("invalid",e);break;default:c=l}ol(s,c),_=c;for(d in _)if(_.hasOwnProperty(d)){var y=_[d];d==="style"?xc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Ec(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Kr(e,y):typeof y=="number"&&Kr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&me("scroll",e):y!=null&&ve(e,d,y,p))}switch(s){case"input":as(e),_c(e,l,!1);break;case"textarea":as(e),wc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ae(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?lr(e,!!l.multiple,d,!1):l.defaultValue!=null&&lr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=As)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ge(n),null;case 6:if(e&&n.stateNode!=null)bf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Hn(Ei.current),Hn(Bt.current),zs(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ut]=n,(d=l.nodeValue!==s)&&(e=mt,e!==null))switch(e.tag){case 3:Ds(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ut]=n,n.stateNode=l}return Ge(n),null;case 13:if(ge(Ee),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&gt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)jd(),Er(),n.flags|=98560,d=!1;else if(d=zs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else Tt!==null&&(Fa(Tt),Tt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ee.current&1)!==0?Le===0&&(Le=3):Ua())),n.updateQueue!==null&&(n.flags|=4),Ge(n),null);case 4:return Ir(),Ia(e,n),e===null&&mi(n.stateNode.containerInfo),Ge(n),null;case 10:return ea(n.type._context),Ge(n),null;case 17:return nt(n.type)&&Ls(),Ge(n),null;case 19:if(ge(Ee),d=n.memoizedState,d===null)return Ge(n),null;if(l=(n.flags&128)!==0,p=d.rendering,p===null)if(l)Ni(d,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=$s(e),p!==null){for(n.flags|=128,Ni(d,!1),l=p.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return fe(Ee,Ee.current&1|2),n.child}e=e.sibling}d.tail!==null&&Re()>Pr&&(n.flags|=128,l=!0,Ni(d,!1),n.lanes=4194304)}else{if(!l)if(e=$s(p),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ni(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!we)return Ge(n),null}else 2*Re()-d.renderingStartTime>Pr&&s!==1073741824&&(n.flags|=128,l=!0,Ni(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(s=d.last,s!==null?s.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Re(),n.sibling=null,s=Ee.current,fe(Ee,l?s&1|2:s&1),n):(Ge(n),null);case 22:case 23:return za(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(_t&1073741824)!==0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function D_(e,n){switch(ql(n),n.tag){case 1:return nt(n.type)&&Ls(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ir(),ge(tt),ge($e),la(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return sa(n),null;case 13:if(ge(Ee),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ge(Ee),null;case 4:return Ir(),null;case 10:return ea(n.type._context),null;case 22:case 23:return za(),null;case 24:return null;default:return null}}var eo=!1,qe=!1,A_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Tr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ie(e,n,l)}else s.current=null}function Na(e,n,s){try{s()}catch(l){Ie(e,n,l)}}var Ff=!1;function O_(e,n){if(zl=ws,e=pd(),Dl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var p=0,_=-1,y=-1,I=0,D=0,A=e,R=null;t:for(;;){for(var F;A!==s||c!==0&&A.nodeType!==3||(_=p+c),A!==d||l!==0&&A.nodeType!==3||(y=p+l),A.nodeType===3&&(p+=A.nodeValue.length),(F=A.firstChild)!==null;)R=A,A=F;for(;;){if(A===e)break t;if(R===s&&++I===c&&(_=p),R===d&&++D===l&&(y=p),(F=A.nextSibling)!==null)break;A=R,R=A.parentNode}A=F}s=_===-1||y===-1?null:{start:_,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ul={focusedElem:e,selectionRange:s},ws=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Pe=B.memoizedState,x=n.stateNode,C=x.getSnapshotBeforeUpdate(n.elementType===n.type?W:Rt(n.type,W),Pe);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(O){Ie(n,n.return,O)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=Ff,Ff=!1,B}function Ti(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Na(n,s,d)}c=c.next}while(c!==l)}}function to(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Ta(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function jf(e){var n=e.alternate;n!==null&&(e.alternate=null,jf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ut],delete n[_i],delete n[Vl],delete n[m_],delete n[g_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zf(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=As));else if(l!==4&&(e=e.child,e!==null))for(Ra(e,n,s),e=e.sibling;e!==null;)Ra(e,n,s),e=e.sibling}function Pa(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Pa(e,n,s),e=e.sibling;e!==null;)Pa(e,n,s),e=e.sibling}var We=null,Pt=!1;function Cn(e,n,s){for(s=s.child;s!==null;)Bf(e,n,s),s=s.sibling}function Bf(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ps,s)}catch{}switch(s.tag){case 5:qe||Tr(s,n);case 6:var l=We,c=Pt;We=null,Cn(e,n,s),We=l,Pt=c,We!==null&&(Pt?(e=We,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):We.removeChild(s.stateNode));break;case 18:We!==null&&(Pt?(e=We,s=s.stateNode,e.nodeType===8?Hl(e.parentNode,s):e.nodeType===1&&Hl(e,s),oi(e)):Hl(We,s.stateNode));break;case 4:l=We,c=Pt,We=s.stateNode.containerInfo,Pt=!0,Cn(e,n,s),We=l,Pt=c;break;case 0:case 11:case 14:case 15:if(!qe&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var d=c,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Na(s,n,p),c=c.next}while(c!==l)}Cn(e,n,s);break;case 1:if(!qe&&(Tr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){Ie(s,n,_)}Cn(e,n,s);break;case 21:Cn(e,n,s);break;case 22:s.mode&1?(qe=(l=qe)||s.memoizedState!==null,Cn(e,n,s),qe=l):Cn(e,n,s);break;default:Cn(e,n,s)}}function Wf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new A_),n.forEach(function(l){var c=W_.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}}function Dt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var d=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 5:We=_.stateNode,Pt=!1;break e;case 3:We=_.stateNode.containerInfo,Pt=!0;break e;case 4:We=_.stateNode.containerInfo,Pt=!0;break e}_=_.return}if(We===null)throw Error(r(160));Bf(d,p,c),We=null,Pt=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(I){Ie(c,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Hf(n,e),n=n.sibling}function Hf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(n,e),Ht(e),l&4){try{Ti(3,e,e.return),to(3,e)}catch(W){Ie(e,e.return,W)}try{Ti(5,e,e.return)}catch(W){Ie(e,e.return,W)}}break;case 1:Dt(n,e),Ht(e),l&512&&s!==null&&Tr(s,s.return);break;case 5:if(Dt(n,e),Ht(e),l&512&&s!==null&&Tr(s,s.return),e.flags&32){var c=e.stateNode;try{Kr(c,"")}catch(W){Ie(e,e.return,W)}}if(l&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,p=s!==null?s.memoizedProps:d,_=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&gc(c,d),ll(_,p);var I=ll(_,d);for(p=0;p<y.length;p+=2){var D=y[p],A=y[p+1];D==="style"?xc(c,A):D==="dangerouslySetInnerHTML"?Ec(c,A):D==="children"?Kr(c,A):ve(c,D,A,I)}switch(_){case"input":nl(c,d);break;case"textarea":yc(c,d);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?lr(c,!!d.multiple,F,!1):R!==!!d.multiple&&(d.defaultValue!=null?lr(c,!!d.multiple,d.defaultValue,!0):lr(c,!!d.multiple,d.multiple?[]:"",!1))}c[_i]=d}catch(W){Ie(e,e.return,W)}}break;case 6:if(Dt(n,e),Ht(e),l&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(W){Ie(e,e.return,W)}}break;case 3:if(Dt(n,e),Ht(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{oi(n.containerInfo)}catch(W){Ie(e,e.return,W)}break;case 4:Dt(n,e),Ht(e);break;case 13:Dt(n,e),Ht(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Oa=Re())),l&4&&Wf(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(qe=(I=qe)||D,Dt(n,e),qe=I):Dt(n,e),Ht(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!D&&(e.mode&1)!==0)for(z=e,D=e.child;D!==null;){for(A=z=D;z!==null;){switch(R=z,F=R.child,R.tag){case 0:case 11:case 14:case 15:Ti(4,R,R.return);break;case 1:Tr(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){l=R,s=R.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Ie(l,s,W)}}break;case 5:Tr(R,R.return);break;case 22:if(R.memoizedState!==null){Qf(A);continue}}F!==null?(F.return=R,z=F):Qf(A)}D=D.sibling}e:for(D=null,A=e;;){if(A.tag===5){if(D===null){D=A;try{c=A.stateNode,I?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=A.stateNode,y=A.memoizedProps.style,p=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=Sc("display",p))}catch(W){Ie(e,e.return,W)}}}else if(A.tag===6){if(D===null)try{A.stateNode.nodeValue=I?"":A.memoizedProps}catch(W){Ie(e,e.return,W)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;D===A&&(D=null),A=A.return}D===A&&(D=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Dt(n,e),Ht(e),l&4&&Wf(e);break;case 21:break;default:Dt(n,e),Ht(e)}}function Ht(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(zf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(Kr(c,""),l.flags&=-33);var d=Uf(e);Pa(e,d,c);break;case 3:case 4:var p=l.stateNode.containerInfo,_=Uf(e);Ra(e,_,p);break;default:throw Error(r(161))}}catch(y){Ie(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function L_(e,n,s){z=e,Vf(e)}function Vf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var c=z,d=c.child;if(c.tag===22&&l){var p=c.memoizedState!==null||eo;if(!p){var _=c.alternate,y=_!==null&&_.memoizedState!==null||qe;_=eo;var I=qe;if(eo=p,(qe=y)&&!I)for(z=c;z!==null;)p=z,y=p.child,p.tag===22&&p.memoizedState!==null?Gf(c):y!==null?(y.return=p,z=y):Gf(c);for(;d!==null;)z=d,Vf(d),d=d.sibling;z=c,eo=_,qe=I}$f(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,z=d):$f(e)}}function $f(e){for(;z!==null;){var n=z;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:qe||to(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!qe)if(s===null)l.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Rt(n.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&$d(n,d,l);break;case 3:var p=n.updateQueue;if(p!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}$d(n,p,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var D=I.memoizedState;if(D!==null){var A=D.dehydrated;A!==null&&oi(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}qe||n.flags&512&&Ta(n)}catch(R){Ie(n,n.return,R)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Qf(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Gf(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{to(4,n)}catch(y){Ie(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(y){Ie(n,c,y)}}var d=n.return;try{Ta(n)}catch(y){Ie(n,d,y)}break;case 5:var p=n.return;try{Ta(n)}catch(y){Ie(n,p,y)}}}catch(y){Ie(n,n.return,y)}if(n===e){z=null;break}var _=n.sibling;if(_!==null){_.return=n.return,z=_;break}z=n.return}}var M_=Math.ceil,no=Ce.ReactCurrentDispatcher,Da=Ce.ReactCurrentOwner,St=Ce.ReactCurrentBatchConfig,re=0,Fe=null,De=null,He=0,_t=0,Rr=gn(0),Le=0,Ri=null,$n=0,ro=0,Aa=0,Pi=null,it=null,Oa=0,Pr=1/0,Jt=null,io=!1,La=null,En=null,so=!1,Sn=null,oo=0,Di=0,Ma=null,lo=-1,ao=0;function Xe(){return(re&6)!==0?Re():lo!==-1?lo:lo=Re()}function xn(e){return(e.mode&1)===0?1:(re&2)!==0&&He!==0?He&-He:v_.transition!==null?(ao===0&&(ao=zc()),ao):(e=ue,e!==0||(e=window.event,e=e===void 0?16:qc(e.type)),e)}function At(e,n,s,l){if(50<Di)throw Di=0,Ma=null,Error(r(185));ti(e,s,l),((re&2)===0||e!==Fe)&&(e===Fe&&((re&2)===0&&(ro|=s),Le===4&&kn(e,He)),st(e,l),s===1&&re===0&&(n.mode&1)===0&&(Pr=Re()+500,bs&&vn()))}function st(e,n){var s=e.callbackNode;vg(e,n);var l=_s(e,e===Fe?He:0);if(l===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&bc(s),n===1)e.tag===0?__(Kf.bind(null,e)):Od(Kf.bind(null,e)),h_(function(){(re&6)===0&&vn()}),s=null;else{switch(Uc(l)){case 1:s=pl;break;case 4:s=Fc;break;case 16:s=hs;break;case 536870912:s=jc;break;default:s=hs}s=rh(s,qf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function qf(e,n){if(lo=-1,ao=0,(re&6)!==0)throw Error(r(327));var s=e.callbackNode;if(Dr()&&e.callbackNode!==s)return null;var l=_s(e,e===Fe?He:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=uo(e,l);else{n=l;var c=re;re|=2;var d=Xf();(Fe!==e||He!==n)&&(Jt=null,Pr=Re()+500,Gn(e,n));do try{j_();break}catch(_){Yf(e,_)}while(!0);Zl(),no.current=d,re=c,De!==null?n=0:(Fe=null,He=0,n=Le)}if(n!==0){if(n===2&&(c=ml(e),c!==0&&(l=c,n=ba(e,c))),n===1)throw s=Ri,Gn(e,0),kn(e,l),st(e,Re()),s;if(n===6)kn(e,l);else{if(c=e.current.alternate,(l&30)===0&&!b_(c)&&(n=uo(e,l),n===2&&(d=ml(e),d!==0&&(l=d,n=ba(e,d))),n===1))throw s=Ri,Gn(e,0),kn(e,l),st(e,Re()),s;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:qn(e,it,Jt);break;case 3:if(kn(e,l),(l&130023424)===l&&(n=Oa+500-Re(),10<n)){if(_s(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){Xe(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Wl(qn.bind(null,e,it,Jt),n);break}qn(e,it,Jt);break;case 4:if(kn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var p=31-It(l);d=1<<p,p=n[p],p>c&&(c=p),l&=~d}if(l=c,l=Re()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*M_(l/1960))-l,10<l){e.timeoutHandle=Wl(qn.bind(null,e,it,Jt),l);break}qn(e,it,Jt);break;case 5:qn(e,it,Jt);break;default:throw Error(r(329))}}}return st(e,Re()),e.callbackNode===s?qf.bind(null,e):null}function ba(e,n){var s=Pi;return e.current.memoizedState.isDehydrated&&(Gn(e,n).flags|=256),e=uo(e,n),e!==2&&(n=it,it=s,n!==null&&Fa(n)),e}function Fa(e){it===null?it=e:it.push.apply(it,e)}function b_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!Nt(d(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kn(e,n){for(n&=~Aa,n&=~ro,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-It(n),l=1<<s;e[s]=-1,n&=~l}}function Kf(e){if((re&6)!==0)throw Error(r(327));Dr();var n=_s(e,0);if((n&1)===0)return st(e,Re()),null;var s=uo(e,n);if(e.tag!==0&&s===2){var l=ml(e);l!==0&&(n=l,s=ba(e,l))}if(s===1)throw s=Ri,Gn(e,0),kn(e,n),st(e,Re()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qn(e,it,Jt),st(e,Re()),null}function ja(e,n){var s=re;re|=1;try{return e(n)}finally{re=s,re===0&&(Pr=Re()+500,bs&&vn())}}function Qn(e){Sn!==null&&Sn.tag===0&&(re&6)===0&&Dr();var n=re;re|=1;var s=St.transition,l=ue;try{if(St.transition=null,ue=1,e)return e()}finally{ue=l,St.transition=s,re=n,(re&6)===0&&vn()}}function za(){_t=Rr.current,ge(Rr)}function Gn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,f_(s)),De!==null)for(s=De.return;s!==null;){var l=s;switch(ql(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ls();break;case 3:Ir(),ge(tt),ge($e),la();break;case 5:sa(l);break;case 4:Ir();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:ea(l.type._context);break;case 22:case 23:za()}s=s.return}if(Fe=e,De=e=In(e.current,null),He=_t=n,Le=0,Ri=null,Aa=ro=$n=0,it=Pi=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,d=s.pending;if(d!==null){var p=d.next;d.next=c,l.next=p}s.pending=l}Wn=null}return e}function Yf(e,n){do{var s=De;try{if(Zl(),Qs.current=Ys,Gs){for(var l=Se.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Gs=!1}if(Vn=0,be=Oe=Se=null,Si=!1,xi=0,Da.current=null,s===null||s.return===null){Le=1,Ri=n,De=null;break}e:{var d=e,p=s.return,_=s,y=n;if(n=He,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=y,D=_,A=D.tag;if((D.mode&1)===0&&(A===0||A===11||A===15)){var R=D.alternate;R?(D.updateQueue=R.updateQueue,D.memoizedState=R.memoizedState,D.lanes=R.lanes):(D.updateQueue=null,D.memoizedState=null)}var F=Cf(p);if(F!==null){F.flags&=-257,Ef(F,p,_,d,n),F.mode&1&&wf(d,I,n),n=F,y=I;var B=n.updateQueue;if(B===null){var W=new Set;W.add(y),n.updateQueue=W}else B.add(y);break e}else{if((n&1)===0){wf(d,I,n),Ua();break e}y=Error(r(426))}}else if(we&&_.mode&1){var Pe=Cf(p);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),Ef(Pe,p,_,d,n),Xl(Nr(y,_));break e}}d=y=Nr(y,_),Le!==4&&(Le=2),Pi===null?Pi=[d]:Pi.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var x=vf(d,y,n);Vd(d,x);break e;case 1:_=y;var C=d.type,k=d.stateNode;if((d.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(En===null||!En.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var O=yf(d,_,n);Vd(d,O);break e}}d=d.return}while(d!==null)}Zf(s)}catch(H){n=H,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Xf(){var e=no.current;return no.current=Ys,e===null?Ys:e}function Ua(){(Le===0||Le===3||Le===2)&&(Le=4),Fe===null||($n&268435455)===0&&(ro&268435455)===0||kn(Fe,He)}function uo(e,n){var s=re;re|=2;var l=Xf();(Fe!==e||He!==n)&&(Jt=null,Gn(e,n));do try{F_();break}catch(c){Yf(e,c)}while(!0);if(Zl(),re=s,no.current=l,De!==null)throw Error(r(261));return Fe=null,He=0,Le}function F_(){for(;De!==null;)Jf(De)}function j_(){for(;De!==null&&!ug();)Jf(De)}function Jf(e){var n=nh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,n===null?Zf(e):De=n,Da.current=null}function Zf(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=P_(s,n,_t),s!==null){De=s;return}}else{if(s=D_(s,n),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,De=null;return}}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);Le===0&&(Le=5)}function qn(e,n,s){var l=ue,c=St.transition;try{St.transition=null,ue=1,z_(e,n,s,l)}finally{St.transition=c,ue=l}return null}function z_(e,n,s,l){do Dr();while(Sn!==null);if((re&6)!==0)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(yg(e,d),e===Fe&&(De=Fe=null,He=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||so||(so=!0,rh(hs,function(){return Dr(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=St.transition,St.transition=null;var p=ue;ue=1;var _=re;re|=4,Da.current=null,O_(e,s),Hf(s,e),s_(Ul),ws=!!zl,Ul=zl=null,e.current=s,L_(s),cg(),re=_,ue=p,St.transition=d}else e.current=s;if(so&&(so=!1,Sn=e,oo=c),d=e.pendingLanes,d===0&&(En=null),hg(s.stateNode),st(e,Re()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(io)throw io=!1,e=La,La=null,e;return(oo&1)!==0&&e.tag!==0&&Dr(),d=e.pendingLanes,(d&1)!==0?e===Ma?Di++:(Di=0,Ma=e):Di=0,vn(),null}function Dr(){if(Sn!==null){var e=Uc(oo),n=St.transition,s=ue;try{if(St.transition=null,ue=16>e?16:e,Sn===null)var l=!1;else{if(e=Sn,Sn=null,oo=0,(re&6)!==0)throw Error(r(331));var c=re;for(re|=4,z=e.current;z!==null;){var d=z,p=d.child;if((z.flags&16)!==0){var _=d.deletions;if(_!==null){for(var y=0;y<_.length;y++){var I=_[y];for(z=I;z!==null;){var D=z;switch(D.tag){case 0:case 11:case 15:Ti(8,D,d)}var A=D.child;if(A!==null)A.return=D,z=A;else for(;z!==null;){D=z;var R=D.sibling,F=D.return;if(jf(D),D===I){z=null;break}if(R!==null){R.return=F,z=R;break}z=F}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Pe=W.sibling;W.sibling=null,W=Pe}while(W!==null)}}z=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,z=p;else e:for(;z!==null;){if(d=z,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ti(9,d,d.return)}var x=d.sibling;if(x!==null){x.return=d.return,z=x;break e}z=d.return}}var C=e.current;for(z=C;z!==null;){p=z;var k=p.child;if((p.subtreeFlags&2064)!==0&&k!==null)k.return=p,z=k;else e:for(p=C;z!==null;){if(_=z,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:to(9,_)}}catch(H){Ie(_,_.return,H)}if(_===p){z=null;break e}var O=_.sibling;if(O!==null){O.return=_.return,z=O;break e}z=_.return}}if(re=c,vn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ps,e)}catch{}l=!0}return l}finally{ue=s,St.transition=n}}return!1}function eh(e,n,s){n=Nr(s,n),n=vf(e,n,1),e=wn(e,n,1),n=Xe(),e!==null&&(ti(e,1,n),st(e,n))}function Ie(e,n,s){if(e.tag===3)eh(e,e,s);else for(;n!==null;){if(n.tag===3){eh(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(En===null||!En.has(l))){e=Nr(s,e),e=yf(n,e,1),n=wn(n,e,1),e=Xe(),n!==null&&(ti(n,1,e),st(n,e));break}}n=n.return}}function U_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Xe(),e.pingedLanes|=e.suspendedLanes&s,Fe===e&&(He&s)===s&&(Le===4||Le===3&&(He&130023424)===He&&500>Re()-Oa?Gn(e,0):Aa|=s),st(e,n)}function th(e,n){n===0&&((e.mode&1)===0?n=1:(n=gs,gs<<=1,(gs&130023424)===0&&(gs=4194304)));var s=Xe();e=Kt(e,n),e!==null&&(ti(e,n,s),st(e,s))}function B_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),th(e,s)}function W_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),th(e,s)}var nh;nh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||tt.current)rt=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return rt=!1,R_(e,n,s);rt=(e.flags&131072)!==0}else rt=!1,we&&(n.flags&1048576)!==0&&Ld(n,js,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Zs(e,n),e=n.pendingProps;var c=yr(n,$e.current);kr(n,s),c=ca(null,n,l,e,c,s);var d=da();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nt(l)?(d=!0,Ms(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ra(n),c.updater=Xs,n.stateNode=c,c._reactInternals=n,_a(n,l,e,s),n=Ca(null,n,l,!0,d,s)):(n.tag=0,we&&d&&Gl(n),Ye(null,n,c,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Zs(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=V_(l),e=Rt(l,e),c){case 0:n=wa(null,n,l,e,s);break e;case 1:n=Tf(null,n,l,e,s);break e;case 11:n=Sf(null,n,l,e,s);break e;case 14:n=xf(null,n,l,Rt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Rt(l,c),wa(e,n,l,c,s);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Rt(l,c),Tf(e,n,l,c,s);case 3:e:{if(Rf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,c=d.element,Hd(e,n),Vs(n,l,null,s);var p=n.memoizedState;if(l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Nr(Error(r(423)),n),n=Pf(e,n,l,s,c);break e}else if(l!==c){c=Nr(Error(r(424)),n),n=Pf(e,n,l,s,c);break e}else for(gt=mn(n.stateNode.containerInfo.firstChild),mt=n,we=!0,Tt=null,s=Bd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Er(),l===c){n=Xt(e,n,s);break e}Ye(e,n,l,s)}n=n.child}return n;case 5:return Qd(n),e===null&&Yl(n),l=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,p=c.children,Bl(l,c)?p=null:d!==null&&Bl(l,d)&&(n.flags|=32),Nf(e,n),Ye(e,n,p,s),n.child;case 6:return e===null&&Yl(n),null;case 13:return Df(e,n,s);case 4:return ia(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Sr(n,null,l,s):Ye(e,n,l,s),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Rt(l,c),Sf(e,n,l,c,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,d=n.memoizedProps,p=c.value,fe(Bs,l._currentValue),l._currentValue=p,d!==null)if(Nt(d.value,p)){if(d.children===c.children&&!tt.current){n=Xt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){p=d.child;for(var y=_.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=Yt(-1,s&-s),y.tag=2;var I=d.updateQueue;if(I!==null){I=I.shared;var D=I.pending;D===null?y.next=y:(y.next=D.next,D.next=y),I.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),ta(d.return,s,n),_.lanes|=s;break}y=y.next}}else if(d.tag===10)p=d.type===n.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(r(341));p.lanes|=s,_=p.alternate,_!==null&&(_.lanes|=s),ta(p,s,n),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===n){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ye(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,kr(n,s),c=Ct(c),l=l(c),n.flags|=1,Ye(e,n,l,s),n.child;case 14:return l=n.type,c=Rt(l,n.pendingProps),c=Rt(l.type,c),xf(e,n,l,c,s);case 15:return kf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Rt(l,c),Zs(e,n),n.tag=1,nt(l)?(e=!0,Ms(n)):e=!1,kr(n,s),gf(n,l,c),_a(n,l,c,s),Ca(null,n,l,!0,e,s);case 19:return Of(e,n,s);case 22:return If(e,n,s)}throw Error(r(156,n.tag))};function rh(e,n){return Mc(e,n)}function H_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,n,s,l){return new H_(e,n,s,l)}function Ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V_(e){if(typeof e=="function")return Ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ft)return 11;if(e===jt)return 14}return 2}function In(e,n){var s=e.alternate;return s===null?(s=xt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function co(e,n,s,l,c,d){var p=2;if(l=e,typeof e=="function")Ba(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Ze:return Kn(s.children,c,d,n);case vt:p=8,c|=8;break;case an:return e=xt(12,s,n,c|2),e.elementType=an,e.lanes=d,e;case ft:return e=xt(13,s,n,c),e.elementType=ft,e.lanes=d,e;case kt:return e=xt(19,s,n,c),e.elementType=kt,e.lanes=d,e;case ke:return fo(s,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vt:p=10;break e;case bn:p=9;break e;case Ft:p=11;break e;case jt:p=14;break e;case et:p=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=xt(p,s,n,c),n.elementType=e,n.type=l,n.lanes=d,n}function Kn(e,n,s,l){return e=xt(7,e,l,n),e.lanes=s,e}function fo(e,n,s,l){return e=xt(22,e,l,n),e.elementType=ke,e.lanes=s,e.stateNode={isHidden:!1},e}function Wa(e,n,s){return e=xt(6,e,null,n),e.lanes=s,e}function Ha(e,n,s){return n=xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $_(e,n,s,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Va(e,n,s,l,c,d,p,_,y){return e=new $_(e,n,s,_,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=xt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(d),e}function Q_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function ih(e){if(!e)return _n;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(nt(s))return Dd(e,s,n)}return n}function sh(e,n,s,l,c,d,p,_,y){return e=Va(s,l,!0,e,c,d,p,_,y),e.context=ih(null),s=e.current,l=Xe(),c=xn(s),d=Yt(l,c),d.callback=n??null,wn(s,d,c),e.current.lanes=c,ti(e,c,l),st(e,l),e}function ho(e,n,s,l){var c=n.current,d=Xe(),p=xn(c);return s=ih(s),n.context===null?n.context=s:n.pendingContext=s,n=Yt(d,p),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=wn(c,n,p),e!==null&&(At(e,c,p,d),Hs(e,c,p)),p}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function $a(e,n){oh(e,n),(e=e.alternate)&&oh(e,n)}function G_(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qa(e){this._internalRoot=e}mo.prototype.render=Qa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ho(e,n,null,null)},mo.prototype.unmount=Qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qn(function(){ho(null,e,null,null)}),n[$t]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<fn.length&&n!==0&&n<fn[s].priority;s++);fn.splice(s,0,e),s===0&&Qc(e)}};function Ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ah(){}function q_(e,n,s,l,c){if(c){if(typeof l=="function"){var d=l;l=function(){var I=po(p);d.call(I)}}var p=sh(n,l,e,0,null,!1,!1,"",ah);return e._reactRootContainer=p,e[$t]=p.current,mi(e.nodeType===8?e.parentNode:e),Qn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var _=l;l=function(){var I=po(y);_.call(I)}}var y=Va(e,0,!1,null,null,!1,!1,"",ah);return e._reactRootContainer=y,e[$t]=y.current,mi(e.nodeType===8?e.parentNode:e),Qn(function(){ho(n,y,s,l)}),y}function _o(e,n,s,l,c){var d=s._reactRootContainer;if(d){var p=d;if(typeof c=="function"){var _=c;c=function(){var y=po(p);_.call(y)}}ho(n,p,e,c)}else p=q_(s,n,e,c,l);return po(p)}Bc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ei(n.pendingLanes);s!==0&&(_l(n,s|1),st(n,Re()),(re&6)===0&&(Pr=Re()+500,vn()))}break;case 13:Qn(function(){var l=Kt(e,1);if(l!==null){var c=Xe();At(l,e,1,c)}}),$a(e,1)}},vl=function(e){if(e.tag===13){var n=Kt(e,134217728);if(n!==null){var s=Xe();At(n,e,134217728,s)}$a(e,134217728)}},Wc=function(e){if(e.tag===13){var n=xn(e),s=Kt(e,n);if(s!==null){var l=Xe();At(s,e,n,l)}$a(e,n)}},Hc=function(){return ue},Vc=function(e,n){var s=ue;try{return ue=e,n()}finally{ue=s}},cl=function(e,n,s){switch(n){case"input":if(nl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=Os(l);if(!c)throw Error(r(90));pc(l),nl(l,c)}}}break;case"textarea":yc(e,s);break;case"select":n=s.value,n!=null&&lr(e,!!s.multiple,n,!1)}},Tc=ja,Rc=Qn;var K_={usingClientEntryPoint:!1,Events:[vi,_r,Os,Ic,Nc,ja]},Ai={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y_={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Oc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||G_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{ps=vo.inject(Y_),zt=vo}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_,ot.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ga(n))throw Error(r(200));return Q_(e,n,null,s)},ot.createRoot=function(e,n){if(!Ga(e))throw Error(r(299));var s=!1,l="",c=lh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Va(e,1,!1,null,null,s,!1,l,c),e[$t]=n.current,mi(e.nodeType===8?e.parentNode:e),new Qa(n)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Oc(n),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Qn(e)},ot.hydrate=function(e,n,s){if(!go(n))throw Error(r(200));return _o(null,e,n,!0,s)},ot.hydrateRoot=function(e,n,s){if(!Ga(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,c=!1,d="",p=lh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),n=sh(n,null,e,1,s??null,c,!1,d,p),e[$t]=n.current,mi(e),l)for(e=0;e<l.length;e++)s=l[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new mo(n)},ot.render=function(e,n,s){if(!go(n))throw Error(r(200));return _o(null,e,n,!1,s)},ot.unmountComponentAtNode=function(e){if(!go(e))throw Error(r(40));return e._reactRootContainer?(Qn(function(){_o(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},ot.unstable_batchedUpdates=ja,ot.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!go(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return _o(e,n,s,!1,l)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var gh;function sv(){if(gh)return Ya.exports;gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ya.exports=iv(),Ya.exports}var _h;function ov(){if(_h)return yo;_h=1;var i=sv();return yo.createRoot=i.createRoot,yo.hydrateRoot=i.hydrateRoot,yo}var lv=ov();const av=_p(lv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),vh=i=>{const t=cv(i);return t.charAt(0).toUpperCase()+t.slice(1)},vp=(...i)=>i.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim(),dv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=G.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:f,...h},m)=>G.createElement("svg",{ref:m,...fv,width:t,height:t,stroke:i,strokeWidth:o?Number(r)*24/Number(t):r,className:vp("lucide",a),...!u&&!dv(h)&&{"aria-hidden":"true"},...h},[...f.map(([g,E])=>G.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=(i,t)=>{const r=G.forwardRef(({className:o,...a},u)=>G.createElement(hv,{ref:u,iconNode:t,className:vp(`lucide-${uv(vh(i))}`,`lucide-${i}`,o),...a}));return r.displayName=vh(i),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],mv=yp("menu",pv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_v=yp("x",gv),vv=()=>{const[i,t]=G.useState(!1),r=o=>{const a=document.getElementById(o);a&&(a.scrollIntoView({behavior:"smooth"}),t(!1))};return T.jsxs("nav",{className:"bg-black text-white fixed top-0 w-full z-50 shadow-md",children:[T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("img",{src:"/images/logo.png",alt:"Black Lotus Logo",className:"h-10 w-auto"}),T.jsx("span",{className:"text-2xl font-bold",children:"Black Lotus Tattoo"})]}),T.jsxs("div",{className:"hidden md:flex space-x-4 text-sm sm:text-base",children:[T.jsx("button",{onClick:()=>r("tattoos"),className:"hover:underline",children:"Tattoos"}),T.jsx("button",{onClick:()=>r("artists"),className:"hover:underline",children:"Artists"}),T.jsx("button",{onClick:()=>r("employment"),className:"hover:underline",children:"Employment"})]}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:()=>t(!i),children:i?T.jsx(_v,{size:24}):T.jsx(mv,{size:24})})})]}),i&&T.jsxs("div",{className:"md:hidden bg-black border-t border-white/10 px-4 pb-4 space-y-2",children:[T.jsx("button",{onClick:()=>r("tattoos"),className:"block w-full text-left hover:underline",children:"Tattoos"}),T.jsx("button",{onClick:()=>r("artists"),className:"block w-full text-left hover:underline",children:"Artists"}),T.jsx("button",{onClick:()=>r("employment"),className:"block w-full text-left hover:underline",children:"Employment"})]})]})},yv=[{id:1,image:"/images/geoblkout.png",title:"Geometric Blackout"},{id:2,image:"/images/wings.png",title:"Wings"},{id:3,image:"/images/blacklotus.png",title:"Back Lotus"}],wv=()=>T.jsxs("section",{className:"py-16 px-4 bg-transparent text-white",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:"Exclusive Tattoos"}),T.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:yv.map(i=>T.jsxs("div",{className:"rounded overflow-hidden shadow-lg bg-transparent",style:{zIndex:"2"},children:[T.jsx("img",{src:i.image,alt:"",className:"w-full h-64 object-cover"}),T.jsx("div",{className:"p-4 text-center",children:T.jsx("h3",{className:"text-lg font-semibold",children:i.title})})]},i.id))})]});let Cv={data:""},Ev=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||Cv,Sv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xv=/\/\*[^]*?\*\/|  +/g,yh=/\n+/g,Tn=(i,t)=>{let r="",o="",a="";for(let u in i){let f=i[u];u[0]=="@"?u[1]=="i"?r=u+" "+f+";":o+=u[1]=="f"?Tn(f,u):u+"{"+Tn(f,u[1]=="k"?"":t)+"}":typeof f=="object"?o+=Tn(f,t?t.replace(/([^,])+/g,h=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Tn.p?Tn.p(u,f):u+":"+f+";")}return r+(t&&a?t+"{"+a+"}":a)+o},Zt={},wp=i=>{if(typeof i=="object"){let t="";for(let r in i)t+=r+wp(i[r]);return t}return i},kv=(i,t,r,o,a)=>{let u=wp(i),f=Zt[u]||(Zt[u]=(m=>{let g=0,E=11;for(;g<m.length;)E=101*E+m.charCodeAt(g++)>>>0;return"go"+E})(u));if(!Zt[f]){let m=u!==i?i:(g=>{let E,w,v=[{}];for(;E=Sv.exec(g.replace(xv,""));)E[4]?v.shift():E[3]?(w=E[3].replace(yh," ").trim(),v.unshift(v[0][w]=v[0][w]||{})):v[0][E[1]]=E[2].replace(yh," ").trim();return v[0]})(i);Zt[f]=Tn(a?{["@keyframes "+f]:m}:m,r?"":"."+f)}let h=r&&Zt.g?Zt.g:null;return r&&(Zt.g=Zt[f]),((m,g,E,w)=>{w?g.data=g.data.replace(w,m):g.data.indexOf(m)===-1&&(g.data=E?m+g.data:g.data+m)})(Zt[f],t,o,h),f},Iv=(i,t,r)=>i.reduce((o,a,u)=>{let f=t[u];if(f&&f.call){let h=f(r),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;f=m?"."+m:h&&typeof h=="object"?h.props?"":Tn(h,""):h===!1?"":h}return o+a+(f??"")},"");function Vo(i){let t=this||{},r=i.call?i(t.p):i;return kv(r.unshift?r.raw?Iv(r,[].slice.call(arguments,1),t.p):r.reduce((o,a)=>Object.assign(o,a&&a.call?a(t.p):a),{}):r,Ev(t.target),t.g,t.o,t.k)}let Cp,cu,du;Vo.bind({g:1});let nn=Vo.bind({k:1});function Nv(i,t,r,o){Tn.p=t,Cp=i,cu=r,du=o}function Ln(i,t){let r=this||{};return function(){let o=arguments;function a(u,f){let h=Object.assign({},u),m=h.className||a.className;r.p=Object.assign({theme:cu&&cu()},h),r.o=/ *go\d+/.test(m),h.className=Vo.apply(r,o)+(m?" "+m:"");let g=i;return i[0]&&(g=h.as||i,delete h.as),du&&g[0]&&du(h),Cp(g,h)}return a}}var Tv=i=>typeof i=="function",ko=(i,t)=>Tv(i)?i(t):i,Rv=(()=>{let i=0;return()=>(++i).toString()})(),Ep=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");i=!t||t.matches}return i}})(),Pv=20,Sp=(i,t)=>{switch(t.type){case 0:return{...i,toasts:[t.toast,...i.toasts].slice(0,Pv)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:r}=t;return Sp(i,{type:i.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...i,toasts:i.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...i,pausedAt:t.time};case 6:let a=t.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+a}))}}},So=[],Jn={toasts:[],pausedAt:void 0},sr=i=>{Jn=Sp(Jn,i),So.forEach(t=>{t(Jn)})},Dv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Av=(i={})=>{let[t,r]=G.useState(Jn),o=G.useRef(Jn);G.useEffect(()=>(o.current!==Jn&&r(Jn),So.push(r),()=>{let u=So.indexOf(r);u>-1&&So.splice(u,1)}),[]);let a=t.toasts.map(u=>{var f,h,m;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((f=i[u.type])==null?void 0:f.removeDelay)||(i==null?void 0:i.removeDelay),duration:u.duration||((h=i[u.type])==null?void 0:h.duration)||(i==null?void 0:i.duration)||Dv[u.type],style:{...i.style,...(m=i[u.type])==null?void 0:m.style,...u.style}}});return{...t,toasts:a}},Ov=(i,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Rv()}),ts=i=>(t,r)=>{let o=Ov(t,i,r);return sr({type:2,toast:o}),o.id},Je=(i,t)=>ts("blank")(i,t);Je.error=ts("error");Je.success=ts("success");Je.loading=ts("loading");Je.custom=ts("custom");Je.dismiss=i=>{sr({type:3,toastId:i})};Je.remove=i=>sr({type:4,toastId:i});Je.promise=(i,t,r)=>{let o=Je.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof i=="function"&&(i=i()),i.then(a=>{let u=t.success?ko(t.success,a):void 0;return u?Je.success(u,{id:o,...r,...r==null?void 0:r.success}):Je.dismiss(o),a}).catch(a=>{let u=t.error?ko(t.error,a):void 0;u?Je.error(u,{id:o,...r,...r==null?void 0:r.error}):Je.dismiss(o)}),i};var Lv=(i,t)=>{sr({type:1,toast:{id:i,height:t}})},Mv=()=>{sr({type:5,time:Date.now()})},ji=new Map,bv=1e3,Fv=(i,t=bv)=>{if(ji.has(i))return;let r=setTimeout(()=>{ji.delete(i),sr({type:4,toastId:i})},t);ji.set(i,r)},jv=i=>{let{toasts:t,pausedAt:r}=Av(i);G.useEffect(()=>{if(r)return;let u=Date.now(),f=t.map(h=>{if(h.duration===1/0)return;let m=(h.duration||0)+h.pauseDuration-(u-h.createdAt);if(m<0){h.visible&&Je.dismiss(h.id);return}return setTimeout(()=>Je.dismiss(h.id),m)});return()=>{f.forEach(h=>h&&clearTimeout(h))}},[t,r]);let o=G.useCallback(()=>{r&&sr({type:6,time:Date.now()})},[r]),a=G.useCallback((u,f)=>{let{reverseOrder:h=!1,gutter:m=8,defaultPosition:g}=f||{},E=t.filter(N=>(N.position||g)===(u.position||g)&&N.height),w=E.findIndex(N=>N.id===u.id),v=E.filter((N,L)=>L<w&&N.visible).length;return E.filter(N=>N.visible).slice(...h?[v+1]:[0,v]).reduce((N,L)=>N+(L.height||0)+m,0)},[t]);return G.useEffect(()=>{t.forEach(u=>{if(u.dismissed)Fv(u.id,u.removeDelay);else{let f=ji.get(u.id);f&&(clearTimeout(f),ji.delete(u.id))}})},[t]),{toasts:t,handlers:{updateHeight:Lv,startPause:Mv,endPause:o,calculateOffset:a}}},zv=nn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Uv=nn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bv=nn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wv=Ln("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Uv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hv=nn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vv=Ln("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Hv} 1s linear infinite;
`,$v=nn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qv=nn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gv=Ln("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$v} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qv=Ln("div")`
  position: absolute;
`,Kv=Ln("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yv=nn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xv=Ln("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Jv=({toast:i})=>{let{icon:t,type:r,iconTheme:o}=i;return t!==void 0?typeof t=="string"?G.createElement(Xv,null,t):t:r==="blank"?null:G.createElement(Kv,null,G.createElement(Vv,{...o}),r!=="loading"&&G.createElement(qv,null,r==="error"?G.createElement(Wv,{...o}):G.createElement(Gv,{...o})))},Zv=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ey=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,ty="0%{opacity:0;} 100%{opacity:1;}",ny="0%{opacity:1;} 100%{opacity:0;}",ry=Ln("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iy=Ln("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sy=(i,t)=>{let r=i.includes("top")?1:-1,[o,a]=Ep()?[ty,ny]:[Zv(r),ey(r)];return{animation:t?`${nn(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oy=G.memo(({toast:i,position:t,style:r,children:o})=>{let a=i.height?sy(i.position||t||"top-center",i.visible):{opacity:0},u=G.createElement(Jv,{toast:i}),f=G.createElement(iy,{...i.ariaProps},ko(i.message,i));return G.createElement(ry,{className:i.className,style:{...a,...r,...i.style}},typeof o=="function"?o({icon:u,message:f}):G.createElement(G.Fragment,null,u,f))});Nv(G.createElement);var ly=({id:i,className:t,style:r,onHeightUpdate:o,children:a})=>{let u=G.useCallback(f=>{if(f){let h=()=>{let m=f.getBoundingClientRect().height;o(i,m)};h(),new MutationObserver(h).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,o]);return G.createElement("div",{ref:u,className:t,style:r},a)},ay=(i,t)=>{let r=i.includes("top"),o=r?{top:0}:{bottom:0},a=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ep()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...o,...a}},uy=Vo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wo=16,xp=({reverseOrder:i,position:t="top-center",toastOptions:r,gutter:o,children:a,containerStyle:u,containerClassName:f})=>{let{toasts:h,handlers:m}=jv(r);return G.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wo,left:wo,right:wo,bottom:wo,pointerEvents:"none",...u},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let E=g.position||t,w=m.calculateOffset(g,{reverseOrder:i,gutter:o,defaultPosition:t}),v=ay(E,w);return G.createElement(ly,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?uy:"",style:v},g.type==="custom"?ko(g.message,g):a?a(g):G.createElement(oy,{toast:g,position:E}))}))},Or=Je;const cy=({artistName:i,discordId:t,onClose:r})=>{const[o,a]=G.useState(""),[u,f]=G.useState(""),[h,m]=G.useState(""),[g,E]=G.useState(""),[w,v]=G.useState(!1),N="https://discord.com/api/webhooks/1376291483149271090/z4dr7KCkvRKOahQEKnJ4Bsi1d-bHsnGpiKtDt8V7KSLl1_9hF6JetEYSzvEWbpv7MDYs",L=async j=>{j.preventDefault(),v(!0);const Q=ve=>{const[Ce,dt]=ve.split(":"),Ae=new Date;return Ae.setHours(parseInt(Ce)),Ae.setMinutes(parseInt(dt)),Ae.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})},Te=ve=>new Date(ve).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),xe={content:`<@${t}> New appointment request!`,embeds:[{title:"Appointment Request",fields:[{name:"Artist",value:i},{name:"Client Name",value:o},{name:"Preferred Date",value:Te(u)},{name:"Preferred Time",value:Q(h)},{name:"Phone Number",value:g}],color:16711900}]};try{await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)}),Or.success("Appointment request sent!"),r()}catch{Or.error("Failed to send appointment request.")}finally{v(!1)}};return T.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:[T.jsx(xp,{position:"top-center",toastOptions:{style:{background:"rgba(255 255 255 / 0.1)",color:"white",backdropFilter:"blur(10px)",borderRadius:"8px",border:"1px solid rgba(255 255 255 / 0.3)",fontWeight:"600"}}}),T.jsxs("div",{className:"bg-black border-2 border-white-500 border-opacity-75 p-6 rounded-lg w-96 relative",children:[T.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-white text-xl",children:""}),T.jsxs("h2",{className:"text-xl text-center font-semibold mb-4",children:["Request an appointment with ",i]}),T.jsx("p",{className:"text-center",children:"Please use est for time entry"}),T.jsxs("form",{onSubmit:L,className:"space-y-3",children:[T.jsx("label",{className:"block font-medium mb-1",children:"Name"}),T.jsx("input",{type:"text",placeholder:"Your Name",className:"w-full border p-2 rounded text-black",value:o,onChange:j=>a(j.target.value),required:!0}),T.jsx("label",{className:"block font-medium mb-1",children:"Date"}),T.jsx("input",{type:"date",className:"w-full border p-2 rounded text-black",value:u,onChange:j=>f(j.target.value),required:!0}),T.jsx("label",{className:"block font-medium mb-1",children:"Time"}),T.jsx("input",{type:"time",className:"w-full border p-2 rounded text-black",value:h,onChange:j=>m(j.target.value),required:!0}),T.jsx("label",{className:"block font-medium mb-1",children:"Phone Number"}),T.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full border p-2 rounded text-black",value:g,onChange:j=>E(j.target.value),required:!0}),T.jsx("button",{type:"submit",disabled:w,className:"w-full bg-black text-white p-2 rounded border border-white/20 bg-black/40 text-white backdrop-blur-sm shadow-md hover:shadow-xl hover:bg-white/10 transition-all duration-300 ease-in-out",children:w?"Sending...":"Submit Request"})]})]})]})},dy=[{name:"Larry",image:"/images/larry.png",discordId:"154342336246054912"},{name:"Jess",image:"/images/logo.png",discordId:"143125860969480192"},{name:"Blake",image:"/images/blake.png",discordId:"198207934101061632"},{name:"Liz",image:"/images/lizard.png",discordId:"518842456880447519"},{name:"Sevyn",image:"/images/sevyn.png",discordId:"197934566999064576"},{name:"Carson",image:"/images/carson.png",discordId:"169205950794825729"},{name:"Hydra",image:"/images/logo.png",discordId:"199356613599952897"},{name:"Parker",image:"/images/parker.png",discordId:"426216759284989952"},{name:"Amber",image:"/images/logo.png",discordId:"176483078124863488"},{name:"Cameron",image:"/images/logo.png",discordId:"171729228935462913"},{name:"Craig",image:"/images/logo.png",discordId:"154990344935571458"}],fy=()=>{const[i,t]=G.useState(null);return T.jsxs("section",{id:"artists",className:"py-16 px-4",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Meet Our Artists"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:dy.map((r,o)=>T.jsxs("div",{className:"rounded-lg shadow-md p-4 text-center text-white flex flex-col items-center",children:[T.jsx("img",{src:r.image,alt:r.name,className:"w-80 h-90 mb-4",style:{zIndex:"1"}}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.name}),T.jsx("button",{onClick:()=>t(r),className:"mt-auto px-5 py-2 rounded-xl border border-white/20 bg-black/40 text-white hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Request Appointment"})]},o))}),i&&T.jsx(cy,{artistName:i.name,discordId:i.discordId,onClose:()=>t(null)})]})},hy=({onClose:i})=>{const[t,r]=G.useState({name:"",experience:"",contact:"",position:""}),[o,a]=G.useState(!1),[u,f]=G.useState(!1),h="https://discord.com/api/webhooks/1376291867431407657/r1MtjIap--Ip4F4tD6ukbmIRg_tBKm59n-BV_78wBDFjxPjIvGIZaEZzLanNbJphFT59",m=E=>{r(w=>({...w,[E.target.name]:E.target.value}))},g=async E=>{E.preventDefault(),a(!0);const w={content:" **New Employment Application Submitted**",embeds:[{title:"Employment Application",fields:[{name:"Name",value:t.name},{name:"Position",value:t.position},{name:"Experience",value:t.experience},{name:"Contact Info",value:t.contact}],color:5814783}]};try{await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),f(!0)}catch(v){console.error("Error submitting employment form:",v)}finally{a(!1)}};return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 px-4",children:T.jsxs("div",{className:"bg-black p-6 border border-whiterounded-lg w-full max-w-lg",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Employment Application"}),u?T.jsx("p",{className:"text-green-600 text-center",children:"Application submitted successfully!"}):T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block font-medium mb-1",children:"Name"}),T.jsx("input",{type:"text",name:"name",required:!0,placeholder:"First Last",value:t.name,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block font-medium mb-1",children:"Position Applying For"}),T.jsxs("select",{name:"position",required:!0,value:t.position,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 bg-white text-black",children:[T.jsx("option",{value:"",disabled:!0,children:"Select a position"}),T.jsx("option",{value:"Receptionist",children:"Receptionist"}),T.jsx("option",{value:"Apprentice",children:"Apprentice"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block font-medium mb-1",children:"Experience"}),T.jsx("textarea",{name:"experience",value:t.experience,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block font-medium mb-1",children:"Phone Number"}),T.jsx("input",{type:"text",name:"contact",required:!0,placeholder:"1234567890",value:t.contact,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{type:"button",onClick:i,className:"bg-gray-500 text-black px-4 py-2 rounded hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Cancel"}),T.jsx("button",{type:"submit",disabled:o,className:"backdrop-blur-sm shadow-md hover:shadow-xl text-white px-4 py-2 rounded hover:bg-white/10 transition-all duration-300 ease-in-out",children:o?"Submitting...":"Submit"})]})]})]})})},py="modulepreload",my=function(i){return"/"+i},wh={},gy=function(t,r,o){let a=Promise.resolve();if(r&&r.length>0){let f=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=f(r.map(g=>{if(g=my(g),g in wh)return;wh[g]=!0;const E=g.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=E?"stylesheet":py,E||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),E)return new Promise((N,L)=>{v.addEventListener("load",N),v.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return a.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})},_y=()=>{};var Ch={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Hr(t)},Hr=function(i){return new Error("Firebase Database ("+kp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},vy=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[r++];t[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[r++],f=i[r++],h=i[r++],m=((a&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const u=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Du={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const u=i[a],f=a+1<i.length,h=f?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,E=u>>2,w=(u&3)<<4|h>>4;let v=(h&15)<<2|g>>6,N=g&63;m||(N=64,f||(v=64)),o.push(r[E],r[w],r[v],r[N])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Ip(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):vy(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const u=r[i.charAt(a++)],h=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,u==null||h==null||g==null||w==null)throw new yy;const v=u<<2|h>>4;if(o.push(v),g!==64){const N=h<<4&240|g>>2;if(o.push(N),w!==64){const L=g<<6&192|w;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Np=function(i){const t=Ip(i);return Du.encodeByteArray(t,!0)},Io=function(i){return Np(i).replace(/\./g,"")},fu=function(i){try{return Du.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(i){return Tp(void 0,i)}function Tp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Cy(r)||(i[r]=Tp(i[r],t[r]));return i}function Cy(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=()=>Ey().__FIREBASE_DEFAULTS__,xy=()=>{if(typeof process>"u"||typeof Ch>"u")return;const i=Ch.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ky=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&fu(i[1]);return t&&JSON.parse(t)},Rp=()=>{try{return _y()||Sy()||xy()||ky()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Iy=i=>{var t,r;return(r=(t=Rp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Ny=i=>{const t=Iy(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Pp=()=>{var i;return(i=Rp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){return i.endsWith(".cloudworkstations.dev")}async function Ty(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Io(JSON.stringify(r)),Io(JSON.stringify(f)),""].join(".")}const zi={};function Py(){const i={prod:[],emulator:[]};for(const t of Object.keys(zi))zi[t]?i.emulator.push(t):i.prod.push(t);return i}function Dy(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let Eh=!1;function Ay(i,t){if(typeof window>"u"||typeof document>"u"||!Au(window.location.host)||zi[i]===t||zi[i]||Eh)return;zi[i]=t;function r(v){return`__firebase__banner__${v}`}const o="__firebase__banner",u=Py().prod.length>0;function f(){const v=document.getElementById(o);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,N){v.setAttribute("width","24"),v.setAttribute("id",N),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Eh=!0,f()},v}function E(v,N){v.setAttribute("id",N),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=Dy(o),N=r("text"),L=document.getElementById(N)||document.createElement("span"),j=r("learnmore"),Q=document.getElementById(j)||document.createElement("a"),Te=r("preprendIcon"),xe=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const ve=v.element;h(ve),E(Q,j);const Ce=g();m(xe,Te),ve.append(xe,L,Q,Ce),document.body.appendChild(ve)}u?(L.innerText="Preview backend disconnected.",xe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(xe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oy())}function Ly(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function My(){return kp.NODE_ADMIN===!0}function by(){try{return typeof indexedDB=="object"}catch{return!1}}function Fy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;t(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="FirebaseError";class ns extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=jy,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ap.prototype.create)}}class Ap{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,u=this.errors[t],f=u?zy(u,o):"Error",h=`${this.serviceName}: ${f} (${a}).`;return new ns(a,h,o)}}function zy(i,t){return i.replace(Uy,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const Uy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(i){return JSON.parse(i)}function Be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=function(i){let t={},r={},o={},a="";try{const u=i.split(".");t=$i(fu(u[0])||""),r=$i(fu(u[1])||""),a=u[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},By=function(i){const t=Op(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Wy=function(i){const t=Op(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function zr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Sh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function No(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function To(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const u=i[a],f=t[a];if(xh(u)&&xh(f)){if(!To(u,f))return!1}else if(u!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function xh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const v=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,E;for(let w=0;w<80;w++){w<40?w<20?(g=h^u&(f^h),E=1518500249):(g=u^f^h,E=1859775393):w<60?(g=u&f|h&(u|f),E=2400959708):(g=u^f^h,E=3395469782);const v=(a<<5|a>>>27)+g+m+E+o[w]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const u=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(u[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(u),f=0;break}}else for(;a<r;)if(u[f]=t[a],++f,++a,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let u=24;u>=0;u-=8)t[o]=this.chain_[a]>>u&255,++o;return t}}function Ou(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const u=a-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(u<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Qo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i){return i&&i._delegate?i._delegate:i}class Qi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new $o;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qy(t))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(t=Yn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yn){return this.instances.has(t)}getOptions(t=Yn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(a,u);const f=this.instances.get(a);return f&&t(f,a),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Gy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Yn){return this.component?this.component.multipleInstances?t:Yn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gy(i){return i===Yn?void 0:i}function qy(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Qy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(he||(he={}));const Yy={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Xy=he.INFO,Jy={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Zy=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=Jy[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lp{constructor(t){this.name=t,this._logLevel=Xy,this._logHandler=Zy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const e0=(i,t)=>t.some(r=>i instanceof r);let kh,Ih;function t0(){return kh||(kh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n0(){return Ih||(Ih=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mp=new WeakMap,hu=new WeakMap,bp=new WeakMap,Za=new WeakMap,Lu=new WeakMap;function r0(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(Rn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&Mp.set(r,i)}).catch(()=>{}),Lu.set(t,i),t}function i0(i){if(hu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});hu.set(i,t)}let pu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return hu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||bp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Rn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function s0(i){pu=i(pu)}function o0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(eu(this),t,...r);return bp.set(o,t.sort?t.sort():[t]),Rn(o)}:n0().includes(i)?function(...t){return i.apply(eu(this),t),Rn(Mp.get(this))}:function(...t){return Rn(i.apply(eu(this),t))}}function l0(i){return typeof i=="function"?o0(i):(i instanceof IDBTransaction&&i0(i),e0(i,t0())?new Proxy(i,pu):i)}function Rn(i){if(i instanceof IDBRequest)return r0(i);if(Za.has(i))return Za.get(i);const t=l0(i);return t!==i&&(Za.set(i,t),Lu.set(t,i)),t}const eu=i=>Lu.get(i);function a0(i,t,{blocked:r,upgrade:o,blocking:a,terminated:u}={}){const f=indexedDB.open(i,t),h=Rn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Rn(f.result),m.oldVersion,m.newVersion,Rn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const u0=["get","getKey","getAll","getAllKeys","count"],c0=["put","add","delete","clear"],tu=new Map;function Nh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(tu.get(t))return tu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=c0.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||u0.includes(r)))return;const u=async function(f,...h){const m=this.transaction(f,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),a&&m.done]))[0]};return tu.set(t,u),u}s0(i=>({...i,get:(t,r,o)=>Nh(t,r)||i.get(t,r,o),has:(t,r)=>!!Nh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(f0(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function f0(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mu="@firebase/app",Th="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Lp("@firebase/app"),h0="@firebase/app-compat",p0="@firebase/analytics-compat",m0="@firebase/analytics",g0="@firebase/app-check-compat",_0="@firebase/app-check",v0="@firebase/auth",y0="@firebase/auth-compat",w0="@firebase/database",C0="@firebase/data-connect",E0="@firebase/database-compat",S0="@firebase/functions",x0="@firebase/functions-compat",k0="@firebase/installations",I0="@firebase/installations-compat",N0="@firebase/messaging",T0="@firebase/messaging-compat",R0="@firebase/performance",P0="@firebase/performance-compat",D0="@firebase/remote-config",A0="@firebase/remote-config-compat",O0="@firebase/storage",L0="@firebase/storage-compat",M0="@firebase/firestore",b0="@firebase/ai",F0="@firebase/firestore-compat",j0="firebase",z0="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="[DEFAULT]",U0={[mu]:"fire-core",[h0]:"fire-core-compat",[m0]:"fire-analytics",[p0]:"fire-analytics-compat",[_0]:"fire-app-check",[g0]:"fire-app-check-compat",[v0]:"fire-auth",[y0]:"fire-auth-compat",[w0]:"fire-rtdb",[C0]:"fire-data-connect",[E0]:"fire-rtdb-compat",[S0]:"fire-fn",[x0]:"fire-fn-compat",[k0]:"fire-iid",[I0]:"fire-iid-compat",[N0]:"fire-fcm",[T0]:"fire-fcm-compat",[R0]:"fire-perf",[P0]:"fire-perf-compat",[D0]:"fire-rc",[A0]:"fire-rc-compat",[O0]:"fire-gcs",[L0]:"fire-gcs-compat",[M0]:"fire-fst",[F0]:"fire-fst-compat",[b0]:"fire-vertex","fire-js":"fire-js",[j0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,B0=new Map,_u=new Map;function Rh(i,t){try{i.container.addComponent(t)}catch(r){rn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Po(i){const t=i.name;if(_u.has(t))return rn.debug(`There were multiple attempts to register component ${t}.`),!1;_u.set(t,i);for(const r of Ro.values())Rh(r,i);for(const r of B0.values())Rh(r,i);return!0}function W0(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function H0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pn=new Ap("app","Firebase",V0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=z0;function Fp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:gu,automaticDataCollectionEnabled:!0},t),a=o.name;if(typeof a!="string"||!a)throw Pn.create("bad-app-name",{appName:String(a)});if(r||(r=Pp()),!r)throw Pn.create("no-options");const u=Ro.get(a);if(u){if(To(r,u.options)&&To(o,u.config))return u;throw Pn.create("duplicate-app",{appName:a})}const f=new Ky(a);for(const m of _u.values())f.addComponent(m);const h=new $0(r,o,f);return Ro.set(a,h),h}function G0(i=gu){const t=Ro.get(i);if(!t&&i===gu&&Pp())return Fp();if(!t)throw Pn.create("no-app",{appName:i});return t}function Mr(i,t,r){var o;let a=(o=U0[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const u=a.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const h=[`Unable to register library "${a}" with version "${t}":`];u&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rn.warn(h.join(" "));return}Po(new Qi(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebase-heartbeat-database",K0=1,Gi="firebase-heartbeat-store";let nu=null;function jp(){return nu||(nu=a0(q0,K0,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Gi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Pn.create("idb-open",{originalErrorMessage:i.message})})),nu}async function Y0(i){try{const r=(await jp()).transaction(Gi),o=await r.objectStore(Gi).get(zp(i));return await r.done,o}catch(t){if(t instanceof ns)rn.warn(t.message);else{const r=Pn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rn.warn(r.message)}}}async function Ph(i,t){try{const o=(await jp()).transaction(Gi,"readwrite");await o.objectStore(Gi).put(t,zp(i)),await o.done}catch(r){if(r instanceof ns)rn.warn(r.message);else{const o=Pn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});rn.warn(o.message)}}}function zp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=1024,J0=30;class Z0{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new t1(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Dh();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>J0){const f=n1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){rn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Dh(),{heartbeatsToSend:o,unsentEntries:a}=e1(this._heartbeatsCache.heartbeats),u=Io(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return rn.warn(r),""}}}function Dh(){return new Date().toISOString().substring(0,10)}function e1(i,t=X0){const r=[];let o=i.slice();for(const a of i){const u=r.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),Ah(r)>t){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Ah(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class t1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return by()?Fy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Y0(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ph(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ph(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ah(i){return Io(JSON.stringify({version:2,heartbeats:i})).length}function n1(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i){Po(new Qi("platform-logger",t=>new d0(t),"PRIVATE")),Po(new Qi("heartbeat",t=>new Z0(t),"PRIVATE")),Mr(mu,Th,i),Mr(mu,Th,"esm2017"),Mr("fire-js","")}r1("");var i1="firebase",s1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(i1,s1,"app");var Oh={};const Lh="@firebase/database",Mh="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up="";function o1(i){Up=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:$i(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return ln(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l1(t)}}catch{}return new a1},Zn=Bp("localStorage"),u1=Bp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Lp("@firebase/database"),c1=function(){let i=1;return function(){return i++}}(),Wp=function(i){const t=$y(i),r=new Vy;r.update(t);const o=r.digest();return Du.encodeByteArray(o)},rs=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=rs.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Ui=null,bh=!0;const d1=function(i,t){M(!0,"Can't turn on custom loggers persistently."),br.logLevel=he.VERBOSE,Ui=br.log.bind(br)},Ke=function(...i){if(bh===!0&&(bh=!1,Ui===null&&u1.get("logging_enabled")===!0&&d1()),Ui){const t=rs.apply(null,i);Ui(t)}},is=function(i){return function(...t){Ke(i,...t)}},vu=function(...i){const t="FIREBASE INTERNAL ERROR: "+rs(...i);br.error(t)},sn=function(...i){const t=`FIREBASE FATAL ERROR: ${rs(...i)}`;throw br.error(t),new Error(t)},ut=function(...i){const t="FIREBASE WARNING: "+rs(...i);br.warn(t)},f1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},h1=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ur="[MIN_NAME]",tr="[MAX_NAME]",$r=function(i,t){if(i===t)return 0;if(i===Ur||t===tr)return-1;if(t===Ur||i===tr)return 1;{const r=Fh(i),o=Fh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},p1=function(i,t){return i===t?0:i<t?-1:1},Li=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Be(t))},Mu=function(i){if(typeof i!="object"||i===null)return Be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Be(t[o]),r+=":",r+=Mu(i[t[o]]);return r+="}",r},Vp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function ct(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const $p=function(i){M(!Hp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,u,f,h,m;i===0?(u=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),u=h+o,f=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(a?1:0),g.reverse();const E=g.join("");let w="";for(m=0;m<64;m+=8){let v=parseInt(E.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),w=w+v}return w.toLowerCase()},m1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},g1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _1(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const v1=new RegExp("^-?(0*)\\d{1,10}$"),y1=-2147483648,w1=2147483647,Fh=function(i){if(v1.test(i)){const t=Number(i);if(t>=y1&&t<=w1)return t}return null},Qr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ut("Exception was thrown by user callback.",r),t},Math.floor(0))}},C1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,r){this.appCheckProvider=r,this.appName=t.name,H0(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(t)}}class xo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="5",Qp="v",Gp="s",qp="r",Kp="f",Yp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xp="ls",Jp="p",yu="ac",Zp="websocket",em="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,r,o,a,u=!1,f="",h=!1,m=!1,g=null){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function x1(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function nm(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===Zp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===em)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);x1(i)&&(r.ns=i.namespace);const a=[];return ct(r,(u,f)=>{a.push(u+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.counters_={}}incrementCounter(t,r=1){ln(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return wy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru={},iu={};function Fu(i){const t=i.toString();return ru[t]||(ru[t]=new k1),ru[t]}function I1(i,t){const r=i.toString();return iu[r]||(iu[r]=t()),iu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Qr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="start",T1="close",R1="pLPCommand",P1="pRTLPCB",rm="id",im="pw",sm="ser",D1="cb",A1="seg",O1="ts",L1="d",M1="dframe",om=1870,lm=30,b1=om-lm,F1=25e3,j1=3e4;class Lr{constructor(t,r,o,a,u,f,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=is(t),this.stats_=Fu(r),this.urlFn=m=>(this.appCheckToken&&(m[yu]=this.appCheckToken),nm(r,em,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new N1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(j1)),h1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ju((...u)=>{const[f,h,m,g,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===jh)this.id=h,this.password=m;else if(f===T1)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[jh]="t",o[sm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[D1]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Qp]=bu,this.transportSessionId&&(o[Gp]=this.transportSessionId),this.lastSessionId&&(o[Xp]=this.lastSessionId),this.applicationId&&(o[Jp]=this.applicationId),this.appCheckToken&&(o[yu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yp.test(location.hostname)&&(o[qp]=Kp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lr.forceAllow_=!0}static forceDisallow(){Lr.forceDisallow_=!0}static isAvailable(){return Lr.forceAllow_?!0:!Lr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m1()&&!g1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Np(r),a=Vp(o,b1);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[M1]="t",o[rm]=t,o[im]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class ju{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c1(),window[R1+this.uniqueCallbackIdentifier]=t,window[P1+this.uniqueCallbackIdentifier]=r,this.myIFrame=ju.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){Ke("frame writing exception"),h.stack&&Ke(h.stack),Ke(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ke("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rm]=this.myID,t[im]=this.myPW,t[sm]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lm+o.length<=om;){const f=this.pendingSegs.shift();o=o+"&"+A1+a+"="+f.seg+"&"+O1+a+"="+f.ts+"&"+L1+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(F1)),u=()=>{clearTimeout(a),o()};this.addTag(t,u)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ke("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=16384,U1=45e3;let Do=null;typeof MozWebSocket<"u"?Do=MozWebSocket:typeof WebSocket<"u"&&(Do=WebSocket);class Ot{constructor(t,r,o,a,u,f,h){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=is(this.connId),this.stats_=Fu(r),this.connURL=Ot.connectionURL_(r,f,h,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,u){const f={};return f[Qp]=bu,typeof location<"u"&&location.hostname&&Yp.test(location.hostname)&&(f[qp]=Kp),r&&(f[Gp]=r),o&&(f[Xp]=o),a&&(f[yu]=a),u&&(f[Jp]=u),nm(t,Zp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;My(),this.mySock=new Do(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Ot.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Do!==null&&!Ot.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=$i(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Vp(r,z1);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U1))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ot.responsesRequiredToBeHealthy=2;Ot.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static get ALL_TRANSPORTS(){return[Lr,Ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Ot&&Ot.isAvailable();let o=r&&!Ot.previouslyFailed();if(t.webSocketOnly&&(r||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ot];else{const a=this.transports_=[];for(const u of qi.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);qi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=6e4,W1=5e3,H1=10*1024,V1=100*1024,su="t",zh="d",$1="s",Uh="r",Q1="e",Bh="o",Wh="a",Hh="n",Vh="p",G1="h";class q1{constructor(t,r,o,a,u,f,h,m,g,E){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=is("c:"+this.id+":"),this.transportManager_=new qi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Bi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>V1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>H1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(su in t){const r=t[su];r===Wh?this.upgradeIfSecondaryHealthy_():r===Uh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Bh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Li("t",t),o=Li("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Vh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Li("t",t),o=Li("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Li(su,t);if(zh in t){const o=t[zh];if(r===G1){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===Hh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===$1?this.onConnectionShutdown_(o):r===Uh?this.onReset_(o):r===Q1?vu("Server Error: "+o):r===Bh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),bu!==o&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Bi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Vh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===r&&(!o||o===a[u].context)){a.splice(u,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends um{static getInstance(){return new Ao}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=32,Qh=768;class ce{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function le(){return new ce("")}function Z(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function An(i){return i.pieces_.length-i.pieceNum_}function pe(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ce(i.pieces_,t)}function cm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function K1(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function dm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function fm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ce(t,0)}function Me(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ce)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new ce(r,0)}function ne(i){return i.pieceNum_>=i.pieces_.length}function lt(i,t){const r=Z(i),o=Z(t);if(r===null)return t;if(r===o)return lt(pe(i),pe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function zu(i,t){if(An(i)!==An(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Lt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(An(i)>An(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class Y1{constructor(t,r){this.errorPrefix_=r,this.parts_=dm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Qo(this.parts_[o]);hm(this)}}function X1(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Qo(t),hm(i)}function J1(i){const t=i.parts_.pop();i.byteLength_-=Qo(t),i.parts_.length>0&&(i.byteLength_-=1)}function hm(i){if(i.byteLength_>Qh)throw new Error(i.errorPrefix_+"has a key path longer than "+Qh+" bytes ("+i.byteLength_+").");if(i.parts_.length>$h)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$h+") or object contains a cycle "+Xn(i))}function Xn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends um{static getInstance(){return new Uu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=1e3,Z1=60*5*1e3,Gh=30*1e3,ew=1.3,tw=3e4,nw="server_kill",qh=3;class tn extends am{constructor(t,r,o,a,u,f,h,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=tn.nextPersistentConnectionId_++,this.log_=is("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mi,this.maxReconnectDelay_=Z1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ao.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,u={r:a,a:t,b:r};this.log_(Be(u)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new $o,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(t,r,o,a){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const u={p:o},f="q";t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,g=h.s;tn.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&ln(t,"w")){const o=zr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Wy(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=By(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const u=a.s,f=a.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const u={p:t},f="n";a&&(u.q=o,u.t=a),this.sendRequest(f,u)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const u={p:r,d:o};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,u){this.initConnection_();const f={p:r,d:o};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):vu("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tw&&(this.reconnectDelay_=Mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ew)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+tn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,o())},g=function(w){M(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(w)};this.realtime_={close:m,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,v]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);f?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=v&&v.token,h=new q1(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,N=>{ut(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(nw)},u))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&ut(w),m())}}}interrupt(t){Ke("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ke("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Sh(this.interruptReasons_)&&(this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(u=>Mu(u)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new ce(t).toString();let a;if(this.listens.has(o)){const u=this.listens.get(o);a=u.get(r),u.delete(r),u.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){Ke("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qh&&(this.reconnectDelay_=Gh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ke("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Up.replace(/\./g,"-")]=1,Dp()?t["framework.cordova"]=1:Ly()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ao.getInstance().currentlyOnline();return Sh(this.interruptReasons_)&&t}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ee(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ee(Ur,t),a=new ee(Ur,r);return this.compare(o,a)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class pm extends Go{static get __EMPTY_NODE(){return Co}static set __EMPTY_NODE(t){Co=t}compare(t,r){return $r(t.name,r.name)}isDefinedOn(t){throw Hr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ee.MIN}maxPost(){return new ee(tr,Co)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,Co)}toString(){return".key"}}const Fr=new pm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,r,o,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ue{constructor(t,r,o,a,u){this.key=t,this.value=r,this.color=o??Ue.RED,this.left=a??at.EMPTY_NODE,this.right=u??at.EMPTY_NODE}copy(t,r,o,a,u){return new Ue(t??this.key,r??this.value,o??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const u=o(t,a.key);return u<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):u===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return at.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ue.RED=!0;Ue.BLACK=!1;class rw{copy(t,r,o,a,u){return this}insert(t,r,o){return new Ue(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(t,r=at.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new at(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(t){return new at(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Eo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Eo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Eo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Eo(this.root_,null,this.comparator_,!0,t)}}at.EMPTY_NODE=new rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i,t){return $r(i.name,t.name)}function Bu(i,t){return $r(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;function sw(i){wu=i}const mm=function(i){return typeof i=="number"?"number:"+$p(i):"string:"+i},gm=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ln(t,".sv"),"Priority must be a string or number.")}else M(i===wu||i.isEmpty(),"priority of unexpected type.");M(i===wu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh;class ze{static set __childrenNodeConstructor(t){Kh=t}static get __childrenNodeConstructor(){return Kh}constructor(t,r=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ze(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:Z(t)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Z(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||An(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=$p(this.value_):t+=this.value_,this.lazyHash_=Wp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ze.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ze.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=ze.VALUE_TYPE_ORDER.indexOf(r),u=ze.VALUE_TYPE_ORDER.indexOf(o);return M(a>=0,"Unknown leaf type: "+r),M(u>=0,"Unknown leaf type: "+o),a===u?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m,vm;function ow(i){_m=i}function lw(i){vm=i}class aw extends Go{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),u=o.compareTo(a);return u===0?$r(t.name,r.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(tr,new ze("[PRIORITY-POST]",vm))}makePost(t,r){const o=_m(t);return new ee(r,new ze("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ne=new aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=Math.log(2);class cw{constructor(t){const r=u=>parseInt(Math.log(u)/uw,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Oo=function(i,t,r,o){i.sort(t);const a=function(m,g){const E=g-m;let w,v;if(E===0)return null;if(E===1)return w=i[m],v=r?r(w):w,new Ue(v,w.node,Ue.BLACK,null,null);{const N=parseInt(E/2,10)+m,L=a(m,N),j=a(N+1,g);return w=i[N],v=r?r(w):w,new Ue(v,w.node,Ue.BLACK,L,j)}},u=function(m){let g=null,E=null,w=i.length;const v=function(L,j){const Q=w-L,Te=w;w-=L;const xe=a(Q+1,Te),ve=i[Q],Ce=r?r(ve):ve;N(new Ue(Ce,ve.node,j,null,xe))},N=function(L){g?(g.left=L,g=L):(E=L,g=L)};for(let L=0;L<m.count;++L){const j=m.nextBitIsOne(),Q=Math.pow(2,m.count-(L+1));j?v(Q,Ue.BLACK):(v(Q,Ue.BLACK),v(Q,Ue.RED))}return E},f=new cw(i.length),h=u(f);return new at(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;const Ar={};class en{static get Default(){return M(Ar&&Ne,"ChildrenNode.ts has not been loaded"),ou=ou||new en({".priority":Ar},{".priority":Ne}),ou}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=zr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof at?r:null}hasIndex(t){return ln(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const u=r.getIterator(ee.Wrap);let f=u.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=u.getNext();let h;a?h=Oo(o,t.getCompare()):h=Ar;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const E=Object.assign({},this.indexes_);return E[m]=h,new en(E,g)}addToIndexes(t,r){const o=No(this.indexes_,(a,u)=>{const f=zr(this.indexSet_,u);if(M(f,"Missing index implementation for "+u),a===Ar)if(f.isDefinedOn(t.node)){const h=[],m=r.getIterator(ee.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&h.push(g),g=m.getNext();return h.push(t),Oo(h,f.getCompare())}else return Ar;else{const h=r.get(t.name);let m=a;return h&&(m=m.remove(new ee(t.name,h))),m.insert(t,t.node)}});return new en(o,this.indexSet_)}removeFromIndexes(t,r){const o=No(this.indexes_,a=>{if(a===Ar)return a;{const u=r.get(t.name);return u?a.remove(new ee(t.name,u)):a}});return new en(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bi;class K{static get EMPTY_NODE(){return bi||(bi=new K(new at(Bu),null,en.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&gm(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bi}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?bi:r}}getChild(t){const r=Z(t);return r===null?this:this.getImmediateChild(r).getChild(pe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ee(t,r);let a,u;r.isEmpty()?(a=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?bi:this.priorityNode_;return new K(a,f,u)}}updateChild(t,r){const o=Z(t);if(o===null)return r;{M(Z(t)!==".priority"||An(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(pe(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,u=!0;if(this.forEachChild(Ne,(f,h)=>{r[f]=h.val(t),o++,u&&K.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):u=!1}),!t&&u&&a<2*o){const f=[];for(const h in r)f[h]=r[h];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+mm(this.getPriority().val())+":"),this.forEachChild(Ne,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":Wp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const u=a.getPredecessorKey(new ee(t,r));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ee(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ee.Wrap);let u=a.peek();for(;u!=null&&r.compare(u,t)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ee.Wrap);let u=a.peek();for(;u!=null&&r.compare(u,t)>0;)a.getNext(),u=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ss?-1:0}withIndex(t){if(t===Fr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Fr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ne),a=r.getIterator(Ne);let u=o.getNext(),f=a.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=o.getNext(),f=a.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Fr?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dw extends K{constructor(){super(new at(Bu),K.EMPTY_NODE,en.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const ss=new dw;Object.defineProperties(ee,{MIN:{value:new ee(Ur,K.EMPTY_NODE)},MAX:{value:new ee(tr,ss)}});pm.__EMPTY_NODE=K.EMPTY_NODE;ze.__childrenNodeConstructor=K;sw(ss);lw(ss);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=!0;function Ve(i,t=null){if(i===null)return K.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new ze(r,Ve(t))}if(!(i instanceof Array)&&fw){const r=[];let o=!1;if(ct(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=Ve(h);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ee(f,m)))}}),r.length===0)return K.EMPTY_NODE;const u=Oo(r,iw,f=>f.name,Bu);if(o){const f=Oo(r,Ne.getCompare());return new K(u,Ve(t),new en({".priority":f},{".priority":Ne}))}else return new K(u,Ve(t),en.Default)}else{let r=K.EMPTY_NODE;return ct(i,(o,a)=>{if(ln(i,o)&&o.substring(0,1)!=="."){const u=Ve(a);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(o,u))}}),r.updatePriority(Ve(t))}}ow(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends Go{constructor(t){super(),this.indexPath_=t,M(!ne(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),u=o.compareTo(a);return u===0?$r(t.name,r.name):u}makePost(t,r){const o=Ve(t),a=K.EMPTY_NODE.updateChild(this.indexPath_,o);return new ee(r,a)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,ss);return new ee(tr,t)}toString(){return dm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends Go{compare(t,r){const o=t.node.compareTo(r.node);return o===0?$r(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,r){const o=Ve(t);return new ee(r,o)}toString(){return".value"}}const mw=new pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(i){return{type:"value",snapshotNode:i}}function Br(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Ki(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Yi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function gw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t){this.index_=t}updateChild(t,r,o,a,u,f){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(a).equals(o.getChild(a))&&h.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Ki(r,h)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Br(r,o)):f.trackChildChange(Yi(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Ne,(a,u)=>{r.hasChild(a)||o.trackChildChange(Ki(a,u))}),r.isLeafNode()||r.forEachChild(Ne,(a,u)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(u)||o.trackChildChange(Yi(a,u,f))}else o.trackChildChange(Br(a,u))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.indexedFilter_=new Wu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Xi.getStartPost_(t),this.endPost_=Xi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,u,f){return this.matches(new ee(r,o))||(o=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,u,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=K.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(K.EMPTY_NODE);const u=this;return r.forEachChild(Ne,(f,h)=>{u.matches(new ee(f,h))||(a=a.updateImmediateChild(f,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Xi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,u,f){return this.rangedFilter_.matches(new ee(r,o))||(o=K.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,u,f):this.fullLimitUpdateChild_(t,r,o,u,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=K.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(K.EMPTY_NODE);let u;this.reverse_?u=a.getReverseIterator(this.index_):u=a.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:a=a.updateImmediateChild(h.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,u){let f;if(this.reverse_){const w=this.index_.getCompare();f=(v,N)=>w(N,v)}else f=this.index_.getCompare();const h=t;M(h.numChildren()===this.limit_,"");const m=new ee(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(m);if(h.hasChild(r)){const w=h.getImmediateChild(r);let v=a.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const N=v==null?1:f(v,m);if(E&&!o.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(Yi(r,o,w)),h.updateImmediateChild(r,o);{u!=null&&u.trackChildChange(Ki(r,w));const j=h.updateImmediateChild(r,K.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(Br(v.name,v.node)),j.updateImmediateChild(v.name,v.node)):j}}else return o.isEmpty()?t:E&&f(g,m)>=0?(u!=null&&(u.trackChildChange(Ki(g.name,g.node)),u.trackChildChange(Br(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,K.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const t=new Hu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vw(i){return i.loadsAllData()?new Wu(i.getIndex()):i.hasLimit()?new _w(i):new Xi(i)}function Yh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ne?r="$priority":i.index_===mw?r="$value":i.index_===Fr?r="$key":(M(i.index_ instanceof hw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Xh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ne&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends am{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=is("p:rest:"),this.listens_={}}listen(t,r,o,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Lo.getListenId_(t,o),h={};this.listens_[f]=h;const m=Yh(t._queryParams);this.restRequest_(u+".json",m,(g,E)=>{let w=E;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(u,w,!1,o),zr(this.listens_,f)===h){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",a(v,null)}})}unlisten(t,r){const o=Lo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Yh(t._queryParams),o=t._path.toString(),a=new $o;return this.restRequest_(o+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(r.auth=a.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Hy(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=$i(h.responseText)}catch{ut("Failed to parse JSON response for "+f+": "+h.responseText)}o(null,m)}else h.status!==401&&h.status!==404&&ut("Got unsuccessful REST response for "+f+" Status: "+h.status),o(h.status);o=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(){return{value:null,children:new Map}}function wm(i,t,r){if(ne(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=Z(t);i.children.has(o)||i.children.set(o,Mo());const a=i.children.get(o);t=pe(t),wm(a,t,r)}}function Cu(i,t,r){i.value!==null?r(t,i.value):ww(i,(o,a)=>{const u=new ce(t.toString()+"/"+o);Cu(a,u,r)})}function ww(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&ct(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=10*1e3,Ew=30*1e3,Sw=5*60*1e3;class xw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Cw(t);const o=Jh+(Ew-Jh)*Math.random();Bi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;ct(t,(a,u)=>{u>0&&ln(this.statsToReport_,a)&&(r[a]=u,o=!0)}),o&&this.server_.reportStats(r),Bi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Cm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $u(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Mt.ACK_USER_WRITE,this.source=Cm()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ce(t));return new bo(le(),r,this.revert)}}else return M(Z(this.path)===t,"operationForChild called for unrelated child."),new bo(pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,r){this.source=t,this.path=r,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return ne(this.path)?new Ji(this.source,le()):new Ji(this.source,pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Mt.OVERWRITE}operationForChild(t){return ne(this.path)?new nr(this.source,le(),this.snap.getImmediateChild(t)):new nr(this.source,pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Mt.MERGE}operationForChild(t){if(ne(this.path)){const r=this.children.subtree(new ce(t));return r.isEmpty()?null:r.value?new nr(this.source,le(),r.value):new Zi(this.source,le(),r)}else return M(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const r=Z(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Iw(i,t,r,o){const a=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(gw(f.childName,f.snapshotNode))}),Fi(i,a,"child_removed",t,o,r),Fi(i,a,"child_added",t,o,r),Fi(i,a,"child_moved",u,o,r),Fi(i,a,"child_changed",t,o,r),Fi(i,a,"value",t,o,r),a}function Fi(i,t,r,o,a,u){const f=o.filter(h=>h.type===r);f.sort((h,m)=>Tw(i,h,m)),f.forEach(h=>{const m=Nw(i,h,u);a.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(m,i.query_))})})}function Nw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Tw(i,t,r){if(t.childName==null||r.childName==null)throw Hr("Should only compare child_ events.");const o=new ee(t.childName,t.snapshotNode),a=new ee(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(i,t){return{eventCache:i,serverCache:t}}function Wi(i,t,r,o){return qo(new rr(t,r,o),i.serverCache)}function Em(i,t,r,o){return qo(i.eventCache,new rr(t,r,o))}function Eu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ir(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;const Rw=()=>(lu||(lu=new at(p1)),lu);class _e{static fromObject(t){let r=new _e(null);return ct(t,(o,a)=>{r=r.set(new ce(o),a)}),r}constructor(t,r=Rw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:le(),value:this.value};if(ne(t))return null;{const o=Z(t),a=this.children.get(o);if(a!==null){const u=a.findRootMostMatchingPathAndValue(pe(t),r);return u!=null?{path:Me(new ce(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const r=Z(t),o=this.children.get(r);return o!==null?o.subtree(pe(t)):new _e(null)}}set(t,r){if(ne(t))return new _e(r,this.children);{const o=Z(t),u=(this.children.get(o)||new _e(null)).set(pe(t),r),f=this.children.insert(o,u);return new _e(this.value,f)}}remove(t){if(ne(t))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const r=Z(t),o=this.children.get(r);if(o){const a=o.remove(pe(t));let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),this.value===null&&u.isEmpty()?new _e(null):new _e(this.value,u)}else return this}}get(t){if(ne(t))return this.value;{const r=Z(t),o=this.children.get(r);return o?o.get(pe(t)):null}}setTree(t,r){if(ne(t))return r;{const o=Z(t),u=(this.children.get(o)||new _e(null)).setTree(pe(t),r);let f;return u.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,u),new _e(this.value,f)}}fold(t){return this.fold_(le(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,u)=>{o[a]=u.fold_(Me(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,le(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(ne(t))return null;{const u=Z(t),f=this.children.get(u);return f?f.findOnPath_(pe(t),Me(r,u),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,le(),r)}foreachOnPath_(t,r,o){if(ne(t))return this;{this.value&&o(r,this.value);const a=Z(t),u=this.children.get(a);return u?u.foreachOnPath_(pe(t),Me(r,a),o):new _e(null)}}foreach(t){this.foreach_(le(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Me(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new _e(null))}}function Hi(i,t,r){if(ne(t))return new bt(new _e(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let u=o.value;const f=lt(a,t);return u=u.updateChild(f,r),new bt(i.writeTree_.set(a,u))}else{const a=new _e(r),u=i.writeTree_.setTree(t,a);return new bt(u)}}}function Zh(i,t,r){let o=i;return ct(r,(a,u)=>{o=Hi(o,Me(t,a),u)}),o}function ep(i,t){if(ne(t))return bt.empty();{const r=i.writeTree_.setTree(t,new _e(null));return new bt(r)}}function Su(i,t){return or(i,t)!=null}function or(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(lt(r.path,t)):null}function tp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ne,(o,a)=>{t.push(new ee(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new ee(o,a.value))}),t}function Dn(i,t){if(ne(t))return i;{const r=or(i,t);return r!=null?new bt(new _e(r)):new bt(i.writeTree_.subtree(t))}}function xu(i){return i.writeTree_.isEmpty()}function Wr(i,t){return Sm(le(),i.writeTree_,t)}function Sm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,u)=>{a===".priority"?(M(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=Sm(Me(i,a),u,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Me(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(i,t){return Nm(t,i)}function Pw(i,t,r,o,a){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Hi(i.visibleWrites,t,r)),i.lastWriteId=o}function Dw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Aw(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,u=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=r&&Ow(h,o.path)?a=!1:Lt(o.path,h.path)&&(u=!0)),f--}if(a){if(u)return Lw(i),!0;if(o.snap)i.visibleWrites=ep(i.visibleWrites,o.path);else{const h=o.children;ct(h,m=>{i.visibleWrites=ep(i.visibleWrites,Me(o.path,m))})}return!0}else return!1}function Ow(i,t){if(i.snap)return Lt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Lt(Me(i.path,r),t))return!0;return!1}function Lw(i){i.visibleWrites=xm(i.allWrites,Mw,le()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Mw(i){return i.visible}function xm(i,t,r){let o=bt.empty();for(let a=0;a<i.length;++a){const u=i[a];if(t(u)){const f=u.path;let h;if(u.snap)Lt(r,f)?(h=lt(r,f),o=Hi(o,h,u.snap)):Lt(f,r)&&(h=lt(f,r),o=Hi(o,le(),u.snap.getChild(h)));else if(u.children){if(Lt(r,f))h=lt(r,f),o=Zh(o,h,u.children);else if(Lt(f,r))if(h=lt(f,r),ne(h))o=Zh(o,le(),u.children);else{const m=zr(u.children,Z(h));if(m){const g=m.getChild(pe(h));o=Hi(o,le(),g)}}}else throw Hr("WriteRecord should have .snap or .children")}}return o}function km(i,t,r,o,a){if(!o&&!a){const u=or(i.visibleWrites,t);if(u!=null)return u;{const f=Dn(i.visibleWrites,t);if(xu(f))return r;if(r==null&&!Su(f,le()))return null;{const h=r||K.EMPTY_NODE;return Wr(f,h)}}}else{const u=Dn(i.visibleWrites,t);if(!a&&xu(u))return r;if(!a&&r==null&&!Su(u,le()))return null;{const f=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(Lt(g.path,t)||Lt(t,g.path))},h=xm(i.allWrites,f,t),m=r||K.EMPTY_NODE;return Wr(h,m)}}}function bw(i,t,r){let o=K.EMPTY_NODE;const a=or(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ne,(u,f)=>{o=o.updateImmediateChild(u,f)}),o;if(r){const u=Dn(i.visibleWrites,t);return r.forEachChild(Ne,(f,h)=>{const m=Wr(Dn(u,new ce(f)),h);o=o.updateImmediateChild(f,m)}),tp(u).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const u=Dn(i.visibleWrites,t);return tp(u).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function Fw(i,t,r,o,a){M(o||a,"Either existingEventSnap or existingServerSnap must exist");const u=Me(t,r);if(Su(i.visibleWrites,u))return null;{const f=Dn(i.visibleWrites,u);return xu(f)?a.getChild(r):Wr(f,a.getChild(r))}}function jw(i,t,r,o){const a=Me(t,r),u=or(i.visibleWrites,a);if(u!=null)return u;if(o.isCompleteForChild(r)){const f=Dn(i.visibleWrites,a);return Wr(f,o.getNode().getImmediateChild(r))}else return null}function zw(i,t){return or(i.visibleWrites,t)}function Uw(i,t,r,o,a,u,f){let h;const m=Dn(i.visibleWrites,t),g=or(m,le());if(g!=null)h=g;else if(r!=null)h=Wr(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const E=[],w=f.getCompare(),v=u?h.getReverseIteratorFrom(o,f):h.getIteratorFrom(o,f);let N=v.getNext();for(;N&&E.length<a;)w(N,o)!==0&&E.push(N),N=v.getNext();return E}else return[]}function Bw(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function Fo(i,t,r,o){return km(i.writeTree,i.treePath,t,r,o)}function Gu(i,t){return bw(i.writeTree,i.treePath,t)}function np(i,t,r,o){return Fw(i.writeTree,i.treePath,t,r,o)}function jo(i,t){return zw(i.writeTree,Me(i.treePath,t))}function Ww(i,t,r,o,a,u){return Uw(i.writeTree,i.treePath,t,r,o,a,u)}function qu(i,t,r){return jw(i.writeTree,i.treePath,t,r)}function Im(i,t){return Nm(Me(i.treePath,t),i.writeTree)}function Nm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const u=a.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,Yi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,Ki(o,a.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,Br(o,t.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,Yi(o,t.snapshotNode,a.oldSnap));else throw Hr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Tm=new Vw;class Ku{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new rr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ir(this.viewCache_),u=Ww(this.writes_,a,r,1,o,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){return{filter:i}}function Qw(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function Gw(i,t,r,o,a){const u=new Hw;let f,h;if(r.type===Mt.OVERWRITE){const g=r;g.source.fromUser?f=ku(i,t,g.path,g.snap,o,a,u):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!ne(g.path),f=zo(i,t,g.path,g.snap,o,a,h,u))}else if(r.type===Mt.MERGE){const g=r;g.source.fromUser?f=Kw(i,t,g.path,g.children,o,a,u):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),f=Iu(i,t,g.path,g.children,o,a,h,u))}else if(r.type===Mt.ACK_USER_WRITE){const g=r;g.revert?f=Jw(i,t,g.path,o,a,u):f=Yw(i,t,g.path,g.affectedTree,o,a,u)}else if(r.type===Mt.LISTEN_COMPLETE)f=Xw(i,t,r.path,o,u);else throw Hr("Unknown operation type: "+r.type);const m=u.getChanges();return qw(t,f,m),{viewCache:f,changes:m}}function qw(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=Eu(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(ym(Eu(t)))}}function Rm(i,t,r,o,a,u){const f=t.eventCache;if(jo(o,r)!=null)return t;{let h,m;if(ne(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ir(t),E=g instanceof K?g:K.EMPTY_NODE,w=Gu(o,E);h=i.filter.updateFullNode(t.eventCache.getNode(),w,u)}else{const g=Fo(o,ir(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=Z(r);if(g===".priority"){M(An(r)===1,"Can't have a priority with additional path components");const E=f.getNode();m=t.serverCache.getNode();const w=np(o,r,E,m);w!=null?h=i.filter.updatePriority(E,w):h=f.getNode()}else{const E=pe(r);let w;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const v=np(o,r,f.getNode(),m);v!=null?w=f.getNode().getImmediateChild(g).updateChild(E,v):w=f.getNode().getImmediateChild(g)}else w=qu(o,g,t.serverCache);w!=null?h=i.filter.updateChild(f.getNode(),g,w,E,a,u):h=f.getNode()}}return Wi(t,h,f.isFullyInitialized()||ne(r),i.filter.filtersNodes())}}function zo(i,t,r,o,a,u,f,h){const m=t.serverCache;let g;const E=f?i.filter:i.filter.getIndexedFilter();if(ne(r))g=E.updateFullNode(m.getNode(),o,null);else if(E.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(r,o);g=E.updateFullNode(m.getNode(),N,null)}else{const N=Z(r);if(!m.isCompleteForPath(r)&&An(r)>1)return t;const L=pe(r),Q=m.getNode().getImmediateChild(N).updateChild(L,o);N===".priority"?g=E.updatePriority(m.getNode(),Q):g=E.updateChild(m.getNode(),N,Q,L,Tm,null)}const w=Em(t,g,m.isFullyInitialized()||ne(r),E.filtersNodes()),v=new Ku(a,w,u);return Rm(i,w,r,a,v,h)}function ku(i,t,r,o,a,u,f){const h=t.eventCache;let m,g;const E=new Ku(a,t,u);if(ne(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Wi(t,g,!0,i.filter.filtersNodes());else{const w=Z(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Wi(t,g,h.isFullyInitialized(),h.isFiltered());else{const v=pe(r),N=h.getNode().getImmediateChild(w);let L;if(ne(v))L=o;else{const j=E.getCompleteChild(w);j!=null?cm(v)===".priority"&&j.getChild(fm(v)).isEmpty()?L=j:L=j.updateChild(v,o):L=K.EMPTY_NODE}if(N.equals(L))m=t;else{const j=i.filter.updateChild(h.getNode(),w,L,v,E,f);m=Wi(t,j,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function rp(i,t){return i.eventCache.isCompleteForChild(t)}function Kw(i,t,r,o,a,u,f){let h=t;return o.foreach((m,g)=>{const E=Me(r,m);rp(t,Z(E))&&(h=ku(i,h,E,g,a,u,f))}),o.foreach((m,g)=>{const E=Me(r,m);rp(t,Z(E))||(h=ku(i,h,E,g,a,u,f))}),h}function ip(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function Iu(i,t,r,o,a,u,f,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;ne(r)?g=o:g=new _e(null).setTree(r,o);const E=t.serverCache.getNode();return g.children.inorderTraversal((w,v)=>{if(E.hasChild(w)){const N=t.serverCache.getNode().getImmediateChild(w),L=ip(i,N,v);m=zo(i,m,new ce(w),L,a,u,f,h)}}),g.children.inorderTraversal((w,v)=>{const N=!t.serverCache.isCompleteForChild(w)&&v.value===null;if(!E.hasChild(w)&&!N){const L=t.serverCache.getNode().getImmediateChild(w),j=ip(i,L,v);m=zo(i,m,new ce(w),j,a,u,f,h)}}),m}function Yw(i,t,r,o,a,u,f){if(jo(a,r)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ne(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return zo(i,t,r,m.getNode().getChild(r),a,u,h,f);if(ne(r)){let g=new _e(null);return m.getNode().forEachChild(Fr,(E,w)=>{g=g.set(new ce(E),w)}),Iu(i,t,r,g,a,u,h,f)}else return t}else{let g=new _e(null);return o.foreach((E,w)=>{const v=Me(r,E);m.isCompleteForPath(v)&&(g=g.set(E,m.getNode().getChild(v)))}),Iu(i,t,r,g,a,u,h,f)}}function Xw(i,t,r,o,a){const u=t.serverCache,f=Em(t,u.getNode(),u.isFullyInitialized()||ne(r),u.isFiltered());return Rm(i,f,r,o,Tm,a)}function Jw(i,t,r,o,a,u){let f;if(jo(o,r)!=null)return t;{const h=new Ku(o,t,a),m=t.eventCache.getNode();let g;if(ne(r)||Z(r)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Fo(o,ir(t));else{const w=t.serverCache.getNode();M(w instanceof K,"serverChildren would be complete if leaf node"),E=Gu(o,w)}E=E,g=i.filter.updateFullNode(m,E,u)}else{const E=Z(r);let w=qu(o,E,t.serverCache);w==null&&t.serverCache.isCompleteForChild(E)&&(w=m.getImmediateChild(E)),w!=null?g=i.filter.updateChild(m,E,w,pe(r),h,u):t.eventCache.getNode().hasChild(E)?g=i.filter.updateChild(m,E,K.EMPTY_NODE,pe(r),h,u):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Fo(o,ir(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,u)))}return f=t.serverCache.isFullyInitialized()||jo(o,le())!=null,Wi(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Wu(o.getIndex()),u=vw(o);this.processor_=$w(u);const f=r.serverCache,h=r.eventCache,m=a.updateFullNode(K.EMPTY_NODE,f.getNode(),null),g=u.updateFullNode(K.EMPTY_NODE,h.getNode(),null),E=new rr(m,f.isFullyInitialized(),a.filtersNodes()),w=new rr(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=qo(w,E),this.eventGenerator_=new kw(this.query_)}get query(){return this.query_}}function eC(i){return i.viewCache_.serverCache.getNode()}function tC(i,t){const r=ir(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ne(t)&&!r.getImmediateChild(Z(t)).isEmpty())?r.getChild(t):null}function sp(i){return i.eventRegistrations_.length===0}function nC(i,t){i.eventRegistrations_.push(t)}function op(i,t,r){const o=[];if(r){M(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function lp(i,t,r,o){t.type===Mt.MERGE&&t.source.queryId!==null&&(M(ir(i.viewCache_),"We should always have a full cache before handling merges"),M(Eu(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,u=Gw(i.processor_,a,t,r,o);return Qw(i.processor_,u.viewCache),M(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Pm(i,u.changes,u.viewCache.eventCache.getNode(),null)}function rC(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ne,(u,f)=>{o.push(Br(u,f))}),r.isFullyInitialized()&&o.push(ym(r.getNode())),Pm(i,o,r.getNode(),t)}function Pm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return Iw(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class iC{constructor(){this.views=new Map}}function sC(i){M(!Uo,"__referenceConstructor has already been defined"),Uo=i}function oC(){return M(Uo,"Reference.ts has not been loaded"),Uo}function lC(i){return i.views.size===0}function Yu(i,t,r,o){const a=t.source.queryId;if(a!==null){const u=i.views.get(a);return M(u!=null,"SyncTree gave us an op for an invalid query."),lp(u,t,r,o)}else{let u=[];for(const f of i.views.values())u=u.concat(lp(f,t,r,o));return u}}function aC(i,t,r,o,a){const u=t._queryIdentifier,f=i.views.get(u);if(!f){let h=Fo(r,a?o:null),m=!1;h?m=!0:o instanceof K?(h=Gu(r,o),m=!1):(h=K.EMPTY_NODE,m=!1);const g=qo(new rr(h,m,!1),new rr(o,a,!1));return new Zw(t,g)}return f}function uC(i,t,r,o,a,u){const f=aC(i,t,o,a,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),nC(f,r),rC(f,r)}function cC(i,t,r,o){const a=t._queryIdentifier,u=[];let f=[];const h=On(i);if(a==="default")for(const[m,g]of i.views.entries())f=f.concat(op(g,r,o)),sp(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=i.views.get(a);m&&(f=f.concat(op(m,r,o)),sp(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!On(i)&&u.push(new(oC())(t._repo,t._path)),{removed:u,events:f}}function Dm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function jr(i,t){let r=null;for(const o of i.views.values())r=r||tC(o,t);return r}function Am(i,t){if(t._queryParams.loadsAllData())return Ko(i);{const o=t._queryIdentifier;return i.views.get(o)}}function Om(i,t){return Am(i,t)!=null}function On(i){return Ko(i)!=null}function Ko(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;function dC(i){M(!Bo,"__referenceConstructor has already been defined"),Bo=i}function fC(){return M(Bo,"Reference.ts has not been loaded"),Bo}let hC=1;class ap{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _e(null),this.pendingWriteTree_=Bw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lm(i,t,r,o,a){return Pw(i.pendingWriteTree_,t,r,o,a),a?os(i,new nr(Cm(),t,r)):[]}function er(i,t,r=!1){const o=Dw(i.pendingWriteTree_,t);if(Aw(i.pendingWriteTree_,t)){let u=new _e(null);return o.snap!=null?u=u.set(le(),!0):ct(o.children,f=>{u=u.set(new ce(f),!0)}),os(i,new bo(o.path,u,r))}else return[]}function Yo(i,t,r){return os(i,new nr(Vu(),t,r))}function pC(i,t,r){const o=_e.fromObject(r);return os(i,new Zi(Vu(),t,o))}function mC(i,t){return os(i,new Ji(Vu(),t))}function gC(i,t,r){const o=Ju(i,r);if(o){const a=Zu(o),u=a.path,f=a.queryId,h=lt(u,t),m=new Ji($u(f),h);return ec(i,u,m)}else return[]}function Nu(i,t,r,o,a=!1){const u=t._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(t._queryIdentifier==="default"||Om(f,t))){const m=cC(f,t,r,o);lC(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=m.removed;if(h=m.events,!a){const E=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(u,(v,N)=>On(N));if(E&&!w){const v=i.syncPointTree_.subtree(u);if(!v.isEmpty()){const N=yC(v);for(let L=0;L<N.length;++L){const j=N[L],Q=j.query,Te=Fm(i,j);i.listenProvider_.startListening(Vi(Q),Wo(i,Q),Te.hashFn,Te.onComplete)}}}!w&&g.length>0&&!o&&(E?i.listenProvider_.stopListening(Vi(t),null):g.forEach(v=>{const N=i.queryToTagMap.get(Xo(v));i.listenProvider_.stopListening(Vi(v),N)}))}wC(i,g)}return h}function _C(i,t,r,o){const a=Ju(i,o);if(a!=null){const u=Zu(a),f=u.path,h=u.queryId,m=lt(f,t),g=new nr($u(h),m,r);return ec(i,f,g)}else return[]}function vC(i,t,r,o){const a=Ju(i,o);if(a){const u=Zu(a),f=u.path,h=u.queryId,m=lt(f,t),g=_e.fromObject(r),E=new Zi($u(h),m,g);return ec(i,f,E)}else return[]}function up(i,t,r,o=!1){const a=t._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(a,(v,N)=>{const L=lt(v,a);u=u||jr(N,L),f=f||On(N)});let h=i.syncPointTree_.get(a);h?(f=f||On(h),u=u||jr(h,le())):(h=new iC,i.syncPointTree_=i.syncPointTree_.set(a,h));let m;u!=null?m=!0:(m=!1,u=K.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((N,L)=>{const j=jr(L,le());j&&(u=u.updateImmediateChild(N,j))}));const g=Om(h,t);if(!g&&!t._queryParams.loadsAllData()){const v=Xo(t);M(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const N=CC();i.queryToTagMap.set(v,N),i.tagToQueryMap.set(N,v)}const E=Qu(i.pendingWriteTree_,a);let w=uC(h,t,r,E,u,m);if(!g&&!f&&!o){const v=Am(h,t);w=w.concat(EC(i,t,v))}return w}function Xu(i,t,r){const a=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(f,h)=>{const m=lt(f,t),g=jr(h,m);if(g)return g});return km(a,t,u,r,!0)}function os(i,t){return Mm(t,i.syncPointTree_,null,Qu(i.pendingWriteTree_,le()))}function Mm(i,t,r,o){if(ne(i.path))return bm(i,t,r,o);{const a=t.get(le());r==null&&a!=null&&(r=jr(a,le()));let u=[];const f=Z(i.path),h=i.operationForChild(f),m=t.children.get(f);if(m&&h){const g=r?r.getImmediateChild(f):null,E=Im(o,f);u=u.concat(Mm(h,m,g,E))}return a&&(u=u.concat(Yu(a,i,o,r))),u}}function bm(i,t,r,o){const a=t.get(le());r==null&&a!=null&&(r=jr(a,le()));let u=[];return t.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,g=Im(o,f),E=i.operationForChild(f);E&&(u=u.concat(bm(E,h,m,g)))}),a&&(u=u.concat(Yu(a,i,o,r))),u}function Fm(i,t){const r=t.query,o=Wo(i,r);return{hashFn:()=>(eC(t)||K.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?gC(i,r._path,o):mC(i,r._path);{const u=_1(a,r);return Nu(i,r,null,u)}}}}function Wo(i,t){const r=Xo(t);return i.queryToTagMap.get(r)}function Xo(i){return i._path.toString()+"$"+i._queryIdentifier}function Ju(i,t){return i.tagToQueryMap.get(t)}function Zu(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ce(i.substr(0,t))}}function ec(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const a=Qu(i.pendingWriteTree_,t);return Yu(o,r,a,null)}function yC(i){return i.fold((t,r,o)=>{if(r&&On(r))return[Ko(r)];{let a=[];return r&&(a=Dm(r)),ct(o,(u,f)=>{a=a.concat(f)}),a}})}function Vi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(fC())(i._repo,i._path):i}function wC(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Xo(o),u=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(u)}}}function CC(){return hC++}function EC(i,t,r){const o=t._path,a=Wo(i,t),u=Fm(i,r),f=i.listenProvider_.startListening(Vi(t),a,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(o);if(a)M(!On(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,E,w)=>{if(!ne(g)&&E&&On(E))return[Ko(E).query];{let v=[];return E&&(v=v.concat(Dm(E).map(N=>N.query))),ct(w,(N,L)=>{v=v.concat(L)}),v}});for(let g=0;g<m.length;++g){const E=m[g];i.listenProvider_.stopListening(Vi(E),Wo(i,E))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new tc(r)}node(){return this.node_}}class nc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Me(this.path_,t);return new nc(this.syncTree_,r)}node(){return Xu(this.syncTree_,this.path_)}}const SC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},cp=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return xC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return kC(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},xC=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},kC=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const a=t.node();if(M(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},IC=function(i,t,r,o){return rc(t,new nc(r,i),o)},jm=function(i,t,r){return rc(i,new tc(t),r)};function rc(i,t,r){const o=i.getPriority().val(),a=cp(o,t.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const f=i,h=cp(f.getValue(),t,r);return h!==f.getValue()||a!==f.getPriority().val()?new ze(h,Ve(a)):i}else{const f=i;return u=f,a!==f.getPriority().val()&&(u=u.updatePriority(new ze(a))),f.forEachChild(Ne,(h,m)=>{const g=rc(m,t.getImmediateChild(h),r);g!==m&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function sc(i,t){let r=t instanceof ce?t:new ce(t),o=i,a=Z(r);for(;a!==null;){const u=zr(o.node.children,a)||{children:{},childCount:0};o=new ic(a,o,u),r=pe(r),a=Z(r)}return o}function Gr(i){return i.node.value}function zm(i,t){i.node.value=t,Tu(i)}function Um(i){return i.node.childCount>0}function NC(i){return Gr(i)===void 0&&!Um(i)}function Jo(i,t){ct(i.node.children,(r,o)=>{t(new ic(r,i,o))})}function Bm(i,t,r,o){r&&t(i),Jo(i,a=>{Bm(a,t,!0)})}function TC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ls(i){return new ce(i.parent===null?i.name:ls(i.parent)+"/"+i.name)}function Tu(i){i.parent!==null&&RC(i.parent,i.name,i)}function RC(i,t,r){const o=NC(r),a=ln(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,Tu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,Tu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/[\[\].#$\/\u0000-\u001F\u007F]/,DC=/[\[\].#$\u0000-\u001F\u007F]/,au=10*1024*1024,Wm=function(i){return typeof i=="string"&&i.length!==0&&!PC.test(i)},Hm=function(i){return typeof i=="string"&&i.length!==0&&!DC.test(i)},AC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Hm(i)},Vm=function(i,t,r,o){o&&t===void 0||oc(Ou(i,"value"),t,r)},oc=function(i,t,r){const o=r instanceof ce?new Y1(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Xn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Xn(o)+" with contents = "+t.toString());if(Hp(t))throw new Error(i+"contains "+t.toString()+" "+Xn(o));if(typeof t=="string"&&t.length>au/3&&Qo(t)>au)throw new Error(i+"contains a string greater than "+au+" utf8 bytes "+Xn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,u=!1;if(ct(t,(f,h)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Wm(f)))throw new Error(i+" contains an invalid key ("+f+") "+Xn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X1(o,f),oc(i,h,o),J1(o)}),a&&u)throw new Error(i+' contains ".value" child '+Xn(o)+" in addition to actual children.")}},$m=function(i,t,r,o){if(!Hm(r))throw new Error(Ou(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),$m(i,t,r)},Qm=function(i,t){if(Z(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},LC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Wm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!AC(r))throw new Error(Ou(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lc(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],u=a.getPath();r!==null&&!zu(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(a)}r&&i.eventLists_.push(r)}function Gm(i,t,r){lc(i,r),qm(i,o=>zu(o,t))}function on(i,t,r){lc(i,r),qm(i,o=>Lt(o,t)||Lt(t,o))}function qm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const u=a.path;t(u)?(bC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function bC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Ui&&Ke("event: "+r.toString()),Qr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="repo_interrupt",jC=25;class zC{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mo(),this.transactionQueueTree_=new ic,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UC(i,t,r){if(i.stats_=Fu(i.repoInfo_),i.forceRestClient_||C1())i.server_=new Lo(i.repoInfo_,(o,a,u,f)=>{dp(i,o,a,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>fp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new tn(i.repoInfo_,t,(o,a,u,f)=>{dp(i,o,a,u,f)},o=>{fp(i,o)},o=>{BC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=I1(i.repoInfo_,()=>new xw(i.stats_,i.server_)),i.infoData_=new yw,i.infoSyncTree_=new ap({startListening:(o,a,u,f)=>{let h=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(h=Yo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),uc(i,"connected",!1),i.serverSyncTree_=new ap({startListening:(o,a,u,f)=>(i.server_.listen(o,u,a,(h,m)=>{const g=f(h,m);on(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function Km(i){const r=i.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function ac(i){return SC({timestamp:Km(i)})}function dp(i,t,r,o,a){i.dataUpdateCount++;const u=new ce(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=No(r,g=>Ve(g));f=vC(i.serverSyncTree_,u,m,a)}else{const m=Ve(r);f=_C(i.serverSyncTree_,u,m,a)}else if(o){const m=No(r,g=>Ve(g));f=pC(i.serverSyncTree_,u,m)}else{const m=Ve(r);f=Yo(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Zo(i,u)),on(i.eventQueue_,h,f)}function fp(i,t){uc(i,"connected",t),t===!1&&HC(i)}function BC(i,t){ct(t,(r,o)=>{uc(i,r,o)})}function uc(i,t,r){const o=new ce("/.info/"+t),a=Ve(r);i.infoData_.updateSnapshot(o,a);const u=Yo(i.infoSyncTree_,o,a);on(i.eventQueue_,o,u)}function Ym(i){return i.nextWriteId_++}function WC(i,t,r,o,a){cc(i,"set",{path:t.toString(),value:r,priority:o});const u=ac(i),f=Ve(r,o),h=Xu(i.serverSyncTree_,t),m=jm(f,h,u),g=Ym(i),E=Lm(i.serverSyncTree_,t,m,g,!0);lc(i.eventQueue_,E),i.server_.put(t.toString(),f.val(!0),(v,N)=>{const L=v==="ok";L||ut("set at "+t+" failed: "+v);const j=er(i.serverSyncTree_,g,!L);on(i.eventQueue_,t,j),GC(i,a,v,N)});const w=tg(i,t);Zo(i,w),on(i.eventQueue_,w,[])}function HC(i){cc(i,"onDisconnectEvents");const t=ac(i),r=Mo();Cu(i.onDisconnect_,le(),(a,u)=>{const f=IC(a,u,i.serverSyncTree_,t);wm(r,a,f)});let o=[];Cu(r,le(),(a,u)=>{o=o.concat(Yo(i.serverSyncTree_,a,u));const f=tg(i,a);Zo(i,f)}),i.onDisconnect_=Mo(),on(i.eventQueue_,le(),o)}function VC(i,t,r){let o;Z(t._path)===".info"?o=up(i.infoSyncTree_,t,r):o=up(i.serverSyncTree_,t,r),Gm(i.eventQueue_,t._path,o)}function $C(i,t,r){let o;Z(t._path)===".info"?o=Nu(i.infoSyncTree_,t,r):o=Nu(i.serverSyncTree_,t,r),Gm(i.eventQueue_,t._path,o)}function QC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(FC)}function cc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ke(r,...t)}function GC(i,t,r,o){t&&Qr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let u=a;o&&(u+=": "+o);const f=new Error(u);f.code=a,t(f)}})}function Xm(i,t,r){return Xu(i.serverSyncTree_,t,r)||K.EMPTY_NODE}function dc(i,t=i.transactionQueueTree_){if(t||el(i,t),Gr(t)){const r=Zm(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&qC(i,ls(t),r)}else Um(t)&&Jo(t,r=>{dc(i,r)})}function qC(i,t,r){const o=r.map(g=>g.currentWriteId),a=Xm(i,t,o);let u=a;const f=a.hash();for(let g=0;g<r.length;g++){const E=r[g];M(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const w=lt(t,E.path);u=u.updateChild(w,E.currentOutputSnapshotRaw)}const h=u.val(!0),m=t;i.server_.put(m.toString(),h,g=>{cc(i,"transaction put response",{path:m.toString(),status:g});let E=[];if(g==="ok"){const w=[];for(let v=0;v<r.length;v++)r[v].status=2,E=E.concat(er(i.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&w.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();el(i,sc(i.transactionQueueTree_,t)),dc(i,i.transactionQueueTree_),on(i.eventQueue_,t,E);for(let v=0;v<w.length;v++)Qr(w[v])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{ut("transaction at "+m.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}Zo(i,t)}},f)}function Zo(i,t){const r=Jm(i,t),o=ls(r),a=Zm(i,r);return KC(i,a,o),o}function KC(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],g=lt(r,m.path);let E=!1,w;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)E=!0,w=m.abortReason,a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=jC)E=!0,w="maxretry",a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else{const v=Xm(i,m.path,f);m.currentInputSnapshot=v;const N=t[h].update(v.val());if(N!==void 0){oc("transaction failed: Data returned ",N,m.path);let L=Ve(N);typeof N=="object"&&N!=null&&ln(N,".priority")||(L=L.updatePriority(v.getPriority()));const Q=m.currentWriteId,Te=ac(i),xe=jm(L,v,Te);m.currentOutputSnapshotRaw=L,m.currentOutputSnapshotResolved=xe,m.currentWriteId=Ym(i),f.splice(f.indexOf(Q),1),a=a.concat(Lm(i.serverSyncTree_,m.path,xe,m.currentWriteId,m.applyLocally)),a=a.concat(er(i.serverSyncTree_,Q,!0))}else E=!0,w="nodata",a=a.concat(er(i.serverSyncTree_,m.currentWriteId,!0))}on(i.eventQueue_,r,a),a=[],E&&(t[h].status=2,function(v){setTimeout(v,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(w==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(w),!1,null))))}el(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)Qr(o[h]);dc(i,i.transactionQueueTree_)}function Jm(i,t){let r,o=i.transactionQueueTree_;for(r=Z(t);r!==null&&Gr(o)===void 0;)o=sc(o,r),t=pe(t),r=Z(t);return o}function Zm(i,t){const r=[];return eg(i,t,r),r.sort((o,a)=>o.order-a.order),r}function eg(i,t,r){const o=Gr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Jo(t,a=>{eg(i,a,r)})}function el(i,t){const r=Gr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,zm(t,r.length>0?r:void 0)}Jo(t,o=>{el(i,o)})}function tg(i,t){const r=ls(Jm(i,t)),o=sc(i.transactionQueueTree_,t);return TC(o,a=>{uu(i,a)}),uu(i,o),Bm(o,a=>{uu(i,a)}),r}function uu(i,t){const r=Gr(t);if(r){const o=[];let a=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(M(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(M(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(er(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?zm(t,void 0):r.length=u+1,on(i.eventQueue_,ls(t),a);for(let f=0;f<o.length;f++)Qr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function XC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ut(`Invalid query segment '${r}' in query '${i}'`)}return t}const hp=function(i,t){const r=JC(i),o=r.namespace;r.domain==="firebase.com"&&sn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||f1();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new tm(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new ce(r.pathString)}},JC=function(i){let t="",r="",o="",a="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let E=i.indexOf("/");E===-1&&(E=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(E,w)),E<w&&(a=YC(i.substring(E,w)));const v=XC(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(f=h==="https"||h==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const N=t.slice(0,g);if(N.toLowerCase()==="localhost")r="localhost";else if(N.split(".").length<=2)r=N;else{const L=t.indexOf(".");o=t.substring(0,L).toLowerCase(),r=t.substring(L+1),u=o}"ns"in v&&(u=v.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:h,pathString:a,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZC=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let a;const u=new Array(8);for(a=7;a>=0;a--)u[a]=pp.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let f=u.join("");if(o){for(a=11;a>=0&&t[a]===63;a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)f+=pp.charAt(t[a]);return M(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class tE{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return ne(this._path)?null:cm(this._path)}get ref(){return new Mn(this._repo,this._path)}get _queryIdentifier(){const t=Xh(this._queryParams),r=Mu(t);return r==="{}"?"default":r}get _queryObject(){return Xh(this._queryParams)}isEqual(t){if(t=Vr(t),!(t instanceof fc))return!1;const r=this._repo===t._repo,o=zu(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+K1(this._path)}}class Mn extends fc{constructor(t,r){super(t,r,new Hu,!1)}get parent(){const t=fm(this._path);return t===null?null:new Mn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ho{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ce(t),o=es(this.ref,t);return new Ho(this._node.getChild(r),o,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Ho(a,es(this.ref,o),Ne)))}hasChild(t){const r=new ce(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mp(i,t){return i=Vr(i),i._checkNotDeleted("ref"),es(i._root,t)}function es(i,t){return i=Vr(i),Z(i._path)===null?OC("child","path",t):$m("child","path",t),new Mn(i._repo,Me(i._path,t))}function rE(i,t){i=Vr(i),Qm("push",i._path),Vm("push",t,i._path,!0);const r=Km(i._repo),o=ZC(r),a=es(i,o),u=es(i,o);let f;return t!=null?f=iE(u,t).then(()=>u):f=Promise.resolve(u),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}function iE(i,t){i=Vr(i),Qm("set",i._path),Vm("set",t,i._path,!1);const r=new $o;return WC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}class hc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new eE("value",this,new Ho(t.snapshotNode,new Mn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new tE(this,t,r):null}matches(t){return t instanceof hc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sE(i,t,r,o,a){const u=new nE(r,void 0),f=new hc(u);return VC(i._repo,i,f),()=>$C(i._repo,i,f)}function oE(i,t,r,o){return sE(i,"value",t)}sC(Mn);dC(Mn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="FIREBASE_DATABASE_EMULATOR_HOST",Ru={};let aE=!1;function uE(i,t,r,o){const a=t.lastIndexOf(":"),u=t.substring(0,a),f=Au(u);i.repoInfo_=new tm(t,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),o&&(i.authTokenProvider_=o)}function cE(i,t,r,o,a){let u=o||i.options.databaseURL;u===void 0&&(i.options.projectId||sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=hp(u,a),h=f.repoInfo,m;typeof process<"u"&&Oh&&(m=Oh[lE]),m?(u=`http://${m}?ns=${h.namespace}`,f=hp(u,a),h=f.repoInfo):f.repoInfo.secure;const g=new S1(i.name,i.options,t);LC("Invalid Firebase Database URL",f),ne(f.path)||sn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=fE(h,i,g,new E1(i,r));return new hE(E,i)}function dE(i,t){const r=Ru[t];(!r||r[i.key]!==i)&&sn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),QC(i),delete r[i.key]}function fE(i,t,r,o){let a=Ru[t.name];a||(a={},Ru[t.name]=a);let u=a[i.toURLString()];return u&&sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new zC(i,aE,r,o),a[i.toURLString()]=u,u}class hE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mn(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&sn("Cannot call "+t+" on a deleted database.")}}function pE(i=G0(),t){const r=W0(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Ny("database");o&&mE(r,...o)}return r}function mE(i,t,r,o={}){i=Vr(i),i._checkNotDeleted("useEmulator");const a=`${t}:${r}`,u=i._repoInternal;if(i._instanceStarted){if(a===i._repoInternal.repoInfo_.host&&To(o,u.repoInfo_.emulatorOptions))return;sn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new xo(xo.OWNER);else if(o.mockUserToken){const h=typeof o.mockUserToken=="string"?o.mockUserToken:Ry(o.mockUserToken,i.app.options.projectId);f=new xo(h)}Au(t)&&(Ty(t),Ay("Database",!0)),uE(u,a,o,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){o1(Q0),Po(new Qi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return cE(o,a,u,r)},"PUBLIC").setMultipleInstances(!0)),Mr(Lh,Mh,i),Mr(Lh,Mh,"esm2017")}tn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};tn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};gE();const _E={apiKey:"AIzaSyAhnEFYt5nCAsbTrwjN0CPAuwN_2VQrVOE",authDomain:"black-lotus-6d810.firebaseapp.com",databaseURL:"https://black-lotus-6d810-default-rtdb.firebaseio.com",projectId:"black-lotus-6d810",storageBucket:"black-lotus-6d810.appspot.com",messagingSenderId:"985514794256",appId:"1:985514794256:web:1f17e15600a9bc5a189995",measurementId:"G-QWRTL3RFDV"},vE=Fp(_E),gp=pE(vE),yE=()=>{const[i,t]=G.useState([]),[r,o]=G.useState(""),[a,u]=G.useState(""),[f,h]=G.useState(0),[m,g]=G.useState(null),[E,w]=G.useState(null);G.useEffect(()=>{gy(()=>import("./index-8ojY_tzu.js"),[]).then(N=>{const L=N.Filter||N.default||N;typeof L=="function"&&w(new L)})},[]),G.useEffect(()=>{const N=mp(gp,"reviews");oE(N,L=>{const j=L.val();if(j){const Q=Object.values(j);t(Q.reverse())}})},[]);const v=async N=>{if(N.preventDefault(),!E){Or.loading("Loading profanity filter...");return}if(E.isProfane(r)||E.isProfane(a)){Or.error("Your review contains inappropriate language.");return}const L={name:r,text:a,rating:f,date:new Date().toISOString()};try{await rE(mp(gp,"reviews"),L),Or.success("Review submitted successfully!"),o(""),u(""),h(5),g(null)}catch{Or.error("Failed to submit review. Please try again.")}};return T.jsxs("div",{className:"glass-section max-w-xl mx-auto my-10 p-6 relative",children:[T.jsx(xp,{position:"top-center",toastOptions:{style:{background:"rgba(255 255 255 / 0.1)",color:"white",backdropFilter:"blur(10px)",borderRadius:"8px",border:"1px solid rgba(255 255 255 / 0.3)",fontWeight:"600"}}}),T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Leave a Review"}),T.jsxs("form",{onSubmit:v,className:"space-y-4 mb-6",children:[T.jsx("input",{type:"text",placeholder:"Your name",className:"w-full p-2 rounded text-black",value:r,onChange:N=>o(N.target.value),required:!0}),T.jsx("textarea",{placeholder:"Your review",className:"w-full p-2 rounded text-black",value:a,onChange:N=>u(N.target.value),required:!0}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("label",{className:"text-white",children:"Rating:"}),T.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(N=>T.jsx("span",{onClick:()=>h(N),onMouseEnter:()=>g(N),onMouseLeave:()=>g(null),className:`cursor-pointer text-2xl transition ${(m??f)>=N?"text-yellow-400":"text-gray-500"}`,children:""},N))})]}),T.jsx("button",{type:"submit",className:"bg-white/10 text-white px-4 py-2 rounded hover:bg-white/20 transition",children:"Submit"})]}),T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"What people are saying:"}),T.jsx("div",{className:"space-y-4 max-h-72 overflow-y-auto pr-2",children:i.slice(0,4).map((N,L)=>T.jsxs("div",{className:"border border-white/10 p-3 rounded bg-white/5",children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("p",{className:"font-semibold",children:N.name}),T.jsxs("p",{className:"text-yellow-400 text-sm",children:["".repeat(N.rating),"".repeat(5-N.rating)]})]}),T.jsx("p",{className:"text-gray-200 text-sm",children:N.text})]},L))})]})};function wE(){const[i,t]=G.useState(!1);return T.jsxs("div",{className:"relative bg-gradient-to-br from-black via-zinc-900 to-black font-sans scroll-smooth min-h-screen text-white",children:[T.jsx("div",{className:"fixed inset-0 -z-10 bg-repeat opacity-5 pointer-events-none",style:{backgroundImage:"url('images/logo.png')",backgroundSize:"500px",backgroundPosition:"center",backgroundAttachment:"fixed",zIndex:"1"}}),T.jsx(vv,{}),T.jsxs("main",{className:"pt-20 space-y-24 px-4 md:px-12 max-w-7xl mx-auto",children:[T.jsx("section",{id:"tattoos",children:T.jsx(wv,{})}),T.jsx("section",{id:"reviews",children:T.jsx(yE,{})}),T.jsx("section",{id:"artists",children:T.jsx(fy,{})}),T.jsxs("section",{id:"employment",className:"text-center ",children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Work With Us"}),T.jsx("p",{className:"text-gray-300 mb-6",children:"Think you have what it takes to join Black Lotus?"}),T.jsx("button",{onClick:()=>t(!0),className:"mt-1 px-5 py-2.5 rounded-xl border border-white/20 bg-black/40 text-white backdrop-blur-sm shadow-md hover:shadow-xl hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Apply for Employment"})]}),T.jsx("section",{id:"footer",className:"text-center",children:T.jsx("a",{className:"text-center",children:"Design by Esco's Web Assistance Program"})})]}),i&&T.jsx(hy,{onClose:()=>t(!1)})]})}av.createRoot(document.getElementById("root")).render(T.jsx(tv.StrictMode,{children:T.jsx(wE,{})}));
