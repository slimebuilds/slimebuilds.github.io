(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Zh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var La={exports:{}},xi={},Ma={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function R_(){if(Gf)return X;Gf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=C&&E[C]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,j={};function Q(E,T,Y){this.props=E,this.context=T,this.refs=j,this.updater=Y||O}Q.prototype.isReactComponent={},Q.prototype.setState=function(E,T){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,T,"setState")},Q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Ne(){}Ne.prototype=Q.prototype;function Se(E,T,Y){this.props=E,this.context=T,this.refs=j,this.updater=Y||O}var pe=Se.prototype=new Ne;pe.constructor=Se,F(pe,Q.prototype),pe.isPureReactComponent=!0;var we=Array.isArray,ct=Object.prototype.hasOwnProperty,Ae={current:null},Je={key:!0,ref:!0,__self:!0,__source:!0};function _t(E,T,Y){var ee,re={},ie=null,ce=null;if(T!=null)for(ee in T.ref!==void 0&&(ce=T.ref),T.key!==void 0&&(ie=""+T.key),T)ct.call(T,ee)&&!Je.hasOwnProperty(ee)&&(re[ee]=T[ee]);var le=arguments.length-2;if(le===1)re.children=Y;else if(1<le){for(var ve=Array(le),ft=0;ft<le;ft++)ve[ft]=arguments[ft+2];re.children=ve}if(E&&E.defaultProps)for(ee in le=E.defaultProps,le)re[ee]===void 0&&(re[ee]=le[ee]);return{$$typeof:i,type:E,key:ie,ref:ce,props:re,_owner:Ae.current}}function sn(E,T){return{$$typeof:i,type:E.type,key:T,ref:E.ref,props:E.props,_owner:E._owner}}function Ht(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Dn(E){var T={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return T[Y]})}var Ft=/\/+/g;function dt(E,T){return typeof E=="object"&&E!==null&&E.key!=null?Dn(""+E.key):T.toString(36)}function kt(E,T,Y,ee,re){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(ie){case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case i:case t:ce=!0}}if(ce)return ce=E,re=re(ce),E=ee===""?"."+dt(ce,0):ee,we(re)?(Y="",E!=null&&(Y=E.replace(Ft,"$&/")+"/"),kt(re,T,Y,"",function(ft){return ft})):re!=null&&(Ht(re)&&(re=sn(re,Y+(!re.key||ce&&ce.key===re.key?"":(""+re.key).replace(Ft,"$&/")+"/")+E)),T.push(re)),1;if(ce=0,ee=ee===""?".":ee+":",we(E))for(var le=0;le<E.length;le++){ie=E[le];var ve=ee+dt(ie,le);ce+=kt(ie,T,Y,ve,re)}else if(ve=w(E),typeof ve=="function")for(E=ve.call(E),le=0;!(ie=E.next()).done;)ie=ie.value,ve=ee+dt(ie,le++),ce+=kt(ie,T,Y,ve,re);else if(ie==="object")throw T=String(E),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ce}function bt(E,T,Y){if(E==null)return E;var ee=[],re=0;return kt(E,ee,"","",function(ie){return T.call(Y,ie,re++)}),ee}function Ze(E){if(E._status===-1){var T=E._result;T=T(),T.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=T)}if(E._status===1)return E._result.default;throw E._result}var ke={current:null},M={transition:null},G={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:M,ReactCurrentOwner:Ae};function U(){throw Error("act(...) is not supported in production builds of React.")}return X.Children={map:bt,forEach:function(E,T,Y){bt(E,function(){T.apply(this,arguments)},Y)},count:function(E){var T=0;return bt(E,function(){T++}),T},toArray:function(E){return bt(E,function(T){return T})||[]},only:function(E){if(!Ht(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},X.Component=Q,X.Fragment=r,X.Profiler=a,X.PureComponent=Se,X.StrictMode=o,X.Suspense=m,X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,X.act=U,X.cloneElement=function(E,T,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ee=F({},E.props),re=E.key,ie=E.ref,ce=E._owner;if(T!=null){if(T.ref!==void 0&&(ie=T.ref,ce=Ae.current),T.key!==void 0&&(re=""+T.key),E.type&&E.type.defaultProps)var le=E.type.defaultProps;for(ve in T)ct.call(T,ve)&&!Je.hasOwnProperty(ve)&&(ee[ve]=T[ve]===void 0&&le!==void 0?le[ve]:T[ve])}var ve=arguments.length-2;if(ve===1)ee.children=Y;else if(1<ve){le=Array(ve);for(var ft=0;ft<ve;ft++)le[ft]=arguments[ft+2];ee.children=le}return{$$typeof:i,type:E.type,key:re,ref:ie,props:ee,_owner:ce}},X.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},X.createElement=_t,X.createFactory=function(E){var T=_t.bind(null,E);return T.type=E,T},X.createRef=function(){return{current:null}},X.forwardRef=function(E){return{$$typeof:p,render:E}},X.isValidElement=Ht,X.lazy=function(E){return{$$typeof:k,_payload:{_status:-1,_result:E},_init:Ze}},X.memo=function(E,T){return{$$typeof:g,type:E,compare:T===void 0?null:T}},X.startTransition=function(E){var T=M.transition;M.transition={};try{E()}finally{M.transition=T}},X.unstable_act=U,X.useCallback=function(E,T){return ke.current.useCallback(E,T)},X.useContext=function(E){return ke.current.useContext(E)},X.useDebugValue=function(){},X.useDeferredValue=function(E){return ke.current.useDeferredValue(E)},X.useEffect=function(E,T){return ke.current.useEffect(E,T)},X.useId=function(){return ke.current.useId()},X.useImperativeHandle=function(E,T,Y){return ke.current.useImperativeHandle(E,T,Y)},X.useInsertionEffect=function(E,T){return ke.current.useInsertionEffect(E,T)},X.useLayoutEffect=function(E,T){return ke.current.useLayoutEffect(E,T)},X.useMemo=function(E,T){return ke.current.useMemo(E,T)},X.useReducer=function(E,T,Y){return ke.current.useReducer(E,T,Y)},X.useRef=function(E){return ke.current.useRef(E)},X.useState=function(E){return ke.current.useState(E)},X.useSyncExternalStore=function(E,T,Y){return ke.current.useSyncExternalStore(E,T,Y)},X.useTransition=function(){return ke.current.useTransition()},X.version="18.3.1",X}var Kf;function pu(){return Kf||(Kf=1,Ma.exports=R_()),Ma.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function P_(){if(qf)return xi;qf=1;var i=pu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var k,C={},w=null,O=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(O=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(C[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)C[k]===void 0&&(C[k]=m[k]);return{$$typeof:t,type:p,key:w,ref:O,props:C,_owner:a.current}}return xi.Fragment=r,xi.jsx=f,xi.jsxs=f,xi}var Yf;function D_(){return Yf||(Yf=1,La.exports=P_()),La.exports}var P=D_(),Pe=pu();const A_=Zh(Pe);var ao={},Fa={exports:{}},st={},ba={exports:{}},za={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function O_(){return Xf||(Xf=1,function(i){function t(M,G){var U=M.length;M.push(G);e:for(;0<U;){var E=U-1>>>1,T=M[E];if(0<a(T,G))M[E]=G,M[U]=T,U=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var G=M[0],U=M.pop();if(U!==G){M[0]=U;e:for(var E=0,T=M.length,Y=T>>>1;E<Y;){var ee=2*(E+1)-1,re=M[ee],ie=ee+1,ce=M[ie];if(0>a(re,U))ie<T&&0>a(ce,re)?(M[E]=ce,M[ie]=U,E=ie):(M[E]=re,M[ee]=U,E=ee);else if(ie<T&&0>a(ce,U))M[E]=ce,M[ie]=U,E=ie;else break e}}return G}function a(M,G){var U=M.sortIndex-G.sortIndex;return U!==0?U:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],k=1,C=null,w=3,O=!1,F=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(M){for(var G=r(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=M)o(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=r(g)}}function we(M){if(j=!1,pe(M),!F)if(r(m)!==null)F=!0,Ze(ct);else{var G=r(g);G!==null&&ke(we,G.startTime-M)}}function ct(M,G){F=!1,j&&(j=!1,Ne(_t),_t=-1),O=!0;var U=w;try{for(pe(G),C=r(m);C!==null&&(!(C.expirationTime>G)||M&&!Dn());){var E=C.callback;if(typeof E=="function"){C.callback=null,w=C.priorityLevel;var T=E(C.expirationTime<=G);G=i.unstable_now(),typeof T=="function"?C.callback=T:C===r(m)&&o(m),pe(G)}else o(m);C=r(m)}if(C!==null)var Y=!0;else{var ee=r(g);ee!==null&&ke(we,ee.startTime-G),Y=!1}return Y}finally{C=null,w=U,O=!1}}var Ae=!1,Je=null,_t=-1,sn=5,Ht=-1;function Dn(){return!(i.unstable_now()-Ht<sn)}function Ft(){if(Je!==null){var M=i.unstable_now();Ht=M;var G=!0;try{G=Je(!0,M)}finally{G?dt():(Ae=!1,Je=null)}}else Ae=!1}var dt;if(typeof Se=="function")dt=function(){Se(Ft)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,bt=kt.port2;kt.port1.onmessage=Ft,dt=function(){bt.postMessage(null)}}else dt=function(){Q(Ft,0)};function Ze(M){Je=M,Ae||(Ae=!0,dt())}function ke(M,G){_t=Q(function(){M(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){F||O||(F=!0,Ze(ct))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):sn=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var U=w;w=G;try{return M()}finally{w=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=w;w=M;try{return G()}finally{w=U}},i.unstable_scheduleCallback=function(M,G,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=U+T,M={id:k++,callback:G,priorityLevel:M,startTime:U,expirationTime:T,sortIndex:-1},U>E?(M.sortIndex=U,t(g,M),r(m)===null&&M===r(g)&&(j?(Ne(_t),_t=-1):j=!0,ke(we,U-E))):(M.sortIndex=T,t(m,M),F||O||(F=!0,Ze(ct))),M},i.unstable_shouldYield=Dn,i.unstable_wrapCallback=function(M){var G=w;return function(){var U=w;w=G;try{return M.apply(this,arguments)}finally{w=U}}}}(za)),za}var Jf;function L_(){return Jf||(Jf=1,ba.exports=O_()),ba.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function M_(){if(Zf)return st;Zf=1;var i=pu(),t=L_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},C={};function w(e){return m.call(C,e)?!0:m.call(k,e)?!1:g.test(e)?C[e]=!0:(k[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Q[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Q[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Q[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Q[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Q[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Q[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Q[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Q[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Q[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Se(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ne,Se);Q[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ne,Se);Q[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ne,Se);Q[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Q[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Q[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function pe(e,n,s,l){var u=Q.hasOwnProperty(n)?Q[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(F(n,s,u,l)&&(s=null),l||u===null?w(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var we=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ct=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Je=Symbol.for("react.fragment"),_t=Symbol.for("react.strict_mode"),sn=Symbol.for("react.profiler"),Ht=Symbol.for("react.provider"),Dn=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),bt=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),M=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function T(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function ee(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,_=d.length-1;1<=h&&0<=_&&u[h]!==d[_];)_--;for(;1<=h&&0<=_;h--,_--)if(u[h]!==d[_]){if(h!==1||_!==1)do if(h--,_--,0>_||u[h]!==d[_]){var v=`
`+u[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=_);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?T(e):""}function re(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Je:return"Fragment";case Ae:return"Portal";case sn:return"Profiler";case _t:return"StrictMode";case dt:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dn:return(e.displayName||"Context")+".Consumer";case Ht:return(e._context.displayName||"Context")+".Provider";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bt:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case Ze:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}function ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(n);case 8:return n===_t?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=ve(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ji(e){e._valueTracker||(e._valueTracker=ft(e))}function Ju(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ve(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bo(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Zu(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=le(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ec(e,n){n=n.checked,n!=null&&pe(e,"checked",n,!1)}function Wo(e,n){ec(e,n);var s=le(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ho(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ho(e,n.type,le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function tc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ho(e,n,s){(n!=="number"||Zi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ur=Array.isArray;function er(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+le(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Vo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Ur(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:le(s)}}function rc(e,n){var s=le(n.value),l=le(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function ic(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?sc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var es,oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Br(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Om=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){Om.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Wr[n]=Wr[e]})});function lc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+n).trim():n+"px"}function ac(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=lc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Lm=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(e,n){if(n){if(Lm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Go(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yo=null,tr=null,nr=null;function uc(e){if(e=ci(e)){if(typeof Yo!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ss(n),Yo(e.stateNode,e.type,n))}}function cc(e){tr?nr?nr.push(e):nr=[e]:tr=e}function dc(){if(tr){var e=tr,n=nr;if(nr=tr=null,uc(e),n)for(e=0;e<n.length;e++)uc(n[e])}}function fc(e,n){return e(n)}function hc(){}var Xo=!1;function pc(e,n,s){if(Xo)return e(n,s);Xo=!0;try{return fc(e,n,s)}finally{Xo=!1,(tr!==null||nr!==null)&&(hc(),dc())}}function Hr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ss(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Jo=!1;if(p)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Jo=!1}function Mm(e,n,s,l,u,d,h,_,v){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(R){this.onError(R)}}var $r=!1,ts=null,ns=!1,Zo=null,Fm={onError:function(e){$r=!0,ts=e}};function bm(e,n,s,l,u,d,h,_,v){$r=!1,ts=null,Mm.apply(Fm,arguments)}function zm(e,n,s,l,u,d,h,_,v){if(bm.apply(this,arguments),$r){if($r){var I=ts;$r=!1,ts=null}else throw Error(r(198));ns||(ns=!0,Zo=I)}}function An(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function mc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gc(e){if(An(e)!==e)throw Error(r(188))}function jm(e){var n=e.alternate;if(!n){if(n=An(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return gc(u),e;if(d===l)return gc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,_=u.child;_;){if(_===s){h=!0,s=u,l=d;break}if(_===l){h=!0,l=u,s=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===s){h=!0,s=d,l=u;break}if(_===l){h=!0,l=d,s=u;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function _c(e){return e=jm(e),e!==null?vc(e):null}function vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=vc(e);if(n!==null)return n;e=e.sibling}return null}var yc=t.unstable_scheduleCallback,wc=t.unstable_cancelCallback,Um=t.unstable_shouldYield,Bm=t.unstable_requestPaint,Te=t.unstable_now,Wm=t.unstable_getCurrentPriorityLevel,el=t.unstable_ImmediatePriority,Cc=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,Hm=t.unstable_LowPriority,Ec=t.unstable_IdlePriority,is=null,zt=null;function Vm(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Gm,$m=Math.log,Qm=Math.LN2;function Gm(e){return e>>>=0,e===0?32:31-($m(e)/Qm|0)|0}var ss=64,os=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~u;_!==0?l=Qr(_):(d&=h,d!==0&&(l=Qr(d)))}else h=s&~u,h!==0?l=Qr(h):d!==0&&(l=Qr(d));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-xt(n),u=1<<s,l|=e[s],n&=~u;return l}function Km(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-xt(d),_=1<<h,v=u[h];v===-1?((_&s)===0||(_&l)!==0)&&(u[h]=Km(_,n)):v<=n&&(e.expiredLanes|=_),d&=~_}}function tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sc(){var e=ss;return ss<<=1,(ss&4194240)===0&&(ss=64),e}function nl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Gr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xt(n),e[n]=s}function Ym(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-xt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function rl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-xt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ae=0;function kc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xc,il,Ic,Nc,Tc,sl=!1,as=[],on=null,ln=null,an=null,Kr=new Map,qr=new Map,un=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,n){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(n.pointerId)}}function Yr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=ci(n),n!==null&&il(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Jm(e,n,s,l,u){switch(n){case"focusin":return on=Yr(on,e,n,s,l,u),!0;case"dragenter":return ln=Yr(ln,e,n,s,l,u),!0;case"mouseover":return an=Yr(an,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Kr.set(d,Yr(Kr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,qr.set(d,Yr(qr.get(d)||null,e,n,s,l,u)),!0}return!1}function Pc(e){var n=On(e.target);if(n!==null){var s=An(n);if(s!==null){if(n=s.tag,n===13){if(n=mc(s),n!==null){e.blockedOn=n,Tc(e.priority,function(){Ic(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ll(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ko=l,s.target.dispatchEvent(l),Ko=null}else return n=ci(s),n!==null&&il(n),e.blockedOn=s,!1;n.shift()}return!0}function Dc(e,n,s){us(e)&&s.delete(n)}function Zm(){sl=!1,on!==null&&us(on)&&(on=null),ln!==null&&us(ln)&&(ln=null),an!==null&&us(an)&&(an=null),Kr.forEach(Dc),qr.forEach(Dc)}function Xr(e,n){e.blockedOn===n&&(e.blockedOn=null,sl||(sl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zm)))}function Jr(e){function n(u){return Xr(u,e)}if(0<as.length){Xr(as[0],e);for(var s=1;s<as.length;s++){var l=as[s];l.blockedOn===e&&(l.blockedOn=null)}}for(on!==null&&Xr(on,e),ln!==null&&Xr(ln,e),an!==null&&Xr(an,e),Kr.forEach(n),qr.forEach(n),s=0;s<un.length;s++)l=un[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<un.length&&(s=un[0],s.blockedOn===null);)Pc(s),s.blockedOn===null&&un.shift()}var rr=we.ReactCurrentBatchConfig,cs=!0;function eg(e,n,s,l){var u=ae,d=rr.transition;rr.transition=null;try{ae=1,ol(e,n,s,l)}finally{ae=u,rr.transition=d}}function tg(e,n,s,l){var u=ae,d=rr.transition;rr.transition=null;try{ae=4,ol(e,n,s,l)}finally{ae=u,rr.transition=d}}function ol(e,n,s,l){if(cs){var u=ll(e,n,s,l);if(u===null)kl(e,n,l,ds,s),Rc(e,l);else if(Jm(u,e,n,s,l))l.stopPropagation();else if(Rc(e,l),n&4&&-1<Xm.indexOf(e)){for(;u!==null;){var d=ci(u);if(d!==null&&xc(d),d=ll(e,n,s,l),d===null&&kl(e,n,l,ds,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else kl(e,n,l,null,s)}}var ds=null;function ll(e,n,s,l){if(ds=null,e=qo(l),e=On(e),e!==null)if(n=An(e),n===null)e=null;else if(s=n.tag,s===13){if(e=mc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ds=e,null}function Ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wm()){case el:return 1;case Cc:return 4;case rs:case Hm:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var cn=null,al=null,fs=null;function Oc(){if(fs)return fs;var e,n=al,s=n.length,l,u="value"in cn?cn.value:cn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return fs=u.slice(e,1<l?1-l:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Lc(){return!1}function ht(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ps:Lc,this.isPropagationStopped=Lc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=ht(ir),Zr=U({},ir,{view:0,detail:0}),ng=ht(Zr),cl,dl,ei,ms=U({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(cl=e.screenX-ei.screenX,dl=e.screenY-ei.screenY):dl=cl=0,ei=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Mc=ht(ms),rg=U({},ms,{dataTransfer:0}),ig=ht(rg),sg=U({},Zr,{relatedTarget:0}),fl=ht(sg),og=U({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=ht(og),ag=U({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=ht(ag),cg=U({},ir,{data:0}),Fc=ht(cg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hg[e])?!!n[e]:!1}function hl(){return pg}var mg=U({},Zr,{key:function(e){if(e.key){var n=dg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=ht(mg),_g=U({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=ht(_g),vg=U({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),yg=ht(vg),wg=U({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=ht(wg),Eg=U({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=ht(Eg),kg=[9,13,27,32],pl=p&&"CompositionEvent"in window,ti=null;p&&"documentMode"in document&&(ti=document.documentMode);var xg=p&&"TextEvent"in window&&!ti,zc=p&&(!pl||ti&&8<ti&&11>=ti),jc=" ",Uc=!1;function Bc(e,n){switch(e){case"keyup":return kg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Ig(e,n){switch(e){case"compositionend":return Wc(n);case"keypress":return n.which!==32?null:(Uc=!0,jc);case"textInput":return e=n.data,e===jc&&Uc?null:e;default:return null}}function Ng(e,n){if(sr)return e==="compositionend"||!pl&&Bc(e,n)?(e=Oc(),fs=al=cn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zc&&n.locale!=="ko"?null:n.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tg[e.type]:n==="textarea"}function Vc(e,n,s,l){cc(l),n=ws(n,"onChange"),0<n.length&&(s=new ul("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ni=null,ri=null;function Rg(e){ad(e,0)}function gs(e){var n=cr(e);if(Ju(n))return e}function Pg(e,n){if(e==="change")return n}var $c=!1;if(p){var ml;if(p){var gl="oninput"in document;if(!gl){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),gl=typeof Qc.oninput=="function"}ml=gl}else ml=!1;$c=ml&&(!document.documentMode||9<document.documentMode)}function Gc(){ni&&(ni.detachEvent("onpropertychange",Kc),ri=ni=null)}function Kc(e){if(e.propertyName==="value"&&gs(ri)){var n=[];Vc(n,ri,e,qo(e)),pc(Rg,n)}}function Dg(e,n,s){e==="focusin"?(Gc(),ni=n,ri=s,ni.attachEvent("onpropertychange",Kc)):e==="focusout"&&Gc()}function Ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gs(ri)}function Og(e,n){if(e==="click")return gs(n)}function Lg(e,n){if(e==="input"||e==="change")return gs(n)}function Mg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:Mg;function ii(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!It(e[u],n[u]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,n){var s=qc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=qc(s)}}function Xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Jc(){for(var e=window,n=Zi();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Zi(e.document)}return n}function _l(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Fg(e){var n=Jc(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Xc(s.ownerDocument.documentElement,s)){if(l!==null&&_l(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=Yc(s,d);var h=Yc(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bg=p&&"documentMode"in document&&11>=document.documentMode,or=null,vl=null,si=null,yl=!1;function Zc(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yl||or==null||or!==Zi(l)||(l=or,"selectionStart"in l&&_l(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),si&&ii(si,l)||(si=l,l=ws(vl,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=or)))}function _s(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var lr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},wl={},ed={};p&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function vs(e){if(wl[e])return wl[e];if(!lr[e])return e;var n=lr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ed)return wl[e]=n[s];return e}var td=vs("animationend"),nd=vs("animationiteration"),rd=vs("animationstart"),id=vs("transitionend"),sd=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,n){sd.set(e,n),c(n,[e])}for(var Cl=0;Cl<od.length;Cl++){var El=od[Cl],zg=El.toLowerCase(),jg=El[0].toUpperCase()+El.slice(1);dn(zg,"on"+jg)}dn(td,"onAnimationEnd"),dn(nd,"onAnimationIteration"),dn(rd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(id,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function ld(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,zm(l,n,void 0,e),e.currentTarget=null}function ad(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],v=_.instance,I=_.currentTarget;if(_=_.listener,v!==d&&u.isPropagationStopped())break e;ld(u,_,I),d=v}else for(h=0;h<l.length;h++){if(_=l[h],v=_.instance,I=_.currentTarget,_=_.listener,v!==d&&u.isPropagationStopped())break e;ld(u,_,I),d=v}}}if(ns)throw e=Zo,ns=!1,Zo=null,e}function me(e,n){var s=n[Pl];s===void 0&&(s=n[Pl]=new Set);var l=e+"__bubble";s.has(l)||(ud(n,e,2,!1),s.add(l))}function Sl(e,n,s){var l=0;n&&(l|=4),ud(s,e,l,n)}var ys="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[ys]){e[ys]=!0,o.forEach(function(s){s!=="selectionchange"&&(Ug.has(s)||Sl(s,!1,e),Sl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ys]||(n[ys]=!0,Sl("selectionchange",!1,n))}}function ud(e,n,s,l){switch(Ac(n)){case 1:var u=eg;break;case 4:u=tg;break;default:u=ol}s=u.bind(null,n,s,e),u=void 0,!Jo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function kl(e,n,s,l,u){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===u||v.nodeType===8&&v.parentNode===u))return;h=h.return}for(;_!==null;){if(h=On(_),h===null)return;if(v=h.tag,v===5||v===6){l=d=h;continue e}_=_.parentNode}}l=l.return}pc(function(){var I=d,R=qo(s),D=[];e:{var N=sd.get(e);if(N!==void 0){var b=ul,B=e;switch(e){case"keypress":if(hs(s)===0)break e;case"keydown":case"keyup":b=gg;break;case"focusin":B="focus",b=fl;break;case"focusout":B="blur",b=fl;break;case"beforeblur":case"afterblur":b=fl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=yg;break;case td:case nd:case rd:b=lg;break;case id:b=Cg;break;case"scroll":b=ng;break;case"wheel":b=Sg;break;case"copy":case"cut":case"paste":b=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=bc}var W=(n&4)!==0,Re=!W&&e==="scroll",S=W?N!==null?N+"Capture":null:N;W=[];for(var y=I,x;y!==null;){x=y;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,S!==null&&(A=Hr(y,S),A!=null&&W.push(ai(y,A,x)))),Re)break;y=y.return}0<W.length&&(N=new b(N,B,null,s,R),D.push({event:N,listeners:W}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",N&&s!==Ko&&(B=s.relatedTarget||s.fromElement)&&(On(B)||B[Vt]))break e;if((b||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,b?(B=s.relatedTarget||s.toElement,b=I,B=B?On(B):null,B!==null&&(Re=An(B),B!==Re||B.tag!==5&&B.tag!==6)&&(B=null)):(b=null,B=I),b!==B)){if(W=Mc,A="onMouseLeave",S="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(W=bc,A="onPointerLeave",S="onPointerEnter",y="pointer"),Re=b==null?N:cr(b),x=B==null?N:cr(B),N=new W(A,y+"leave",b,s,R),N.target=Re,N.relatedTarget=x,A=null,On(R)===I&&(W=new W(S,y+"enter",B,s,R),W.target=x,W.relatedTarget=Re,A=W),Re=A,b&&B)t:{for(W=b,S=B,y=0,x=W;x;x=ar(x))y++;for(x=0,A=S;A;A=ar(A))x++;for(;0<y-x;)W=ar(W),y--;for(;0<x-y;)S=ar(S),x--;for(;y--;){if(W===S||S!==null&&W===S.alternate)break t;W=ar(W),S=ar(S)}W=null}else W=null;b!==null&&cd(D,N,b,W,!1),B!==null&&Re!==null&&cd(D,Re,B,W,!0)}}e:{if(N=I?cr(I):window,b=N.nodeName&&N.nodeName.toLowerCase(),b==="select"||b==="input"&&N.type==="file")var H=Pg;else if(Hc(N))if($c)H=Lg;else{H=Ag;var V=Dg}else(b=N.nodeName)&&b.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(H=Og);if(H&&(H=H(e,I))){Vc(D,H,s,R);break e}V&&V(e,N,I),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&Ho(N,"number",N.value)}switch(V=I?cr(I):window,e){case"focusin":(Hc(V)||V.contentEditable==="true")&&(or=V,vl=I,si=null);break;case"focusout":si=vl=or=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,Zc(D,s,R);break;case"selectionchange":if(bg)break;case"keydown":case"keyup":Zc(D,s,R)}var $;if(pl)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else sr?Bc(e,s)&&(q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(q="onCompositionStart");q&&(zc&&s.locale!=="ko"&&(sr||q!=="onCompositionStart"?q==="onCompositionEnd"&&sr&&($=Oc()):(cn=R,al="value"in cn?cn.value:cn.textContent,sr=!0)),V=ws(I,q),0<V.length&&(q=new Fc(q,e,null,s,R),D.push({event:q,listeners:V}),$?q.data=$:($=Wc(s),$!==null&&(q.data=$)))),($=xg?Ig(e,s):Ng(e,s))&&(I=ws(I,"onBeforeInput"),0<I.length&&(R=new Fc("onBeforeInput","beforeinput",null,s,R),D.push({event:R,listeners:I}),R.data=$))}ad(D,n)})}function ai(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ws(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Hr(e,s),d!=null&&l.unshift(ai(e,d,u)),d=Hr(e,n),d!=null&&l.push(ai(e,d,u))),e=e.return}return l}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var _=s,v=_.alternate,I=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&I!==null&&(_=I,u?(v=Hr(s,d),v!=null&&h.unshift(ai(s,v,_))):u||(v=Hr(s,d),v!=null&&h.push(ai(s,v,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Bg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(Bg,`
`).replace(Wg,"")}function Cs(e,n,s){if(n=dd(n),dd(e)!==n&&s)throw Error(r(425))}function Es(){}var xl=null,Il=null;function Nl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,Hg=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch($g)}:Tl;function $g(e){setTimeout(function(){throw e})}function Rl(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),Jr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);Jr(n)}function fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function hd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),jt="__reactFiber$"+ur,ui="__reactProps$"+ur,Vt="__reactContainer$"+ur,Pl="__reactEvents$"+ur,Qg="__reactListeners$"+ur,Gg="__reactHandles$"+ur;function On(e){var n=e[jt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Vt]||s[jt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=hd(e);e!==null;){if(s=e[jt])return s;e=hd(e)}return n}e=s,s=e.parentNode}return null}function ci(e){return e=e[jt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ss(e){return e[ui]||null}var Dl=[],dr=-1;function hn(e){return{current:e}}function ge(e){0>dr||(e.current=Dl[dr],Dl[dr]=null,dr--)}function de(e,n){dr++,Dl[dr]=e.current,e.current=n}var pn={},$e=hn(pn),et=hn(!1),Ln=pn;function fr(e,n){var s=e.type.contextTypes;if(!s)return pn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function tt(e){return e=e.childContextTypes,e!=null}function ks(){ge(et),ge($e)}function pd(e,n,s){if($e.current!==pn)throw Error(r(168));de($e,n),de(et,s)}function md(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,ce(e)||"Unknown",u));return U({},s,l)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Ln=$e.current,de($e,e),de(et,et.current),!0}function gd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=md(e,n,Ln),l.__reactInternalMemoizedMergedChildContext=e,ge(et),ge($e),de($e,e)):ge(et),de(et,s)}var $t=null,Is=!1,Al=!1;function _d(e){$t===null?$t=[e]:$t.push(e)}function Kg(e){Is=!0,_d(e)}function mn(){if(!Al&&$t!==null){Al=!0;var e=0,n=ae;try{var s=$t;for(ae=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}$t=null,Is=!1}catch(u){throw $t!==null&&($t=$t.slice(e+1)),yc(el,mn),u}finally{ae=n,Al=!1}}return null}var hr=[],pr=0,Ns=null,Ts=0,vt=[],yt=0,Mn=null,Qt=1,Gt="";function Fn(e,n){hr[pr++]=Ts,hr[pr++]=Ns,Ns=e,Ts=n}function vd(e,n,s){vt[yt++]=Qt,vt[yt++]=Gt,vt[yt++]=Mn,Mn=e;var l=Qt;e=Gt;var u=32-xt(l)-1;l&=~(1<<u),s+=1;var d=32-xt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Qt=1<<32-xt(n)+u|s<<u|l,Gt=d+e}else Qt=1<<d|s<<u|l,Gt=e}function Ol(e){e.return!==null&&(Fn(e,1),vd(e,1,0))}function Ll(e){for(;e===Ns;)Ns=hr[--pr],hr[pr]=null,Ts=hr[--pr],hr[pr]=null;for(;e===Mn;)Mn=vt[--yt],vt[yt]=null,Gt=vt[--yt],vt[yt]=null,Qt=vt[--yt],vt[yt]=null}var pt=null,mt=null,ye=!1,Nt=null;function yd(e,n){var s=St(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function wd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pt=e,mt=fn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pt=e,mt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Mn!==null?{id:Qt,overflow:Gt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=St(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,pt=e,mt=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(ye){var n=mt;if(n){var s=n;if(!wd(e,n)){if(Ml(e))throw Error(r(418));n=fn(s.nextSibling);var l=pt;n&&wd(e,n)?yd(l,s):(e.flags=e.flags&-4097|2,ye=!1,pt=e)}}else{if(Ml(e))throw Error(r(418));e.flags=e.flags&-4097|2,ye=!1,pt=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Rs(e){if(e!==pt)return!1;if(!ye)return Cd(e),ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Nl(e.type,e.memoizedProps)),n&&(n=mt)){if(Ml(e))throw Ed(),Error(r(418));for(;n;)yd(e,n),n=fn(n.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){mt=fn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}mt=null}}else mt=pt?fn(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=mt;e;)e=fn(e.nextSibling)}function mr(){mt=pt=null,ye=!1}function bl(e){Nt===null?Nt=[e]:Nt.push(e)}var qg=we.ReactCurrentBatchConfig;function di(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var _=u.refs;h===null?delete _[d]:_[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Ps(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Sd(e){var n=e._init;return n(e._payload)}function kd(e){function n(S,y){if(e){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function s(S,y){if(!e)return null;for(;y!==null;)n(S,y),y=y.sibling;return null}function l(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function u(S,y){return S=Sn(S,y),S.index=0,S.sibling=null,S}function d(S,y,x){return S.index=x,e?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function h(S){return e&&S.alternate===null&&(S.flags|=2),S}function _(S,y,x,A){return y===null||y.tag!==6?(y=Ta(x,S.mode,A),y.return=S,y):(y=u(y,x),y.return=S,y)}function v(S,y,x,A){var H=x.type;return H===Je?R(S,y,x.props.children,A,x.key):y!==null&&(y.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ze&&Sd(H)===y.type)?(A=u(y,x.props),A.ref=di(S,y,x),A.return=S,A):(A=eo(x.type,x.key,x.props,null,S.mode,A),A.ref=di(S,y,x),A.return=S,A)}function I(S,y,x,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ra(x,S.mode,A),y.return=S,y):(y=u(y,x.children||[]),y.return=S,y)}function R(S,y,x,A,H){return y===null||y.tag!==7?(y=Vn(x,S.mode,A,H),y.return=S,y):(y=u(y,x),y.return=S,y)}function D(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ta(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ct:return x=eo(y.type,y.key,y.props,null,S.mode,x),x.ref=di(S,null,y),x.return=S,x;case Ae:return y=Ra(y,S.mode,x),y.return=S,y;case Ze:var A=y._init;return D(S,A(y._payload),x)}if(Ur(y)||G(y))return y=Vn(y,S.mode,x,null),y.return=S,y;Ps(S,y)}return null}function N(S,y,x,A){var H=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return H!==null?null:_(S,y,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ct:return x.key===H?v(S,y,x,A):null;case Ae:return x.key===H?I(S,y,x,A):null;case Ze:return H=x._init,N(S,y,H(x._payload),A)}if(Ur(x)||G(x))return H!==null?null:R(S,y,x,A,null);Ps(S,x)}return null}function b(S,y,x,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(x)||null,_(y,S,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ct:return S=S.get(A.key===null?x:A.key)||null,v(y,S,A,H);case Ae:return S=S.get(A.key===null?x:A.key)||null,I(y,S,A,H);case Ze:var V=A._init;return b(S,y,x,V(A._payload),H)}if(Ur(A)||G(A))return S=S.get(x)||null,R(y,S,A,H,null);Ps(y,A)}return null}function B(S,y,x,A){for(var H=null,V=null,$=y,q=y=0,ze=null;$!==null&&q<x.length;q++){$.index>q?(ze=$,$=null):ze=$.sibling;var se=N(S,$,x[q],A);if(se===null){$===null&&($=ze);break}e&&$&&se.alternate===null&&n(S,$),y=d(se,y,q),V===null?H=se:V.sibling=se,V=se,$=ze}if(q===x.length)return s(S,$),ye&&Fn(S,q),H;if($===null){for(;q<x.length;q++)$=D(S,x[q],A),$!==null&&(y=d($,y,q),V===null?H=$:V.sibling=$,V=$);return ye&&Fn(S,q),H}for($=l(S,$);q<x.length;q++)ze=b($,S,q,x[q],A),ze!==null&&(e&&ze.alternate!==null&&$.delete(ze.key===null?q:ze.key),y=d(ze,y,q),V===null?H=ze:V.sibling=ze,V=ze);return e&&$.forEach(function(kn){return n(S,kn)}),ye&&Fn(S,q),H}function W(S,y,x,A){var H=G(x);if(typeof H!="function")throw Error(r(150));if(x=H.call(x),x==null)throw Error(r(151));for(var V=H=null,$=y,q=y=0,ze=null,se=x.next();$!==null&&!se.done;q++,se=x.next()){$.index>q?(ze=$,$=null):ze=$.sibling;var kn=N(S,$,se.value,A);if(kn===null){$===null&&($=ze);break}e&&$&&kn.alternate===null&&n(S,$),y=d(kn,y,q),V===null?H=kn:V.sibling=kn,V=kn,$=ze}if(se.done)return s(S,$),ye&&Fn(S,q),H;if($===null){for(;!se.done;q++,se=x.next())se=D(S,se.value,A),se!==null&&(y=d(se,y,q),V===null?H=se:V.sibling=se,V=se);return ye&&Fn(S,q),H}for($=l(S,$);!se.done;q++,se=x.next())se=b($,S,q,se.value,A),se!==null&&(e&&se.alternate!==null&&$.delete(se.key===null?q:se.key),y=d(se,y,q),V===null?H=se:V.sibling=se,V=se);return e&&$.forEach(function(T_){return n(S,T_)}),ye&&Fn(S,q),H}function Re(S,y,x,A){if(typeof x=="object"&&x!==null&&x.type===Je&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ct:e:{for(var H=x.key,V=y;V!==null;){if(V.key===H){if(H=x.type,H===Je){if(V.tag===7){s(S,V.sibling),y=u(V,x.props.children),y.return=S,S=y;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ze&&Sd(H)===V.type){s(S,V.sibling),y=u(V,x.props),y.ref=di(S,V,x),y.return=S,S=y;break e}s(S,V);break}else n(S,V);V=V.sibling}x.type===Je?(y=Vn(x.props.children,S.mode,A,x.key),y.return=S,S=y):(A=eo(x.type,x.key,x.props,null,S.mode,A),A.ref=di(S,y,x),A.return=S,S=A)}return h(S);case Ae:e:{for(V=x.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){s(S,y.sibling),y=u(y,x.children||[]),y.return=S,S=y;break e}else{s(S,y);break}else n(S,y);y=y.sibling}y=Ra(x,S.mode,A),y.return=S,S=y}return h(S);case Ze:return V=x._init,Re(S,y,V(x._payload),A)}if(Ur(x))return B(S,y,x,A);if(G(x))return W(S,y,x,A);Ps(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(s(S,y.sibling),y=u(y,x),y.return=S,S=y):(s(S,y),y=Ta(x,S.mode,A),y.return=S,S=y),h(S)):s(S,y)}return Re}var gr=kd(!0),xd=kd(!1),Ds=hn(null),As=null,_r=null,zl=null;function jl(){zl=_r=As=null}function Ul(e){var n=Ds.current;ge(Ds),e._currentValue=n}function Bl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vr(e,n){As=e,zl=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(nt=!0),e.firstContext=null)}function wt(e){var n=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:n,next:null},_r===null){if(As===null)throw Error(r(308));_r=e,As.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return n}var bn=null;function Wl(e){bn===null?bn=[e]:bn.push(e)}function Id(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Wl(n)):(s.next=u.next,u.next=s),n.interleaved=s,Kt(e,l)}function Kt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gn=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function _n(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Kt(e,s)}return u=l.interleaved,u===null?(n.next=n,Wl(l)):(n.next=u.next,u.next=n),l.interleaved=n,Kt(e,s)}function Os(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}function Td(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ls(e,n,s,l){var u=e.updateQueue;gn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,I=v.next;v.next=null,h===null?d=I:h.next=I,h=v;var R=e.alternate;R!==null&&(R=R.updateQueue,_=R.lastBaseUpdate,_!==h&&(_===null?R.firstBaseUpdate=I:_.next=I,R.lastBaseUpdate=v))}if(d!==null){var D=u.baseState;h=0,R=I=v=null,_=d;do{var N=_.lane,b=_.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:b,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(N=n,b=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){D=B.call(b,D,N);break e}D=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(b,D,N):B,N==null)break e;D=U({},D,N);break e;case 2:gn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[_]:N.push(_))}else b={eventTime:b,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},R===null?(I=R=b,v=D):R=R.next=b,h|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(v=D),u.baseState=v,u.firstBaseUpdate=I,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Un|=h,e.lanes=h,e.memoizedState=D}}function Rd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var fi={},Ut=hn(fi),hi=hn(fi),pi=hn(fi);function zn(e){if(e===fi)throw Error(r(174));return e}function Vl(e,n){switch(de(pi,n),de(hi,e),de(Ut,fi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:$o(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=$o(n,e)}ge(Ut),de(Ut,n)}function yr(){ge(Ut),ge(hi),ge(pi)}function Pd(e){zn(pi.current);var n=zn(Ut.current),s=$o(n,e.type);n!==s&&(de(hi,e),de(Ut,s))}function $l(e){hi.current===e&&(ge(Ut),ge(hi))}var Ce=hn(0);function Ms(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ql=[];function Gl(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var Fs=we.ReactCurrentDispatcher,Kl=we.ReactCurrentBatchConfig,jn=0,Ee=null,Oe=null,Fe=null,bs=!1,mi=!1,gi=0,Yg=0;function Qe(){throw Error(r(321))}function ql(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!It(e[s],n[s]))return!1;return!0}function Yl(e,n,s,l,u,d){if(jn=d,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fs.current=e===null||e.memoizedState===null?e_:t_,e=s(l,u),mi){d=0;do{if(mi=!1,gi=0,25<=d)throw Error(r(301));d+=1,Fe=Oe=null,n.updateQueue=null,Fs.current=n_,e=s(l,u)}while(mi)}if(Fs.current=Us,n=Oe!==null&&Oe.next!==null,jn=0,Fe=Oe=Ee=null,bs=!1,n)throw Error(r(300));return e}function Xl(){var e=gi!==0;return gi=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ee.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ct(){if(Oe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=Fe===null?Ee.memoizedState:Fe.next;if(n!==null)Fe=n,Oe=e;else{if(e===null)throw Error(r(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Fe===null?Ee.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function _i(e,n){return typeof n=="function"?n(e):n}function Jl(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Oe,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var _=h=null,v=null,I=d;do{var R=I.lane;if((jn&R)===R)v!==null&&(v=v.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var D={lane:R,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};v===null?(_=v=D,h=l):v=v.next=D,Ee.lanes|=R,Un|=R}I=I.next}while(I!==null&&I!==d);v===null?h=l:v.next=_,It(l,n.memoizedState)||(nt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,Ee.lanes|=d,Un|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Zl(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);It(d,n.memoizedState)||(nt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Dd(){}function Ad(e,n){var s=Ee,l=Ct(),u=n(),d=!It(l.memoizedState,u);if(d&&(l.memoizedState=u,nt=!0),l=l.queue,ea(Md.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,vi(9,Ld.bind(null,s,l,u,n),void 0,null),be===null)throw Error(r(349));(jn&30)!==0||Od(s,n,u)}return u}function Od(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ee.updateQueue,n===null?(n={lastEffect:null,stores:null},Ee.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ld(e,n,s,l){n.value=s,n.getSnapshot=l,Fd(n)&&bd(e)}function Md(e,n,s){return s(function(){Fd(n)&&bd(e)})}function Fd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!It(e,s)}catch{return!0}}function bd(e){var n=Kt(e,1);n!==null&&Dt(n,e,1,-1)}function zd(e){var n=Bt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},n.queue=e,e=e.dispatch=Zg.bind(null,Ee,e),[n.memoizedState,e]}function vi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Ee.updateQueue,n===null?(n={lastEffect:null,stores:null},Ee.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function jd(){return Ct().memoizedState}function zs(e,n,s,l){var u=Bt();Ee.flags|=e,u.memoizedState=vi(1|n,s,void 0,l===void 0?null:l)}function js(e,n,s,l){var u=Ct();l=l===void 0?null:l;var d=void 0;if(Oe!==null){var h=Oe.memoizedState;if(d=h.destroy,l!==null&&ql(l,h.deps)){u.memoizedState=vi(n,s,d,l);return}}Ee.flags|=e,u.memoizedState=vi(1|n,s,d,l)}function Ud(e,n){return zs(8390656,8,e,n)}function ea(e,n){return js(2048,8,e,n)}function Bd(e,n){return js(4,2,e,n)}function Wd(e,n){return js(4,4,e,n)}function Hd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vd(e,n,s){return s=s!=null?s.concat([e]):null,js(4,4,Hd.bind(null,n,e),s)}function ta(){}function $d(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ql(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Qd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ql(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function Gd(e,n,s){return(jn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=s):(It(s,n)||(s=Sc(),Ee.lanes|=s,Un|=s,e.baseState=!0),n)}function Xg(e,n){var s=ae;ae=s!==0&&4>s?s:4,e(!0);var l=Kl.transition;Kl.transition={};try{e(!1),n()}finally{ae=s,Kl.transition=l}}function Kd(){return Ct().memoizedState}function Jg(e,n,s){var l=Cn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},qd(e))Yd(n,s);else if(s=Id(e,n,s,l),s!==null){var u=Xe();Dt(s,e,l,u),Xd(s,n,l)}}function Zg(e,n,s){var l=Cn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Yd(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,_=d(h,s);if(u.hasEagerState=!0,u.eagerState=_,It(_,h)){var v=n.interleaved;v===null?(u.next=u,Wl(n)):(u.next=v.next,v.next=u),n.interleaved=u;return}}catch{}finally{}s=Id(e,n,u,l),s!==null&&(u=Xe(),Dt(s,e,l,u),Xd(s,n,l))}}function qd(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function Yd(e,n){mi=bs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Xd(e,n,s){if((s&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}var Us={readContext:wt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},e_={readContext:wt,useCallback:function(e,n){return Bt().memoizedState=[e,n===void 0?null:n],e},useContext:wt,useEffect:Ud,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,zs(4194308,4,Hd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zs(4194308,4,e,n)},useInsertionEffect:function(e,n){return zs(4,2,e,n)},useMemo:function(e,n){var s=Bt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Bt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Jg.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var n=Bt();return e={current:e},n.memoizedState=e},useState:zd,useDebugValue:ta,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=zd(!1),n=e[0];return e=Xg.bind(null,e[1]),Bt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Ee,u=Bt();if(ye){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),be===null)throw Error(r(349));(jn&30)!==0||Od(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,Ud(Md.bind(null,l,d,e),[e]),l.flags|=2048,vi(9,Ld.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Bt(),n=be.identifierPrefix;if(ye){var s=Gt,l=Qt;s=(l&~(1<<32-xt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=gi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Yg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},t_={readContext:wt,useCallback:$d,useContext:wt,useEffect:ea,useImperativeHandle:Vd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Qd,useReducer:Jl,useRef:jd,useState:function(){return Jl(_i)},useDebugValue:ta,useDeferredValue:function(e){var n=Ct();return Gd(n,Oe.memoizedState,e)},useTransition:function(){var e=Jl(_i)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Dd,useSyncExternalStore:Ad,useId:Kd,unstable_isNewReconciler:!1},n_={readContext:wt,useCallback:$d,useContext:wt,useEffect:ea,useImperativeHandle:Vd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Qd,useReducer:Zl,useRef:jd,useState:function(){return Zl(_i)},useDebugValue:ta,useDeferredValue:function(e){var n=Ct();return Oe===null?n.memoizedState=e:Gd(n,Oe.memoizedState,e)},useTransition:function(){var e=Zl(_i)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Dd,useSyncExternalStore:Ad,useId:Kd,unstable_isNewReconciler:!1};function Tt(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function na(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Bs={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Xe(),u=Cn(e),d=qt(l,u);d.payload=n,s!=null&&(d.callback=s),n=_n(e,d,u),n!==null&&(Dt(n,e,u,l),Os(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Xe(),u=Cn(e),d=qt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=_n(e,d,u),n!==null&&(Dt(n,e,u,l),Os(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xe(),l=Cn(e),u=qt(s,l);u.tag=2,n!=null&&(u.callback=n),n=_n(e,u,l),n!==null&&(Dt(n,e,l,s),Os(n,e,l))}};function Jd(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!ii(s,l)||!ii(u,d):!0}function Zd(e,n,s){var l=!1,u=pn,d=n.contextType;return typeof d=="object"&&d!==null?d=wt(d):(u=tt(n)?Ln:$e.current,l=n.contextTypes,d=(l=l!=null)?fr(e,u):pn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function ef(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Bs.enqueueReplaceState(n,n.state,null)}function ra(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Hl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=wt(d):(d=tt(n)?Ln:$e.current,u.context=fr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(na(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Bs.enqueueReplaceState(u,u.state,null),Ls(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,n){try{var s="",l=n;do s+=re(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function ia(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function sa(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var r_=typeof WeakMap=="function"?WeakMap:Map;function tf(e,n,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Ks||(Ks=!0,wa=l),sa(e,n)},s}function nf(e,n,s){s=qt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){sa(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){sa(e,n),typeof l!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function rf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new r_;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=__.bind(null,e,n,s),n.then(e,e))}function sf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function of(e,n,s,l,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=qt(-1,1),n.tag=2,_n(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var i_=we.ReactCurrentOwner,nt=!1;function Ye(e,n,s,l){n.child=e===null?xd(n,null,s,l):gr(n,e.child,s,l)}function lf(e,n,s,l,u){s=s.render;var d=n.ref;return vr(n,u),l=Yl(e,n,s,l,d,u),s=Xl(),e!==null&&!nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Yt(e,n,u)):(ye&&s&&Ol(n),n.flags|=1,Ye(e,n,l,u),n.child)}function af(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Na(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,uf(e,n,d,l,u)):(e=eo(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&u)===0){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:ii,s(h,l)&&e.ref===n.ref)return Yt(e,n,u)}return n.flags|=1,e=Sn(d,l),e.ref=n.ref,e.return=n,n.child=e}function uf(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(ii(d,l)&&e.ref===n.ref)if(nt=!1,n.pendingProps=l=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(nt=!0);else return n.lanes=e.lanes,Yt(e,n,u)}return oa(e,n,s,l,u)}function cf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Er,gt),gt|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,de(Er,gt),gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,de(Er,gt),gt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,de(Er,gt),gt|=l;return Ye(e,n,u,s),n.child}function df(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function oa(e,n,s,l,u){var d=tt(s)?Ln:$e.current;return d=fr(n,d),vr(n,u),s=Yl(e,n,s,l,d,u),l=Xl(),e!==null&&!nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Yt(e,n,u)):(ye&&l&&Ol(n),n.flags|=1,Ye(e,n,s,u),n.child)}function ff(e,n,s,l,u){if(tt(s)){var d=!0;xs(n)}else d=!1;if(vr(n,u),n.stateNode===null)Hs(e,n),Zd(n,s,l),ra(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var v=h.context,I=s.contextType;typeof I=="object"&&I!==null?I=wt(I):(I=tt(s)?Ln:$e.current,I=fr(n,I));var R=s.getDerivedStateFromProps,D=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||v!==I)&&ef(n,h,l,I),gn=!1;var N=n.memoizedState;h.state=N,Ls(n,l,h,u),v=n.memoizedState,_!==l||N!==v||et.current||gn?(typeof R=="function"&&(na(n,s,R,l),v=n.memoizedState),(_=gn||Jd(n,s,_,l,N,v,I))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),h.props=l,h.state=v,h.context=I,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Nd(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Tt(n.type,_),h.props=I,D=n.pendingProps,N=h.context,v=s.contextType,typeof v=="object"&&v!==null?v=wt(v):(v=tt(s)?Ln:$e.current,v=fr(n,v));var b=s.getDerivedStateFromProps;(R=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==D||N!==v)&&ef(n,h,l,v),gn=!1,N=n.memoizedState,h.state=N,Ls(n,l,h,u);var B=n.memoizedState;_!==D||N!==B||et.current||gn?(typeof b=="function"&&(na(n,s,b,l),B=n.memoizedState),(I=gn||Jd(n,s,I,l,N,B,v)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,v)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=v,l=I):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return la(e,n,s,l,d,u)}function la(e,n,s,l,u,d){df(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&gd(n,s,!1),Yt(e,n,d);l=n.stateNode,i_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=gr(n,e.child,null,d),n.child=gr(n,null,_,d)):Ye(e,n,_,d),n.memoizedState=l.state,u&&gd(n,s,!0),n.child}function hf(e){var n=e.stateNode;n.pendingContext?pd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&pd(e,n.context,!1),Vl(e,n.containerInfo)}function pf(e,n,s,l,u){return mr(),bl(u),n.flags|=256,Ye(e,n,s,l),n.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function mf(e,n,s){var l=n.pendingProps,u=Ce.current,d=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),de(Ce,u&1),e===null)return Fl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=to(h,l,0,null),e=Vn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=ua(s),n.memoizedState=aa,e):ca(n,h));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return s_(e,n,h,l,_,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,_=u.sibling;var v={mode:"hidden",children:l.children};return(h&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=Sn(u,v),l.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=Sn(_,d):(d=Vn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?ua(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=aa,l}return d=e.child,e=d.sibling,l=Sn(d,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ca(e,n){return n=to({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ws(e,n,s,l){return l!==null&&bl(l),gr(n,e.child,null,s),e=ca(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function s_(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=ia(Error(r(422))),Ws(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=to({mode:"visible",children:l.children},u,0,null),d=Vn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,(n.mode&1)!==0&&gr(n,e.child,null,h),n.child.memoizedState=ua(h),n.memoizedState=aa,d);if((n.mode&1)===0)return Ws(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=ia(d,l,void 0),Ws(e,n,h,l)}if(_=(h&e.childLanes)!==0,nt||_){if(l=be,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|h))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Kt(e,u),Dt(l,e,u,-1))}return Ia(),l=ia(Error(r(421))),Ws(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=v_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,mt=fn(u.nextSibling),pt=n,ye=!0,Nt=null,e!==null&&(vt[yt++]=Qt,vt[yt++]=Gt,vt[yt++]=Mn,Qt=e.id,Gt=e.overflow,Mn=n),n=ca(n,l.children),n.flags|=4096,n)}function gf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bl(e.return,n,s)}function da(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function _f(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(Ye(e,n,l.children,s),l=Ce.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,s,n);else if(e.tag===19)gf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(de(Ce,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ms(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),da(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ms(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}da(n,!0,s,null,d);break;case"together":da(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Yt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Sn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Sn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function o_(e,n,s){switch(n.tag){case 3:hf(n),mr();break;case 5:Pd(n);break;case 1:tt(n.type)&&xs(n);break;case 4:Vl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;de(Ds,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(de(Ce,Ce.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?mf(e,n,s):(de(Ce,Ce.current&1),e=Yt(e,n,s),e!==null?e.sibling:null);de(Ce,Ce.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(e.flags&128)!==0){if(l)return _f(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,cf(e,n,s)}return Yt(e,n,s)}var vf,fa,yf,wf;vf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},fa=function(){},yf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,zn(Ut.current);var d=null;switch(s){case"input":u=Bo(e,u),l=Bo(e,l),d=[];break;case"select":u=U({},u,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":u=Vo(e,u),l=Vo(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Es)}Qo(s,l);var h;s=null;for(I in u)if(!l.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var _=u[I];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?d||(d=[]):(d=d||[]).push(I,null));for(I in l){var v=l[I];if(_=u!=null?u[I]:void 0,l.hasOwnProperty(I)&&v!==_&&(v!=null||_!=null))if(I==="style")if(_){for(h in _)!_.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in v)v.hasOwnProperty(h)&&_[h]!==v[h]&&(s||(s={}),s[h]=v[h])}else s||(d||(d=[]),d.push(I,s)),s=v;else I==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(d=d||[]).push(I,v)):I==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(I,""+v):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(v!=null&&I==="onScroll"&&me("scroll",e),d||_===v||(d=[])):(d=d||[]).push(I,v))}s&&(d=d||[]).push("style",s);var I=d;(n.updateQueue=I)&&(n.flags|=4)}},wf=function(e,n,s,l){s!==l&&(n.flags|=4)};function yi(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function l_(e,n,s){var l=n.pendingProps;switch(Ll(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return tt(n.type)&&ks(),Ge(n),null;case 3:return l=n.stateNode,yr(),ge(et),ge($e),Gl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Rs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nt!==null&&(Sa(Nt),Nt=null))),fa(e,n),Ge(n),null;case 5:$l(n);var u=zn(pi.current);if(s=n.type,e!==null&&n.stateNode!=null)yf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}if(e=zn(Ut.current),Rs(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[jt]=n,l[ui]=d,e=(n.mode&1)!==0,s){case"dialog":me("cancel",l),me("close",l);break;case"iframe":case"object":case"embed":me("load",l);break;case"video":case"audio":for(u=0;u<oi.length;u++)me(oi[u],l);break;case"source":me("error",l);break;case"img":case"image":case"link":me("error",l),me("load",l);break;case"details":me("toggle",l);break;case"input":Zu(l,d),me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},me("invalid",l);break;case"textarea":nc(l,d),me("invalid",l)}Qo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var _=d[h];h==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Cs(l.textContent,_,e),u=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Cs(l.textContent,_,e),u=["children",""+_]):a.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&me("scroll",l)}switch(s){case"input":Ji(l),tc(l,d,!0);break;case"textarea":Ji(l),ic(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Es)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[jt]=n,e[ui]=l,vf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Go(s,l),s){case"dialog":me("cancel",e),me("close",e),u=l;break;case"iframe":case"object":case"embed":me("load",e),u=l;break;case"video":case"audio":for(u=0;u<oi.length;u++)me(oi[u],e);u=l;break;case"source":me("error",e),u=l;break;case"img":case"image":case"link":me("error",e),me("load",e),u=l;break;case"details":me("toggle",e),u=l;break;case"input":Zu(e,l),u=Bo(e,l),me("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=U({},l,{value:void 0}),me("invalid",e);break;case"textarea":nc(e,l),u=Vo(e,l),me("invalid",e);break;default:u=l}Qo(s,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var v=_[d];d==="style"?ac(e,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&oc(e,v)):d==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&Br(e,v):typeof v=="number"&&Br(e,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?v!=null&&d==="onScroll"&&me("scroll",e):v!=null&&pe(e,d,v,h))}switch(s){case"input":Ji(e),tc(e,l,!1);break;case"textarea":Ji(e),ic(e);break;case"option":l.value!=null&&e.setAttribute("value",""+le(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?er(e,!!l.multiple,d,!1):l.defaultValue!=null&&er(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Es)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ge(n),null;case 6:if(e&&n.stateNode!=null)wf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=zn(pi.current),zn(Ut.current),Rs(n)){if(l=n.stateNode,s=n.memoizedProps,l[jt]=n,(d=l.nodeValue!==s)&&(e=pt,e!==null))switch(e.tag){case 3:Cs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[jt]=n,n.stateNode=l}return Ge(n),null;case 13:if(ge(Ce),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&mt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ed(),mr(),n.flags|=98560,d=!1;else if(d=Rs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[jt]=n}else mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else Nt!==null&&(Sa(Nt),Nt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ce.current&1)!==0?Le===0&&(Le=3):Ia())),n.updateQueue!==null&&(n.flags|=4),Ge(n),null);case 4:return yr(),fa(e,n),e===null&&li(n.stateNode.containerInfo),Ge(n),null;case 10:return Ul(n.type._context),Ge(n),null;case 17:return tt(n.type)&&ks(),Ge(n),null;case 19:if(ge(Ce),d=n.memoizedState,d===null)return Ge(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)yi(d,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ms(e),h!==null){for(n.flags|=128,yi(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return de(Ce,Ce.current&1|2),n.child}e=e.sibling}d.tail!==null&&Te()>Sr&&(n.flags|=128,l=!0,yi(d,!1),n.lanes=4194304)}else{if(!l)if(e=Ms(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),yi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ye)return Ge(n),null}else 2*Te()-d.renderingStartTime>Sr&&s!==1073741824&&(n.flags|=128,l=!0,yi(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Te(),n.sibling=null,s=Ce.current,de(Ce,l?s&1|2:s&1),n):(Ge(n),null);case 22:case 23:return xa(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(gt&1073741824)!==0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function a_(e,n){switch(Ll(n),n.tag){case 1:return tt(n.type)&&ks(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return yr(),ge(et),ge($e),Gl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return $l(n),null;case 13:if(ge(Ce),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ge(Ce),null;case 4:return yr(),null;case 10:return Ul(n.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var Vs=!1,Ke=!1,u_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){xe(e,n,l)}else s.current=null}function ha(e,n,s){try{s()}catch(l){xe(e,n,l)}}var Cf=!1;function c_(e,n){if(xl=cs,e=Jc(),_l(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,I=0,R=0,D=e,N=null;t:for(;;){for(var b;D!==s||u!==0&&D.nodeType!==3||(_=h+u),D!==d||l!==0&&D.nodeType!==3||(v=h+l),D.nodeType===3&&(h+=D.nodeValue.length),(b=D.firstChild)!==null;)N=D,D=b;for(;;){if(D===e)break t;if(N===s&&++I===u&&(_=h),N===d&&++R===l&&(v=h),(b=D.nextSibling)!==null)break;D=N,N=D.parentNode}D=b}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Il={focusedElem:e,selectionRange:s},cs=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Re=B.memoizedState,S=n.stateNode,y=S.getSnapshotBeforeUpdate(n.elementType===n.type?W:Tt(n.type,W),Re);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=n.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(A){xe(n,n.return,A)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=Cf,Cf=!1,B}function wi(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ha(n,s,d)}u=u.next}while(u!==l)}}function $s(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function pa(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Ef(e){var n=e.alternate;n!==null&&(e.alternate=null,Ef(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[jt],delete n[ui],delete n[Pl],delete n[Qg],delete n[Gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ma(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Es));else if(l!==4&&(e=e.child,e!==null))for(ma(e,n,s),e=e.sibling;e!==null;)ma(e,n,s),e=e.sibling}function ga(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ga(e,n,s),e=e.sibling;e!==null;)ga(e,n,s),e=e.sibling}var We=null,Rt=!1;function vn(e,n,s){for(s=s.child;s!==null;)xf(e,n,s),s=s.sibling}function xf(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(is,s)}catch{}switch(s.tag){case 5:Ke||Cr(s,n);case 6:var l=We,u=Rt;We=null,vn(e,n,s),We=l,Rt=u,We!==null&&(Rt?(e=We,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):We.removeChild(s.stateNode));break;case 18:We!==null&&(Rt?(e=We,s=s.stateNode,e.nodeType===8?Rl(e.parentNode,s):e.nodeType===1&&Rl(e,s),Jr(e)):Rl(We,s.stateNode));break;case 4:l=We,u=Rt,We=s.stateNode.containerInfo,Rt=!0,vn(e,n,s),We=l,Rt=u;break;case 0:case 11:case 14:case 15:if(!Ke&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ha(s,n,h),u=u.next}while(u!==l)}vn(e,n,s);break;case 1:if(!Ke&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){xe(s,n,_)}vn(e,n,s);break;case 21:vn(e,n,s);break;case 22:s.mode&1?(Ke=(l=Ke)||s.memoizedState!==null,vn(e,n,s),Ke=l):vn(e,n,s);break;default:vn(e,n,s)}}function If(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new u_),n.forEach(function(l){var u=y_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Pt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:We=_.stateNode,Rt=!1;break e;case 3:We=_.stateNode.containerInfo,Rt=!0;break e;case 4:We=_.stateNode.containerInfo,Rt=!0;break e}_=_.return}if(We===null)throw Error(r(160));xf(d,h,u),We=null,Rt=!1;var v=u.alternate;v!==null&&(v.return=null),u.return=null}catch(I){xe(u,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Nf(n,e),n=n.sibling}function Nf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(n,e),Wt(e),l&4){try{wi(3,e,e.return),$s(3,e)}catch(W){xe(e,e.return,W)}try{wi(5,e,e.return)}catch(W){xe(e,e.return,W)}}break;case 1:Pt(n,e),Wt(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Pt(n,e),Wt(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var u=e.stateNode;try{Br(u,"")}catch(W){xe(e,e.return,W)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&ec(u,d),Go(_,h);var I=Go(_,d);for(h=0;h<v.length;h+=2){var R=v[h],D=v[h+1];R==="style"?ac(u,D):R==="dangerouslySetInnerHTML"?oc(u,D):R==="children"?Br(u,D):pe(u,R,D,I)}switch(_){case"input":Wo(u,d);break;case"textarea":rc(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var b=d.value;b!=null?er(u,!!d.multiple,b,!1):N!==!!d.multiple&&(d.defaultValue!=null?er(u,!!d.multiple,d.defaultValue,!0):er(u,!!d.multiple,d.multiple?[]:"",!1))}u[ui]=d}catch(W){xe(e,e.return,W)}}break;case 6:if(Pt(n,e),Wt(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(W){xe(e,e.return,W)}}break;case 3:if(Pt(n,e),Wt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Jr(n.containerInfo)}catch(W){xe(e,e.return,W)}break;case 4:Pt(n,e),Wt(e);break;case 13:Pt(n,e),Wt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(ya=Te())),l&4&&If(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(I=Ke)||R,Pt(n,e),Ke=I):Pt(n,e),Wt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!R&&(e.mode&1)!==0)for(z=e,R=e.child;R!==null;){for(D=z=R;z!==null;){switch(N=z,b=N.child,N.tag){case 0:case 11:case 14:case 15:wi(4,N,N.return);break;case 1:Cr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){xe(l,s,W)}}break;case 5:Cr(N,N.return);break;case 22:if(N.memoizedState!==null){Pf(D);continue}}b!==null?(b.return=N,z=b):Pf(D)}R=R.sibling}e:for(R=null,D=e;;){if(D.tag===5){if(R===null){R=D;try{u=D.stateNode,I?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=D.stateNode,v=D.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=lc("display",h))}catch(W){xe(e,e.return,W)}}}else if(D.tag===6){if(R===null)try{D.stateNode.nodeValue=I?"":D.memoizedProps}catch(W){xe(e,e.return,W)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;R===D&&(R=null),D=D.return}R===D&&(R=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Pt(n,e),Wt(e),l&4&&If(e);break;case 21:break;default:Pt(n,e),Wt(e)}}function Wt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Sf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Br(u,""),l.flags&=-33);var d=kf(e);ga(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,_=kf(e);ma(e,_,h);break;default:throw Error(r(161))}}catch(v){xe(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function d_(e,n,s){z=e,Tf(e)}function Tf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Vs;if(!h){var _=u.alternate,v=_!==null&&_.memoizedState!==null||Ke;_=Vs;var I=Ke;if(Vs=h,(Ke=v)&&!I)for(z=u;z!==null;)h=z,v=h.child,h.tag===22&&h.memoizedState!==null?Df(u):v!==null?(v.return=h,z=v):Df(u);for(;d!==null;)z=d,Tf(d),d=d.sibling;z=u,Vs=_,Ke=I}Rf(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,z=d):Rf(e)}}function Rf(e){for(;z!==null;){var n=z;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ke||$s(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Ke)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Tt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Rd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Rd(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var R=I.memoizedState;if(R!==null){var D=R.dehydrated;D!==null&&Jr(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ke||n.flags&512&&pa(n)}catch(N){xe(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Pf(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Df(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{$s(4,n)}catch(v){xe(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(v){xe(n,u,v)}}var d=n.return;try{pa(n)}catch(v){xe(n,d,v)}break;case 5:var h=n.return;try{pa(n)}catch(v){xe(n,h,v)}}}catch(v){xe(n,n.return,v)}if(n===e){z=null;break}var _=n.sibling;if(_!==null){_.return=n.return,z=_;break}z=n.return}}var f_=Math.ceil,Qs=we.ReactCurrentDispatcher,_a=we.ReactCurrentOwner,Et=we.ReactCurrentBatchConfig,ne=0,be=null,De=null,He=0,gt=0,Er=hn(0),Le=0,Ci=null,Un=0,Gs=0,va=0,Ei=null,rt=null,ya=0,Sr=1/0,Xt=null,Ks=!1,wa=null,yn=null,qs=!1,wn=null,Ys=0,Si=0,Ca=null,Xs=-1,Js=0;function Xe(){return(ne&6)!==0?Te():Xs!==-1?Xs:Xs=Te()}function Cn(e){return(e.mode&1)===0?1:(ne&2)!==0&&He!==0?He&-He:qg.transition!==null?(Js===0&&(Js=Sc()),Js):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Ac(e.type)),e)}function Dt(e,n,s,l){if(50<Si)throw Si=0,Ca=null,Error(r(185));Gr(e,s,l),((ne&2)===0||e!==be)&&(e===be&&((ne&2)===0&&(Gs|=s),Le===4&&En(e,He)),it(e,l),s===1&&ne===0&&(n.mode&1)===0&&(Sr=Te()+500,Is&&mn()))}function it(e,n){var s=e.callbackNode;qm(e,n);var l=ls(e,e===be?He:0);if(l===0)s!==null&&wc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&wc(s),n===1)e.tag===0?Kg(Of.bind(null,e)):_d(Of.bind(null,e)),Vg(function(){(ne&6)===0&&mn()}),s=null;else{switch(kc(l)){case 1:s=el;break;case 4:s=Cc;break;case 16:s=rs;break;case 536870912:s=Ec;break;default:s=rs}s=Bf(s,Af.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Af(e,n){if(Xs=-1,Js=0,(ne&6)!==0)throw Error(r(327));var s=e.callbackNode;if(kr()&&e.callbackNode!==s)return null;var l=ls(e,e===be?He:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Zs(e,l);else{n=l;var u=ne;ne|=2;var d=Mf();(be!==e||He!==n)&&(Xt=null,Sr=Te()+500,Wn(e,n));do try{m_();break}catch(_){Lf(e,_)}while(!0);jl(),Qs.current=d,ne=u,De!==null?n=0:(be=null,He=0,n=Le)}if(n!==0){if(n===2&&(u=tl(e),u!==0&&(l=u,n=Ea(e,u))),n===1)throw s=Ci,Wn(e,0),En(e,l),it(e,Te()),s;if(n===6)En(e,l);else{if(u=e.current.alternate,(l&30)===0&&!h_(u)&&(n=Zs(e,l),n===2&&(d=tl(e),d!==0&&(l=d,n=Ea(e,d))),n===1))throw s=Ci,Wn(e,0),En(e,l),it(e,Te()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Hn(e,rt,Xt);break;case 3:if(En(e,l),(l&130023424)===l&&(n=ya+500-Te(),10<n)){if(ls(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){Xe(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Tl(Hn.bind(null,e,rt,Xt),n);break}Hn(e,rt,Xt);break;case 4:if(En(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-xt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=Te()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*f_(l/1960))-l,10<l){e.timeoutHandle=Tl(Hn.bind(null,e,rt,Xt),l);break}Hn(e,rt,Xt);break;case 5:Hn(e,rt,Xt);break;default:throw Error(r(329))}}}return it(e,Te()),e.callbackNode===s?Af.bind(null,e):null}function Ea(e,n){var s=Ei;return e.current.memoizedState.isDehydrated&&(Wn(e,n).flags|=256),e=Zs(e,n),e!==2&&(n=rt,rt=s,n!==null&&Sa(n)),e}function Sa(e){rt===null?rt=e:rt.push.apply(rt,e)}function h_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!It(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function En(e,n){for(n&=~va,n&=~Gs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-xt(n),l=1<<s;e[s]=-1,n&=~l}}function Of(e){if((ne&6)!==0)throw Error(r(327));kr();var n=ls(e,0);if((n&1)===0)return it(e,Te()),null;var s=Zs(e,n);if(e.tag!==0&&s===2){var l=tl(e);l!==0&&(n=l,s=Ea(e,l))}if(s===1)throw s=Ci,Wn(e,0),En(e,n),it(e,Te()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Hn(e,rt,Xt),it(e,Te()),null}function ka(e,n){var s=ne;ne|=1;try{return e(n)}finally{ne=s,ne===0&&(Sr=Te()+500,Is&&mn())}}function Bn(e){wn!==null&&wn.tag===0&&(ne&6)===0&&kr();var n=ne;ne|=1;var s=Et.transition,l=ae;try{if(Et.transition=null,ae=1,e)return e()}finally{ae=l,Et.transition=s,ne=n,(ne&6)===0&&mn()}}function xa(){gt=Er.current,ge(Er)}function Wn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Hg(s)),De!==null)for(s=De.return;s!==null;){var l=s;switch(Ll(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ks();break;case 3:yr(),ge(et),ge($e),Gl();break;case 5:$l(l);break;case 4:yr();break;case 13:ge(Ce);break;case 19:ge(Ce);break;case 10:Ul(l.type._context);break;case 22:case 23:xa()}s=s.return}if(be=e,De=e=Sn(e.current,null),He=gt=n,Le=0,Ci=null,va=Gs=Un=0,rt=Ei=null,bn!==null){for(n=0;n<bn.length;n++)if(s=bn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}bn=null}return e}function Lf(e,n){do{var s=De;try{if(jl(),Fs.current=Us,bs){for(var l=Ee.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}bs=!1}if(jn=0,Fe=Oe=Ee=null,mi=!1,gi=0,_a.current=null,s===null||s.return===null){Le=1,Ci=n,De=null;break}e:{var d=e,h=s.return,_=s,v=n;if(n=He,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=v,R=_,D=R.tag;if((R.mode&1)===0&&(D===0||D===11||D===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var b=sf(h);if(b!==null){b.flags&=-257,of(b,h,_,d,n),b.mode&1&&rf(d,I,n),n=b,v=I;var B=n.updateQueue;if(B===null){var W=new Set;W.add(v),n.updateQueue=W}else B.add(v);break e}else{if((n&1)===0){rf(d,I,n),Ia();break e}v=Error(r(426))}}else if(ye&&_.mode&1){var Re=sf(h);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),of(Re,h,_,d,n),bl(wr(v,_));break e}}d=v=wr(v,_),Le!==4&&(Le=2),Ei===null?Ei=[d]:Ei.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var S=tf(d,v,n);Td(d,S);break e;case 1:_=v;var y=d.type,x=d.stateNode;if((d.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yn===null||!yn.has(x)))){d.flags|=65536,n&=-n,d.lanes|=n;var A=nf(d,_,n);Td(d,A);break e}}d=d.return}while(d!==null)}bf(s)}catch(H){n=H,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Mf(){var e=Qs.current;return Qs.current=Us,e===null?Us:e}function Ia(){(Le===0||Le===3||Le===2)&&(Le=4),be===null||(Un&268435455)===0&&(Gs&268435455)===0||En(be,He)}function Zs(e,n){var s=ne;ne|=2;var l=Mf();(be!==e||He!==n)&&(Xt=null,Wn(e,n));do try{p_();break}catch(u){Lf(e,u)}while(!0);if(jl(),ne=s,Qs.current=l,De!==null)throw Error(r(261));return be=null,He=0,Le}function p_(){for(;De!==null;)Ff(De)}function m_(){for(;De!==null&&!Um();)Ff(De)}function Ff(e){var n=Uf(e.alternate,e,gt);e.memoizedProps=e.pendingProps,n===null?bf(e):De=n,_a.current=null}function bf(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=l_(s,n,gt),s!==null){De=s;return}}else{if(s=a_(s,n),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,De=null;return}}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);Le===0&&(Le=5)}function Hn(e,n,s){var l=ae,u=Et.transition;try{Et.transition=null,ae=1,g_(e,n,s,l)}finally{Et.transition=u,ae=l}return null}function g_(e,n,s,l){do kr();while(wn!==null);if((ne&6)!==0)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Ym(e,d),e===be&&(De=be=null,He=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||qs||(qs=!0,Bf(rs,function(){return kr(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=Et.transition,Et.transition=null;var h=ae;ae=1;var _=ne;ne|=4,_a.current=null,c_(e,s),Nf(s,e),Fg(Il),cs=!!xl,Il=xl=null,e.current=s,d_(s),Bm(),ne=_,ae=h,Et.transition=d}else e.current=s;if(qs&&(qs=!1,wn=e,Ys=u),d=e.pendingLanes,d===0&&(yn=null),Vm(s.stateNode),it(e,Te()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Ks)throw Ks=!1,e=wa,wa=null,e;return(Ys&1)!==0&&e.tag!==0&&kr(),d=e.pendingLanes,(d&1)!==0?e===Ca?Si++:(Si=0,Ca=e):Si=0,mn(),null}function kr(){if(wn!==null){var e=kc(Ys),n=Et.transition,s=ae;try{if(Et.transition=null,ae=16>e?16:e,wn===null)var l=!1;else{if(e=wn,wn=null,Ys=0,(ne&6)!==0)throw Error(r(331));var u=ne;for(ne|=4,z=e.current;z!==null;){var d=z,h=d.child;if((z.flags&16)!==0){var _=d.deletions;if(_!==null){for(var v=0;v<_.length;v++){var I=_[v];for(z=I;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:wi(8,R,d)}var D=R.child;if(D!==null)D.return=R,z=D;else for(;z!==null;){R=z;var N=R.sibling,b=R.return;if(Ef(R),R===I){z=null;break}if(N!==null){N.return=b,z=N;break}z=b}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Re=W.sibling;W.sibling=null,W=Re}while(W!==null)}}z=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:wi(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,z=S;break e}z=d.return}}var y=e.current;for(z=y;z!==null;){h=z;var x=h.child;if((h.subtreeFlags&2064)!==0&&x!==null)x.return=h,z=x;else e:for(h=y;z!==null;){if(_=z,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:$s(9,_)}}catch(H){xe(_,_.return,H)}if(_===h){z=null;break e}var A=_.sibling;if(A!==null){A.return=_.return,z=A;break e}z=_.return}}if(ne=u,mn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(is,e)}catch{}l=!0}return l}finally{ae=s,Et.transition=n}}return!1}function zf(e,n,s){n=wr(s,n),n=tf(e,n,1),e=_n(e,n,1),n=Xe(),e!==null&&(Gr(e,1,n),it(e,n))}function xe(e,n,s){if(e.tag===3)zf(e,e,s);else for(;n!==null;){if(n.tag===3){zf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yn===null||!yn.has(l))){e=wr(s,e),e=nf(n,e,1),n=_n(n,e,1),e=Xe(),n!==null&&(Gr(n,1,e),it(n,e));break}}n=n.return}}function __(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Xe(),e.pingedLanes|=e.suspendedLanes&s,be===e&&(He&s)===s&&(Le===4||Le===3&&(He&130023424)===He&&500>Te()-ya?Wn(e,0):va|=s),it(e,n)}function jf(e,n){n===0&&((e.mode&1)===0?n=1:(n=os,os<<=1,(os&130023424)===0&&(os=4194304)));var s=Xe();e=Kt(e,n),e!==null&&(Gr(e,n,s),it(e,s))}function v_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),jf(e,s)}function y_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),jf(e,s)}var Uf;Uf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||et.current)nt=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return nt=!1,o_(e,n,s);nt=(e.flags&131072)!==0}else nt=!1,ye&&(n.flags&1048576)!==0&&vd(n,Ts,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Hs(e,n),e=n.pendingProps;var u=fr(n,$e.current);vr(n,s),u=Yl(null,n,l,e,u,s);var d=Xl();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,tt(l)?(d=!0,xs(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Hl(n),u.updater=Bs,n.stateNode=u,u._reactInternals=n,ra(n,l,e,s),n=la(null,n,l,!0,d,s)):(n.tag=0,ye&&d&&Ol(n),Ye(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Hs(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=C_(l),e=Tt(l,e),u){case 0:n=oa(null,n,l,e,s);break e;case 1:n=ff(null,n,l,e,s);break e;case 11:n=lf(null,n,l,e,s);break e;case 14:n=af(null,n,l,Tt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Tt(l,u),oa(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Tt(l,u),ff(e,n,l,u,s);case 3:e:{if(hf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,Nd(e,n),Ls(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=wr(Error(r(423)),n),n=pf(e,n,l,s,u);break e}else if(l!==u){u=wr(Error(r(424)),n),n=pf(e,n,l,s,u);break e}else for(mt=fn(n.stateNode.containerInfo.firstChild),pt=n,ye=!0,Nt=null,s=xd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(mr(),l===u){n=Yt(e,n,s);break e}Ye(e,n,l,s)}n=n.child}return n;case 5:return Pd(n),e===null&&Fl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Nl(l,u)?h=null:d!==null&&Nl(l,d)&&(n.flags|=32),df(e,n),Ye(e,n,h,s),n.child;case 6:return e===null&&Fl(n),null;case 13:return mf(e,n,s);case 4:return Vl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=gr(n,null,l,s):Ye(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Tt(l,u),lf(e,n,l,u,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,de(Ds,l._currentValue),l._currentValue=h,d!==null)if(It(d.value,h)){if(d.children===u.children&&!et.current){n=Yt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){h=d.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(d.tag===1){v=qt(-1,s&-s),v.tag=2;var I=d.updateQueue;if(I!==null){I=I.shared;var R=I.pending;R===null?v.next=v:(v.next=R.next,R.next=v),I.pending=v}}d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),Bl(d.return,s,n),_.lanes|=s;break}v=v.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Bl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Ye(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,vr(n,s),u=wt(u),l=l(u),n.flags|=1,Ye(e,n,l,s),n.child;case 14:return l=n.type,u=Tt(l,n.pendingProps),u=Tt(l.type,u),af(e,n,l,u,s);case 15:return uf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Tt(l,u),Hs(e,n),n.tag=1,tt(l)?(e=!0,xs(n)):e=!1,vr(n,s),Zd(n,l,u),ra(n,l,u,s),la(null,n,l,!0,e,s);case 19:return _f(e,n,s);case 22:return cf(e,n,s)}throw Error(r(156,n.tag))};function Bf(e,n){return yc(e,n)}function w_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,n,s,l){return new w_(e,n,s,l)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C_(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ft)return 11;if(e===bt)return 14}return 2}function Sn(e,n){var s=e.alternate;return s===null?(s=St(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function eo(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Na(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Je:return Vn(s.children,u,d,n);case _t:h=8,u|=8;break;case sn:return e=St(12,s,n,u|2),e.elementType=sn,e.lanes=d,e;case dt:return e=St(13,s,n,u),e.elementType=dt,e.lanes=d,e;case kt:return e=St(19,s,n,u),e.elementType=kt,e.lanes=d,e;case ke:return to(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ht:h=10;break e;case Dn:h=9;break e;case Ft:h=11;break e;case bt:h=14;break e;case Ze:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=St(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Vn(e,n,s,l){return e=St(7,e,l,n),e.lanes=s,e}function to(e,n,s,l){return e=St(22,e,l,n),e.elementType=ke,e.lanes=s,e.stateNode={isHidden:!1},e}function Ta(e,n,s){return e=St(6,e,null,n),e.lanes=s,e}function Ra(e,n,s){return n=St(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function E_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Pa(e,n,s,l,u,d,h,_,v){return e=new E_(e,n,s,_,v),n===1?(n=1,d===!0&&(n|=8)):n=0,d=St(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(d),e}function S_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Wf(e){if(!e)return pn;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(tt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(tt(s))return md(e,s,n)}return n}function Hf(e,n,s,l,u,d,h,_,v){return e=Pa(s,l,!0,e,u,d,h,_,v),e.context=Wf(null),s=e.current,l=Xe(),u=Cn(s),d=qt(l,u),d.callback=n??null,_n(s,d,u),e.current.lanes=u,Gr(e,u,l),it(e,l),e}function no(e,n,s,l){var u=n.current,d=Xe(),h=Cn(u);return s=Wf(s),n.context===null?n.context=s:n.pendingContext=s,n=qt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=_n(u,n,h),e!==null&&(Dt(e,u,h,d),Os(e,u,h)),h}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Da(e,n){Vf(e,n),(e=e.alternate)&&Vf(e,n)}function k_(){return null}var $f=typeof reportError=="function"?reportError:function(e){console.error(e)};function Aa(e){this._internalRoot=e}io.prototype.render=Aa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));no(e,n,null,null)},io.prototype.unmount=Aa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bn(function(){no(null,e,null,null)}),n[Vt]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var n=Nc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<un.length&&n!==0&&n<un[s].priority;s++);un.splice(s,0,e),s===0&&Pc(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function x_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var I=ro(h);d.call(I)}}var h=Hf(n,l,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=h,e[Vt]=h.current,li(e.nodeType===8?e.parentNode:e),Bn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var _=l;l=function(){var I=ro(v);_.call(I)}}var v=Pa(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=v,e[Vt]=v.current,li(e.nodeType===8?e.parentNode:e),Bn(function(){no(n,v,s,l)}),v}function oo(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var _=u;u=function(){var v=ro(h);_.call(v)}}no(n,h,e,u)}else h=x_(s,n,e,u,l);return ro(h)}xc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Qr(n.pendingLanes);s!==0&&(rl(n,s|1),it(n,Te()),(ne&6)===0&&(Sr=Te()+500,mn()))}break;case 13:Bn(function(){var l=Kt(e,1);if(l!==null){var u=Xe();Dt(l,e,1,u)}}),Da(e,1)}},il=function(e){if(e.tag===13){var n=Kt(e,134217728);if(n!==null){var s=Xe();Dt(n,e,134217728,s)}Da(e,134217728)}},Ic=function(e){if(e.tag===13){var n=Cn(e),s=Kt(e,n);if(s!==null){var l=Xe();Dt(s,e,n,l)}Da(e,n)}},Nc=function(){return ae},Tc=function(e,n){var s=ae;try{return ae=e,n()}finally{ae=s}},Yo=function(e,n,s){switch(n){case"input":if(Wo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Ss(l);if(!u)throw Error(r(90));Ju(l),Wo(l,u)}}}break;case"textarea":rc(e,s);break;case"select":n=s.value,n!=null&&er(e,!!s.multiple,n,!1)}},fc=ka,hc=Bn;var I_={usingClientEntryPoint:!1,Events:[ci,cr,Ss,cc,dc,ka]},ki={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N_={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_c(e),e===null?null:e.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||k_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{is=lo.inject(N_),zt=lo}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_,st.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(n))throw Error(r(200));return S_(e,n,null,s)},st.createRoot=function(e,n){if(!Oa(e))throw Error(r(299));var s=!1,l="",u=$f;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Pa(e,1,!1,null,null,s,!1,l,u),e[Vt]=n.current,li(e.nodeType===8?e.parentNode:e),new Aa(n)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_c(n),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Bn(e)},st.hydrate=function(e,n,s){if(!so(n))throw Error(r(200));return oo(null,e,n,!0,s)},st.hydrateRoot=function(e,n,s){if(!Oa(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=$f;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Hf(n,null,e,1,s??null,u,!1,d,h),e[Vt]=n.current,li(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new io(n)},st.render=function(e,n,s){if(!so(n))throw Error(r(200));return oo(null,e,n,!1,s)},st.unmountComponentAtNode=function(e){if(!so(e))throw Error(r(40));return e._reactRootContainer?(Bn(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1},st.unstable_batchedUpdates=ka,st.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!so(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return oo(e,n,s,!1,l)},st.version="18.3.1-next-f1338f8080-20240426",st}var eh;function F_(){if(eh)return Fa.exports;eh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Fa.exports=M_(),Fa.exports}var th;function b_(){if(th)return ao;th=1;var i=F_();return ao.createRoot=i.createRoot,ao.hydrateRoot=i.hydrateRoot,ao}var z_=b_();const j_=Zh(z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),nh=i=>{const t=B_(i);return t.charAt(0).toUpperCase()+t.slice(1)},ep=(...i)=>i.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim(),W_=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Pe.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:f,...p},m)=>Pe.createElement("svg",{ref:m,...H_,width:t,height:t,stroke:i,strokeWidth:o?Number(r)*24/Number(t):r,className:ep("lucide",a),...!c&&!W_(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,k])=>Pe.createElement(g,k)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=(i,t)=>{const r=Pe.forwardRef(({className:o,...a},c)=>Pe.createElement(V_,{ref:c,iconNode:t,className:ep(`lucide-${U_(nh(i))}`,`lucide-${i}`,o),...a}));return r.displayName=nh(i),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Q_=tp("menu",$_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K_=tp("x",G_),q_=()=>{const[i,t]=Pe.useState(!1),r=o=>{const a=document.getElementById(o);a&&(a.scrollIntoView({behavior:"smooth"}),t(!1))};return P.jsxs("nav",{className:"bg-black text-white fixed top-0 w-full z-50 shadow-md",children:[P.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("img",{src:"/images/logo.png",alt:"Black Lotus Logo",className:"h-10 w-auto"}),P.jsx("span",{className:"text-2xl font-bold",children:"Black Lotus Tattoo"})]}),P.jsxs("div",{className:"hidden md:flex space-x-4 text-sm sm:text-base",children:[P.jsx("button",{onClick:()=>r("tattoos"),className:"hover:underline",children:"Tattoos"}),P.jsx("button",{onClick:()=>r("artists"),className:"hover:underline",children:"Artists"}),P.jsx("button",{onClick:()=>r("employment"),className:"hover:underline",children:"Employment"})]}),P.jsx("div",{className:"md:hidden",children:P.jsx("button",{onClick:()=>t(!i),children:i?P.jsx(K_,{size:24}):P.jsx(Q_,{size:24})})})]}),i&&P.jsxs("div",{className:"md:hidden bg-black border-t border-white/10 px-4 pb-4 space-y-2",children:[P.jsx("button",{onClick:()=>r("tattoos"),className:"block w-full text-left hover:underline",children:"Tattoos"}),P.jsx("button",{onClick:()=>r("artists"),className:"block w-full text-left hover:underline",children:"Artists"}),P.jsx("button",{onClick:()=>r("employment"),className:"block w-full text-left hover:underline",children:"Employment"})]})]})},Y_=[{id:1,image:"/images/geoblkout.png",title:"Geometric Blackout"},{id:2,image:"/images/wings.png",title:"Wings"},{id:3,image:"/images/blacklotus.png",title:"Back Lotus"}],X_=()=>P.jsxs("section",{className:"py-16 px-4 bg-transparent text-white",children:[P.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:"Exclusive Tattoos"}),P.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:Y_.map(i=>P.jsxs("div",{className:"rounded overflow-hidden shadow-lg bg-transparent",style:{zIndex:"2"},children:[P.jsx("img",{src:i.image,alt:"",className:"w-full h-64 object-cover"}),P.jsx("div",{className:"p-4 text-center",children:P.jsx("h3",{className:"text-lg font-semibold",children:i.title})})]},i.id))})]}),J_=({artistName:i,discordId:t,onClose:r})=>{const[o,a]=Pe.useState(""),[c,f]=Pe.useState(""),[p,m]=Pe.useState(""),[g,k]=Pe.useState(""),[C,w]=Pe.useState(!1),O="https://discord.com/api/webhooks/1376291483149271090/z4dr7KCkvRKOahQEKnJ4Bsi1d-bHsnGpiKtDt8V7KSLl1_9hF6JetEYSzvEWbpv7MDYs",F=async j=>{j.preventDefault(),w(!0);const Q=pe=>{const[we,ct]=pe.split(":"),Ae=new Date;return Ae.setHours(parseInt(we)),Ae.setMinutes(parseInt(ct)),Ae.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})},Ne=pe=>new Date(pe).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Se={content:`<@${t}> New appointment request!`,embeds:[{title:"Appointment Request",fields:[{name:"Artist",value:i},{name:"Client Name",value:o},{name:"Preferred Date",value:Ne(c)},{name:"Preferred Time",value:Q(p)},{name:"Phone Number",value:g}],color:16711900}]};try{await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Se)}),alert("Appointment request sent!"),r()}catch(pe){alert("Failed to send appointment request."),console.error(pe)}finally{w(!1)}};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:P.jsxs("div",{className:"bg-black border-2 border-white-500 border-opacity-75 p-6 rounded-lg w-96 relative",children:[P.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-white text-xl",children:""}),P.jsxs("h2",{className:"text-xl text-center font-semibold mb-4",children:["Request an appointment with ",i]}),P.jsx("p",{className:"text-center",children:"Please use est for time entry"}),P.jsxs("form",{onSubmit:F,className:"space-y-3",children:[P.jsx("label",{className:"block font-medium mb-1",children:"Name"}),P.jsx("input",{type:"text",placeholder:"Your Name",className:"w-full border p-2 rounded text-black",value:o,onChange:j=>a(j.target.value),required:!0}),P.jsx("label",{className:"block font-medium mb-1",children:"Date"}),P.jsx("input",{type:"date",className:"w-full border p-2 rounded text-black",value:c,onChange:j=>f(j.target.value),required:!0}),P.jsx("label",{className:"block font-medium mb-1",children:"Time"}),P.jsx("input",{type:"time",className:"w-full border p-2 rounded text-black",value:p,onChange:j=>m(j.target.value),required:!0}),P.jsx("label",{className:"block font-medium mb-1",children:"Phone Number"}),P.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full border p-2 rounded text-black",value:g,onChange:j=>k(j.target.value),required:!0}),P.jsx("button",{type:"submit",disabled:C,className:"w-full bg-black text-white p-2 rounded border border-white/20 bg-black/40 text-white backdrop-blur-sm shadow-md hover:shadow-xl hover:bg-white/10 transition-all duration-300 ease-in-out",children:C?"Sending...":"Submit Request"})]})]})})},Z_=[{name:"Larry",image:"/images/larry.png",discordId:"154342336246054912"},{name:"Jess",image:"/images/logo.png",discordId:"143125860969480192"},{name:"Blake",image:"/images/blake.png",discordId:"198207934101061632"},{name:"Liz",image:"/images/lizard.png",discordId:"518842456880447519"},{name:"Sevyn",image:"/images/sevyn.png",discordId:"197934566999064576"},{name:"Carson",image:"/images/carson.png",discordId:"169205950794825729"},{name:"Hydra",image:"/images/logo.png",discordId:"199356613599952897"},{name:"Parker",image:"/images/logo.png",discordId:"426216759284989952"},{name:"Amber",image:"/images/logo.png",discordId:"176483078124863488"},{name:"Cameron",image:"/images/logo.png",discordId:"171729228935462913"},{name:"Connor",image:"/images/logo.png",discordId:"180853614070333442"},{name:"Craig",image:"/images/logo.png",discordId:"154990344935571458"}],ev=()=>{const[i,t]=Pe.useState(null);return P.jsxs("section",{id:"artists",className:"py-16 px-4",children:[P.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Meet Our Artists"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Z_.map((r,o)=>P.jsxs("div",{className:"rounded-lg shadow-md p-4 text-center text-white flex flex-col items-center",children:[P.jsx("img",{src:r.image,alt:r.name,className:"w-80 h-90 mb-4",style:{zIndex:"1"}}),P.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.name}),P.jsx("button",{onClick:()=>t(r),className:"mt-auto px-5 py-2 rounded-xl border border-white/20 bg-black/40 text-white hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Request Appointment"})]},o))}),i&&P.jsx(J_,{artistName:i.name,discordId:i.discordId,onClose:()=>t(null)})]})},tv=({onClose:i})=>{const[t,r]=Pe.useState({name:"",experience:"",contact:"",position:""}),[o,a]=Pe.useState(!1),[c,f]=Pe.useState(!1),p="https://discord.com/api/webhooks/1376291867431407657/r1MtjIap--Ip4F4tD6ukbmIRg_tBKm59n-BV_78wBDFjxPjIvGIZaEZzLanNbJphFT59",m=k=>{r(C=>({...C,[k.target.name]:k.target.value}))},g=async k=>{k.preventDefault(),a(!0);const C={content:" **New Employment Application Submitted**",embeds:[{title:"Employment Application",fields:[{name:"Name",value:t.name},{name:"Position",value:t.position},{name:"Experience",value:t.experience},{name:"Contact Info",value:t.contact}],color:5814783}]};try{await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),f(!0)}catch(w){console.error("Error submitting employment form:",w)}finally{a(!1)}};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 px-4",children:P.jsxs("div",{className:"bg-black p-6 border border-whiterounded-lg w-full max-w-lg",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Employment Application"}),c?P.jsx("p",{className:"text-green-600 text-center",children:"Application submitted successfully!"}):P.jsxs("form",{onSubmit:g,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1",children:"Name"}),P.jsx("input",{type:"text",name:"name",required:!0,placeholder:"First Last",value:t.name,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1",children:"Position Applying For"}),P.jsxs("select",{name:"position",required:!0,value:t.position,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 bg-white text-black",children:[P.jsx("option",{value:"",disabled:!0,children:"Select a position"}),P.jsx("option",{value:"Receptionist",children:"Receptionist"}),P.jsx("option",{value:"Apprentice",children:"Apprentice"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1",children:"Experience"}),P.jsx("textarea",{name:"experience",value:t.experience,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1",children:"Phone Number"}),P.jsx("input",{type:"text",name:"contact",required:!0,placeholder:"1234567890",value:t.contact,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 text-black"})]}),P.jsxs("div",{className:"flex justify-end gap-2",children:[P.jsx("button",{type:"button",onClick:i,className:"bg-gray-500 text-black px-4 py-2 rounded hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Cancel"}),P.jsx("button",{type:"submit",disabled:o,className:"backdrop-blur-sm shadow-md hover:shadow-xl text-white px-4 py-2 rounded hover:bg-white/10 transition-all duration-300 ease-in-out",children:o?"Submitting...":"Submit"})]})]})]})})},nv=()=>{};var rh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(i,t){if(!i)throw Mr(t)},Mr=function(i){return new Error("Firebase Database ("+np.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},rv=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},mu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,k=c>>2,C=(c&3)<<4|p>>4;let w=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(w=64)),o.push(r[k],r[C],r[w],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(rp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):rv(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const C=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||g==null||C==null)throw new iv;const w=c<<2|p>>4;if(o.push(w),g!==64){const O=p<<4&240|g>>2;if(o.push(O),C!==64){const F=g<<6&192|C;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ip=function(i){const t=rp(i);return mu.encodeByteArray(t,!0)},ho=function(i){return ip(i).replace(/\./g,"")},Ya=function(i){try{return mu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){return sp(void 0,i)}function sp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!ov(r)||(i[r]=sp(i[r],t[r]));return i}function ov(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=()=>lv().__FIREBASE_DEFAULTS__,uv=()=>{if(typeof process>"u"||typeof rh>"u")return;const i=rh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ya(i[1]);return t&&JSON.parse(t)},op=()=>{try{return nv()||av()||uv()||cv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},dv=i=>{var t,r;return(r=(t=op())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},fv=i=>{const t=dv(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},lp=()=>{var i;return(i=op())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){return i.endsWith(".cloudworkstations.dev")}async function hv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ho(JSON.stringify(r)),ho(JSON.stringify(f)),""].join(".")}const Pi={};function mv(){const i={prod:[],emulator:[]};for(const t of Object.keys(Pi))Pi[t]?i.emulator.push(t):i.prod.push(t);return i}function gv(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let ih=!1;function _v(i,t){if(typeof window>"u"||typeof document>"u"||!gu(window.location.host)||Pi[i]===t||Pi[i]||ih)return;Pi[i]=t;function r(w){return`__firebase__banner__${w}`}const o="__firebase__banner",c=mv().prod.length>0;function f(){const w=document.getElementById(o);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ih=!0,f()},w}function k(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function C(){const w=gv(o),O=r("text"),F=document.getElementById(O)||document.createElement("span"),j=r("learnmore"),Q=document.getElementById(j)||document.createElement("a"),Ne=r("preprendIcon"),Se=document.getElementById(Ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const pe=w.element;p(pe),k(Q,j);const we=g();m(Se,Ne),pe.append(Se,F,Q,we),document.body.appendChild(pe)}c?(F.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ap(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vv())}function yv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wv(){return np.NODE_ADMIN===!0}function Cv(){try{return typeof indexedDB=="object"}catch{return!1}}function Ev(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="FirebaseError";class Qi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Sv,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,up.prototype.create)}}class up{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?kv(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Qi(a,p,o)}}function kv(i,t){return i.replace(xv,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const xv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(i){return JSON.parse(i)}function Be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=Fi(Ya(c[0])||""),r=Fi(Ya(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},Iv=function(i){const t=cp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Nv=function(i){const t=cp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Dr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function sh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function po(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function mo(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(oh(c)&&oh(f)){if(!mo(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function oh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let C=0;C<16;C++)o[C]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let C=0;C<16;C++)o[C]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let C=16;C<80;C++){const w=o[C-3]^o[C-8]^o[C-14]^o[C-16];o[C]=(w<<1|w>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,k;for(let C=0;C<80;C++){C<40?C<20?(g=p^c&(f^p),k=1518500249):(g=c^f^p,k=1859775393):C<60?(g=c&f|p&(c|f),k=2400959708):(g=c^f^p,k=3395469782);const w=(a<<5|a>>>27)+g+m+k+o[C]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=w}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function _u(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,L(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Ao=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i){return i&&i._delegate?i._delegate:i}class bi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Do;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ov(t))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=$n){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$n){return this.instances.has(t)}getOptions(t=$n){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Av(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=$n){return this.component?this.component.multipleInstances?t:$n:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Av(i){return i===$n?void 0:i}function Ov(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Dv(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const Mv={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Fv=fe.INFO,bv={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},zv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=bv[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dp{constructor(t){this.name=t,this._logLevel=Fv,this._logHandler=zv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const jv=(i,t)=>t.some(r=>i instanceof r);let lh,ah;function Uv(){return lh||(lh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bv(){return ah||(ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fp=new WeakMap,Xa=new WeakMap,hp=new WeakMap,ja=new WeakMap,vu=new WeakMap;function Wv(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(xn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&fp.set(r,i)}).catch(()=>{}),vu.set(t,i),t}function Hv(i){if(Xa.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Xa.set(i,t)}let Ja={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Xa.get(i);if(t==="objectStoreNames")return i.objectStoreNames||hp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Vv(i){Ja=i(Ja)}function $v(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Ua(this),t,...r);return hp.set(o,t.sort?t.sort():[t]),xn(o)}:Bv().includes(i)?function(...t){return i.apply(Ua(this),t),xn(fp.get(this))}:function(...t){return xn(i.apply(Ua(this),t))}}function Qv(i){return typeof i=="function"?$v(i):(i instanceof IDBTransaction&&Hv(i),jv(i,Uv())?new Proxy(i,Ja):i)}function xn(i){if(i instanceof IDBRequest)return Wv(i);if(ja.has(i))return ja.get(i);const t=Qv(i);return t!==i&&(ja.set(i,t),vu.set(t,i)),t}const Ua=i=>vu.get(i);function Gv(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=xn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(xn(f.result),m.oldVersion,m.newVersion,xn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Kv=["get","getKey","getAll","getAllKeys","count"],qv=["put","add","delete","clear"],Ba=new Map;function uh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ba.get(t))return Ba.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=qv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Kv.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),a&&m.done]))[0]};return Ba.set(t,c),c}Vv(i=>({...i,get:(t,r,o)=>uh(t,r)||i.get(t,r,o),has:(t,r)=>!!uh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Xv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Za="@firebase/app",ch="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new dp("@firebase/app"),Jv="@firebase/app-compat",Zv="@firebase/analytics-compat",ey="@firebase/analytics",ty="@firebase/app-check-compat",ny="@firebase/app-check",ry="@firebase/auth",iy="@firebase/auth-compat",sy="@firebase/database",oy="@firebase/data-connect",ly="@firebase/database-compat",ay="@firebase/functions",uy="@firebase/functions-compat",cy="@firebase/installations",dy="@firebase/installations-compat",fy="@firebase/messaging",hy="@firebase/messaging-compat",py="@firebase/performance",my="@firebase/performance-compat",gy="@firebase/remote-config",_y="@firebase/remote-config-compat",vy="@firebase/storage",yy="@firebase/storage-compat",wy="@firebase/firestore",Cy="@firebase/ai",Ey="@firebase/firestore-compat",Sy="firebase",ky="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]",xy={[Za]:"fire-core",[Jv]:"fire-core-compat",[ey]:"fire-analytics",[Zv]:"fire-analytics-compat",[ny]:"fire-app-check",[ty]:"fire-app-check-compat",[ry]:"fire-auth",[iy]:"fire-auth-compat",[sy]:"fire-rtdb",[oy]:"fire-data-connect",[ly]:"fire-rtdb-compat",[ay]:"fire-fn",[uy]:"fire-fn-compat",[cy]:"fire-iid",[dy]:"fire-iid-compat",[fy]:"fire-fcm",[hy]:"fire-fcm-compat",[py]:"fire-perf",[my]:"fire-perf-compat",[gy]:"fire-rc",[_y]:"fire-rc-compat",[vy]:"fire-gcs",[yy]:"fire-gcs-compat",[wy]:"fire-fst",[Ey]:"fire-fst-compat",[Cy]:"fire-vertex","fire-js":"fire-js",[Sy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,Iy=new Map,tu=new Map;function dh(i,t){try{i.container.addComponent(t)}catch(r){en.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function _o(i){const t=i.name;if(tu.has(t))return en.debug(`There were multiple attempts to register component ${t}.`),!1;tu.set(t,i);for(const r of go.values())dh(r,i);for(const r of Iy.values())dh(r,i);return!0}function Ny(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function Ty(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new up("app","Firebase",Ry);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=ky;function pp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:eu,automaticDataCollectionEnabled:!0},t),a=o.name;if(typeof a!="string"||!a)throw In.create("bad-app-name",{appName:String(a)});if(r||(r=lp()),!r)throw In.create("no-options");const c=go.get(a);if(c){if(mo(r,c.options)&&mo(o,c.config))return c;throw In.create("duplicate-app",{appName:a})}const f=new Lv(a);for(const m of tu.values())f.addComponent(m);const p=new Py(r,o,f);return go.set(a,p),p}function Ay(i=eu){const t=go.get(i);if(!t&&i===eu&&lp())return pp();if(!t)throw In.create("no-app",{appName:i});return t}function Nr(i,t,r){var o;let a=(o=xy[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),en.warn(p.join(" "));return}_o(new bi(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="firebase-heartbeat-database",Ly=1,zi="firebase-heartbeat-store";let Wa=null;function mp(){return Wa||(Wa=Gv(Oy,Ly,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(zi)}catch(r){console.warn(r)}}}}).catch(i=>{throw In.create("idb-open",{originalErrorMessage:i.message})})),Wa}async function My(i){try{const r=(await mp()).transaction(zi),o=await r.objectStore(zi).get(gp(i));return await r.done,o}catch(t){if(t instanceof Qi)en.warn(t.message);else{const r=In.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});en.warn(r.message)}}}async function fh(i,t){try{const o=(await mp()).transaction(zi,"readwrite");await o.objectStore(zi).put(t,gp(i)),await o.done}catch(r){if(r instanceof Qi)en.warn(r.message);else{const o=In.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});en.warn(o.message)}}}function gp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=1024,by=30;class zy{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Uy(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=hh();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>by){const f=By(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){en.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hh(),{heartbeatsToSend:o,unsentEntries:a}=jy(this._heartbeatsCache.heartbeats),c=ho(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return en.warn(r),""}}}function hh(){return new Date().toISOString().substring(0,10)}function jy(i,t=Fy){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),ph(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),ph(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Uy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cv()?Ev().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await My(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return fh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return fh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ph(i){return ho(JSON.stringify({version:2,heartbeats:i})).length}function By(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(i){_o(new bi("platform-logger",t=>new Yv(t),"PRIVATE")),_o(new bi("heartbeat",t=>new zy(t),"PRIVATE")),Nr(Za,ch,i),Nr(Za,ch,"esm2017"),Nr("fire-js","")}Wy("");var Hy="firebase",Vy="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(Hy,Vy,"app");var mh={};const gh="@firebase/database",_h="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p="";function $y(i){_p=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Fi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qy(t)}}catch{}return new Gy},Gn=vp("localStorage"),Ky=vp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new dp("@firebase/database"),qy=function(){let i=1;return function(){return i++}}(),yp=function(i){const t=Pv(i),r=new Rv;r.update(t);const o=r.digest();return mu.encodeByteArray(o)},Gi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Gi.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Di=null,vh=!0;const Yy=function(i,t){L(!0,"Can't turn on custom loggers persistently."),Tr.logLevel=fe.VERBOSE,Di=Tr.log.bind(Tr)},qe=function(...i){if(vh===!0&&(vh=!1,Di===null&&Ky.get("logging_enabled")===!0&&Yy()),Di){const t=Gi.apply(null,i);Di(t)}},Ki=function(i){return function(...t){qe(i,...t)}},nu=function(...i){const t="FIREBASE INTERNAL ERROR: "+Gi(...i);Tr.error(t)},tn=function(...i){const t=`FIREBASE FATAL ERROR: ${Gi(...i)}`;throw Tr.error(t),new Error(t)},at=function(...i){const t="FIREBASE WARNING: "+Gi(...i);Tr.warn(t)},Xy=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Jy=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ar="[MIN_NAME]",qn="[MAX_NAME]",br=function(i,t){if(i===t)return 0;if(i===Ar||t===qn)return-1;if(t===Ar||i===qn)return 1;{const r=yh(i),o=yh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Zy=function(i,t){return i===t?0:i<t?-1:1},Ii=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Be(t))},yu=function(i){if(typeof i!="object"||i===null)return Be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Be(t[o]),r+=":",r+=yu(i[t[o]]);return r+="}",r},Cp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function ut(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Ep=function(i){L(!wp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(a?1:0),g.reverse();const k=g.join("");let C="";for(m=0;m<64;m+=8){let w=parseInt(k.substr(m,8),2).toString(16);w.length===1&&(w="0"+w),C=C+w}return C.toLowerCase()},e0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},t0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function n0(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const r0=new RegExp("^-?(0*)\\d{1,10}$"),i0=-2147483648,s0=2147483647,yh=function(i){if(r0.test(i)){const t=Number(i);if(t>=i0&&t<=s0)return t}return null},zr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw at("Exception was thrown by user callback.",r),t},Math.floor(0))}},o0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ai=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,r){this.appCheckProvider=r,this.appName=t.name,Ty(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(t)}}class fo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="5",Sp="v",kp="s",xp="r",Ip="f",Np=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tp="ls",Rp="p",ru="ac",Pp="websocket",Dp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1,g=null){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function u0(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Op(i,t,r){L(typeof t=="string","typeof type must == string"),L(typeof r=="object","typeof params must == object");let o;if(t===Pp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Dp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);u0(i)&&(r.ns=i.namespace);const a=[];return ut(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.counters_={}}incrementCounter(t,r=1){rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return sv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={},Va={};function Cu(i){const t=i.toString();return Ha[t]||(Ha[t]=new c0),Ha[t]}function d0(i,t){const r=i.toString();return Va[r]||(Va[r]=t()),Va[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&zr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="start",h0="close",p0="pLPCommand",m0="pRTLPCB",Lp="id",Mp="pw",Fp="ser",g0="cb",_0="seg",v0="ts",y0="d",w0="dframe",bp=1870,zp=30,C0=bp-zp,E0=25e3,S0=3e4;class Ir{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ki(t),this.stats_=Cu(r),this.urlFn=m=>(this.appCheckToken&&(m[ru]=this.appCheckToken),Op(r,Dp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new f0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(S0)),Jy(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eu((...c)=>{const[f,p,m,g,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===wh)this.id=p,this.password=m;else if(f===h0)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[wh]="t",o[Fp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[g0]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Sp]=wu,this.transportSessionId&&(o[kp]=this.transportSessionId),this.lastSessionId&&(o[Tp]=this.lastSessionId),this.applicationId&&(o[Rp]=this.applicationId),this.appCheckToken&&(o[ru]=this.appCheckToken),typeof location<"u"&&location.hostname&&Np.test(location.hostname)&&(o[xp]=Ip);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return Ir.forceAllow_?!0:!Ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!e0()&&!t0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=ip(r),a=Cp(o,C0);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[w0]="t",o[Lp]=t,o[Mp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Eu{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qy(),window[p0+this.uniqueCallbackIdentifier]=t,window[m0+this.uniqueCallbackIdentifier]=r,this.myIFrame=Eu.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){qe("frame writing exception"),p.stack&&qe(p.stack),qe(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Lp]=this.myID,t[Mp]=this.myPW,t[Fp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zp+o.length<=bp;){const f=this.pendingSegs.shift();o=o+"&"+_0+a+"="+f.seg+"&"+v0+a+"="+f.ts+"&"+y0+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(E0)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=16384,x0=45e3;let vo=null;typeof MozWebSocket<"u"?vo=MozWebSocket:typeof WebSocket<"u"&&(vo=WebSocket);class At{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ki(this.connId),this.stats_=Cu(r),this.connURL=At.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[Sp]=wu,typeof location<"u"&&location.hostname&&Np.test(location.hostname)&&(f[xp]=Ip),r&&(f[kp]=r),o&&(f[Tp]=o),a&&(f[ru]=a),c&&(f[Rp]=c),Op(t,Pp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gn.set("previous_websocket_failure",!0);try{let o;wv(),this.mySock=new vo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&vo!==null&&!At.forceDisallow_}static previouslyFailed(){return Gn.isInMemoryStorage||Gn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Fi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Cp(r,k0);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x0))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{static get ALL_TRANSPORTS(){return[Ir,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=At&&At.isAvailable();let o=r&&!At.previouslyFailed();if(t.webSocketOnly&&(r||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[At];else{const a=this.transports_=[];for(const c of ji.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);ji.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ji.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=6e4,N0=5e3,T0=10*1024,R0=100*1024,$a="t",Ch="d",P0="s",Eh="r",D0="e",Sh="o",kh="a",xh="n",Ih="p",A0="h";class O0{constructor(t,r,o,a,c,f,p,m,g,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ki("c:"+this.id+":"),this.transportManager_=new ji(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>R0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>T0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($a in t){const r=t[$a];r===kh?this.upgradeIfSecondaryHealthy_():r===Eh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Sh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ii("t",t),o=Ii("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ih,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ii("t",t),o=Ii("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ii($a,t);if(Ch in t){const o=t[Ch];if(r===A0){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===xh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===P0?this.onConnectionShutdown_(o):r===Eh?this.onReset_(o):r===D0?nu("Server Error: "+o):r===Sh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),wu!==o&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I0))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(N0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ih,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.allowedEvents_=t,this.listeners_={},L(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){L(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Up{static getInstance(){return new yo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ap()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return L(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=32,Th=768;class ue{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function oe(){return new ue("")}function J(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Tn(i){return i.pieces_.length-i.pieceNum_}function he(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ue(i.pieces_,t)}function Bp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function L0(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Wp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Hp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ue(t,0)}function Me(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ue)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new ue(r,0)}function te(i){return i.pieceNum_>=i.pieces_.length}function ot(i,t){const r=J(i),o=J(t);if(r===null)return t;if(r===o)return ot(he(i),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Su(i,t){if(Tn(i)!==Tn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Ot(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Tn(i)>Tn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class M0{constructor(t,r){this.errorPrefix_=r,this.parts_=Wp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Ao(this.parts_[o]);Vp(this)}}function F0(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Ao(t),Vp(i)}function b0(i){const t=i.parts_.pop();i.byteLength_-=Ao(t),i.parts_.length>0&&(i.byteLength_-=1)}function Vp(i){if(i.byteLength_>Th)throw new Error(i.errorPrefix_+"has a key path longer than "+Th+" bytes ("+i.byteLength_+").");if(i.parts_.length>Nh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nh+") or object contains a cycle "+Qn(i))}function Qn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Up{static getInstance(){return new ku}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return L(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=1e3,z0=60*5*1e3,Rh=30*1e3,j0=1.3,U0=3e4,B0="server_kill",Ph=3;class Zt extends jp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=Zt.nextPersistentConnectionId_++,this.log_=Ki("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ni,this.maxReconnectDelay_=z0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ku.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&yo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Be(c)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Do,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,g=p.s;Zt.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&rn(t,"w")){const o=Dr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Nv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Iv(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):nu("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U0&&(this.reconnectDelay_=Ni),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*j0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Zt.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},g=function(C){L(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(C)};this.realtime_={close:m,sendRequest:g};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,w]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=w&&w.token,p=new O0(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{at(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(B0)},c))}catch(C){this.log_("Failed to get token: "+C),f||(this.repoInfo_.nodeAdmin&&at(C),m())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],sh(this.interruptReasons_)&&(this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>yu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new ue(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){qe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ph&&(this.reconnectDelay_=Rh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){qe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ph&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+_p.replace(/\./g,"-")]=1,ap()?t["framework.cordova"]=1:yv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=yo.getInstance().currentlyOnline();return sh(this.interruptReasons_)&&t}}Zt.nextPersistentConnectionId_=0;Zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new Z(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new Z(Ar,t),a=new Z(Ar,r);return this.compare(o,a)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class $p extends Oo{static get __EMPTY_NODE(){return uo}static set __EMPTY_NODE(t){uo=t}compare(t,r){return br(t.name,r.name)}isDefinedOn(t){throw Mr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return Z.MIN}maxPost(){return new Z(qn,uo)}makePost(t,r){return L(typeof t=="string","KeyIndex indexValue must always be a string."),new Z(t,uo)}toString(){return".key"}}const Rr=new $p;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ue{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Ue.RED,this.left=a??lt.EMPTY_NODE,this.right=c??lt.EMPTY_NODE}copy(t,r,o,a,c){return new Ue(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return lt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return lt.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ue.RED=!0;Ue.BLACK=!1;class W0{copy(t,r,o,a,c){return this}insert(t,r,o){return new Ue(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class lt{constructor(t,r=lt.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new lt(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(t){return new lt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new co(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new co(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new co(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new co(this.root_,null,this.comparator_,!0,t)}}lt.EMPTY_NODE=new W0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i,t){return br(i.name,t.name)}function xu(i,t){return br(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;function V0(i){iu=i}const Qp=function(i){return typeof i=="number"?"number:"+Ep(i):"string:"+i},Gp=function(i){if(i.isLeafNode()){const t=i.val();L(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rn(t,".sv"),"Priority must be a string or number.")}else L(i===iu||i.isEmpty(),"priority of unexpected type.");L(i===iu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh;class je{static set __childrenNodeConstructor(t){Dh=t}static get __childrenNodeConstructor(){return Dh}constructor(t,r=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Gp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new je(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return te(t)?this:J(t)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=J(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(L(o!==".priority"||Tn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Qp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Ep(this.value_):t+=this.value_,this.lazyHash_=yp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===je.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof je.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=je.VALUE_TYPE_ORDER.indexOf(r),c=je.VALUE_TYPE_ORDER.indexOf(o);return L(a>=0,"Unknown leaf type: "+r),L(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp,qp;function $0(i){Kp=i}function Q0(i){qp=i}class G0 extends Oo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?br(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(qn,new je("[PRIORITY-POST]",qp))}makePost(t,r){const o=Kp(t);return new Z(r,new je("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ie=new G0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=Math.log(2);class q0{constructor(t){const r=c=>parseInt(Math.log(c)/K0,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const wo=function(i,t,r,o){i.sort(t);const a=function(m,g){const k=g-m;let C,w;if(k===0)return null;if(k===1)return C=i[m],w=r?r(C):C,new Ue(w,C.node,Ue.BLACK,null,null);{const O=parseInt(k/2,10)+m,F=a(m,O),j=a(O+1,g);return C=i[O],w=r?r(C):C,new Ue(w,C.node,Ue.BLACK,F,j)}},c=function(m){let g=null,k=null,C=i.length;const w=function(F,j){const Q=C-F,Ne=C;C-=F;const Se=a(Q+1,Ne),pe=i[Q],we=r?r(pe):pe;O(new Ue(we,pe.node,j,null,Se))},O=function(F){g?(g.left=F,g=F):(k=F,g=F)};for(let F=0;F<m.count;++F){const j=m.nextBitIsOne(),Q=Math.pow(2,m.count-(F+1));j?w(Q,Ue.BLACK):(w(Q,Ue.BLACK),w(Q,Ue.RED))}return k},f=new q0(i.length),p=c(f);return new lt(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;const xr={};class Jt{static get Default(){return L(xr&&Ie,"ChildrenNode.ts has not been loaded"),Qa=Qa||new Jt({".priority":xr},{".priority":Ie}),Qa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Dr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof lt?r:null}hasIndex(t){return rn(this.indexSet_,t.toString())}addIndex(t,r){L(t!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(Z.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=wo(o,t.getCompare()):p=xr;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new Jt(k,g)}addToIndexes(t,r){const o=po(this.indexes_,(a,c)=>{const f=Dr(this.indexSet_,c);if(L(f,"Missing index implementation for "+c),a===xr)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(Z.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),wo(p,f.getCompare())}else return xr;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new Z(t.name,p))),m.insert(t,t.node)}});return new Jt(o,this.indexSet_)}removeFromIndexes(t,r){const o=po(this.indexes_,a=>{if(a===xr)return a;{const c=r.get(t.name);return c?a.remove(new Z(t.name,c)):a}});return new Jt(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ti;class K{static get EMPTY_NODE(){return Ti||(Ti=new K(new lt(xu),null,Jt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Gp(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ti}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Ti:r}}getChild(t){const r=J(t);return r===null?this:this.getImmediateChild(r).getChild(he(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(L(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new Z(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Ti:this.priorityNode_;return new K(a,f,c)}}updateChild(t,r){const o=J(t);if(o===null)return r;{L(J(t)!==".priority"||Tn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(he(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Ie,(f,p)=>{r[f]=p.val(t),o++,c&&K.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Qp(this.getPriority().val())+":"),this.forEachChild(Ie,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":yp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new Z(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Z(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Z(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Z.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Z.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qi?-1:0}withIndex(t){if(t===Rr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Rr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ie),a=r.getIterator(Ie);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Rr?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Y0 extends K{constructor(){super(new lt(xu),K.EMPTY_NODE,Jt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const qi=new Y0;Object.defineProperties(Z,{MIN:{value:new Z(Ar,K.EMPTY_NODE)},MAX:{value:new Z(qn,qi)}});$p.__EMPTY_NODE=K.EMPTY_NODE;je.__childrenNodeConstructor=K;V0(qi);Q0(qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=!0;function Ve(i,t=null){if(i===null)return K.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),L(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new je(r,Ve(t))}if(!(i instanceof Array)&&X0){const r=[];let o=!1;if(ut(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Ve(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new Z(f,m)))}}),r.length===0)return K.EMPTY_NODE;const c=wo(r,H0,f=>f.name,xu);if(o){const f=wo(r,Ie.getCompare());return new K(c,Ve(t),new Jt({".priority":f},{".priority":Ie}))}else return new K(c,Ve(t),Jt.Default)}else{let r=K.EMPTY_NODE;return ut(i,(o,a)=>{if(rn(i,o)&&o.substring(0,1)!=="."){const c=Ve(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ve(t))}}$0(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Oo{constructor(t){super(),this.indexPath_=t,L(!te(t)&&J(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?br(t.name,r.name):c}makePost(t,r){const o=Ve(t),a=K.EMPTY_NODE.updateChild(this.indexPath_,o);return new Z(r,a)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,qi);return new Z(qn,t)}toString(){return Wp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Oo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?br(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(t,r){const o=Ve(t);return new Z(r,o)}toString(){return".value"}}const e1=new Z0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i){return{type:"value",snapshotNode:i}}function Or(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Ui(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Bi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function t1(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){L(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Ui(r,p)):L(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Or(r,o)):f.trackChildChange(Bi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Ie,(a,c)=>{r.hasChild(a)||o.trackChildChange(Ui(a,c))}),r.isLeafNode()||r.forEachChild(Ie,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(Bi(a,c,f))}else o.trackChildChange(Or(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.indexedFilter_=new Iu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Wi.getStartPost_(t),this.endPost_=Wi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new Z(r,o))||(o=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=K.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(K.EMPTY_NODE);const c=this;return r.forEachChild(Ie,(f,p)=>{c.matches(new Z(f,p))||(a=a.updateImmediateChild(f,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Wi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new Z(r,o))||(o=K.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=K.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(K.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const C=this.index_.getCompare();f=(w,O)=>C(O,w)}else f=this.index_.getCompare();const p=t;L(p.numChildren()===this.limit_,"");const m=new Z(r,o),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const C=p.getImmediateChild(r);let w=a.getChildAfterChild(this.index_,g,this.reverse_);for(;w!=null&&(w.name===r||p.hasChild(w.name));)w=a.getChildAfterChild(this.index_,w,this.reverse_);const O=w==null?1:f(w,m);if(k&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange(Bi(r,o,C)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Ui(r,C));const j=p.updateImmediateChild(r,K.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(c!=null&&c.trackChildChange(Or(w.name,w.node)),j.updateImmediateChild(w.name,w.node)):j}}else return o.isEmpty()?t:k&&f(g,m)>=0?(c!=null&&(c.trackChildChange(Ui(g.name,g.node)),c.trackChildChange(Or(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(g.name,K.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const t=new Nu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function r1(i){return i.loadsAllData()?new Iu(i.getIndex()):i.hasLimit()?new n1(i):new Wi(i)}function Ah(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ie?r="$priority":i.index_===e1?r="$value":i.index_===Rr?r="$key":(L(i.index_ instanceof J0,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Oh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ie&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends jp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(L(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Ki("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Co.getListenId_(t,o),p={};this.listens_[f]=p;const m=Ah(t._queryParams);this.restRequest_(c+".json",m,(g,k)=>{let C=k;if(g===404&&(C=null,g=null),g===null&&this.onDataUpdate_(c,C,!1,o),Dr(this.listens_,f)===p){let w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",a(w,null)}})}unlisten(t,r){const o=Co.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Ah(t._queryParams),o=t._path.toString(),a=new Do;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Tv(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Fi(p.responseText)}catch{at("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&at("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){return{value:null,children:new Map}}function Xp(i,t,r){if(te(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=J(t);i.children.has(o)||i.children.set(o,Eo());const a=i.children.get(o);t=he(t),Xp(a,t,r)}}function su(i,t,r){i.value!==null?r(t,i.value):s1(i,(o,a)=>{const c=new ue(t.toString()+"/"+o);su(a,c,r)})}function s1(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&ut(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=10*1e3,l1=30*1e3,a1=5*60*1e3;class u1{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new o1(t);const o=Lh+(l1-Lh)*Math.random();Ai(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;ut(t,(a,c)=>{c>0&&rn(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*a1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Lt||(Lt={}));function Jp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ru(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Lt.ACK_USER_WRITE,this.source=Jp()}operationForChild(t){if(te(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(t));return new So(oe(),r,this.revert)}}else return L(J(this.path)===t,"operationForChild called for unrelated child."),new So(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,r){this.source=t,this.path=r,this.type=Lt.LISTEN_COMPLETE}operationForChild(t){return te(this.path)?new Hi(this.source,oe()):new Hi(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Lt.OVERWRITE}operationForChild(t){return te(this.path)?new Yn(this.source,oe(),this.snap.getImmediateChild(t)):new Yn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Lt.MERGE}operationForChild(t){if(te(this.path)){const r=this.children.subtree(new ue(t));return r.isEmpty()?null:r.value?new Yn(this.source,oe(),r.value):new Vi(this.source,oe(),r)}else return L(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vi(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(te(t))return this.isFullyInitialized()&&!this.filtered_;const r=J(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function d1(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(t1(f.childName,f.snapshotNode))}),Ri(i,a,"child_removed",t,o,r),Ri(i,a,"child_added",t,o,r),Ri(i,a,"child_moved",c,o,r),Ri(i,a,"child_changed",t,o,r),Ri(i,a,"value",t,o,r),a}function Ri(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>h1(i,p,m)),f.forEach(p=>{const m=f1(i,p,c);a.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function f1(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function h1(i,t,r){if(t.childName==null||r.childName==null)throw Mr("Should only compare child_ events.");const o=new Z(t.childName,t.snapshotNode),a=new Z(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i,t){return{eventCache:i,serverCache:t}}function Oi(i,t,r,o){return Lo(new Xn(t,r,o),i.serverCache)}function Zp(i,t,r,o){return Lo(i.eventCache,new Xn(t,r,o))}function ou(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;const p1=()=>(Ga||(Ga=new lt(Zy)),Ga);class _e{static fromObject(t){let r=new _e(null);return ut(t,(o,a)=>{r=r.set(new ue(o),a)}),r}constructor(t,r=p1()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:oe(),value:this.value};if(te(t))return null;{const o=J(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(he(t),r);return c!=null?{path:Me(new ue(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(te(t))return this;{const r=J(t),o=this.children.get(r);return o!==null?o.subtree(he(t)):new _e(null)}}set(t,r){if(te(t))return new _e(r,this.children);{const o=J(t),c=(this.children.get(o)||new _e(null)).set(he(t),r),f=this.children.insert(o,c);return new _e(this.value,f)}}remove(t){if(te(t))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const r=J(t),o=this.children.get(r);if(o){const a=o.remove(he(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new _e(null):new _e(this.value,c)}else return this}}get(t){if(te(t))return this.value;{const r=J(t),o=this.children.get(r);return o?o.get(he(t)):null}}setTree(t,r){if(te(t))return r;{const o=J(t),c=(this.children.get(o)||new _e(null)).setTree(he(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new _e(this.value,f)}}fold(t){return this.fold_(oe(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Me(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,oe(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(te(t))return null;{const c=J(t),f=this.children.get(c);return f?f.findOnPath_(he(t),Me(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,oe(),r)}foreachOnPath_(t,r,o){if(te(t))return this;{this.value&&o(r,this.value);const a=J(t),c=this.children.get(a);return c?c.foreachOnPath_(he(t),Me(r,a),o):new _e(null)}}foreach(t){this.foreach_(oe(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Me(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.writeTree_=t}static empty(){return new Mt(new _e(null))}}function Li(i,t,r){if(te(t))return new Mt(new _e(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=ot(a,t);return c=c.updateChild(f,r),new Mt(i.writeTree_.set(a,c))}else{const a=new _e(r),c=i.writeTree_.setTree(t,a);return new Mt(c)}}}function Mh(i,t,r){let o=i;return ut(r,(a,c)=>{o=Li(o,Me(t,a),c)}),o}function Fh(i,t){if(te(t))return Mt.empty();{const r=i.writeTree_.setTree(t,new _e(null));return new Mt(r)}}function lu(i,t){return Zn(i,t)!=null}function Zn(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(ot(r.path,t)):null}function bh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ie,(o,a)=>{t.push(new Z(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new Z(o,a.value))}),t}function Nn(i,t){if(te(t))return i;{const r=Zn(i,t);return r!=null?new Mt(new _e(r)):new Mt(i.writeTree_.subtree(t))}}function au(i){return i.writeTree_.isEmpty()}function Lr(i,t){return em(oe(),i.writeTree_,t)}function em(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(L(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=em(Me(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Me(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(i,t){return im(t,i)}function m1(i,t,r,o,a){L(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Li(i.visibleWrites,t,r)),i.lastWriteId=o}function g1(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function _1(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);L(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&v1(p,o.path)?a=!1:Ot(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return y1(i),!0;if(o.snap)i.visibleWrites=Fh(i.visibleWrites,o.path);else{const p=o.children;ut(p,m=>{i.visibleWrites=Fh(i.visibleWrites,Me(o.path,m))})}return!0}else return!1}function v1(i,t){if(i.snap)return Ot(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ot(Me(i.path,r),t))return!0;return!1}function y1(i){i.visibleWrites=tm(i.allWrites,w1,oe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function w1(i){return i.visible}function tm(i,t,r){let o=Mt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Ot(r,f)?(p=ot(r,f),o=Li(o,p,c.snap)):Ot(f,r)&&(p=ot(f,r),o=Li(o,oe(),c.snap.getChild(p)));else if(c.children){if(Ot(r,f))p=ot(r,f),o=Mh(o,p,c.children);else if(Ot(f,r))if(p=ot(f,r),te(p))o=Mh(o,oe(),c.children);else{const m=Dr(c.children,J(p));if(m){const g=m.getChild(he(p));o=Li(o,oe(),g)}}}else throw Mr("WriteRecord should have .snap or .children")}}return o}function nm(i,t,r,o,a){if(!o&&!a){const c=Zn(i.visibleWrites,t);if(c!=null)return c;{const f=Nn(i.visibleWrites,t);if(au(f))return r;if(r==null&&!lu(f,oe()))return null;{const p=r||K.EMPTY_NODE;return Lr(f,p)}}}else{const c=Nn(i.visibleWrites,t);if(!a&&au(c))return r;if(!a&&r==null&&!lu(c,oe()))return null;{const f=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(Ot(g.path,t)||Ot(t,g.path))},p=tm(i.allWrites,f,t),m=r||K.EMPTY_NODE;return Lr(p,m)}}}function C1(i,t,r){let o=K.EMPTY_NODE;const a=Zn(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ie,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Nn(i.visibleWrites,t);return r.forEachChild(Ie,(f,p)=>{const m=Lr(Nn(c,new ue(f)),p);o=o.updateImmediateChild(f,m)}),bh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Nn(i.visibleWrites,t);return bh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function E1(i,t,r,o,a){L(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Me(t,r);if(lu(i.visibleWrites,c))return null;{const f=Nn(i.visibleWrites,c);return au(f)?a.getChild(r):Lr(f,a.getChild(r))}}function S1(i,t,r,o){const a=Me(t,r),c=Zn(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Nn(i.visibleWrites,a);return Lr(f,o.getNode().getImmediateChild(r))}else return null}function k1(i,t){return Zn(i.visibleWrites,t)}function x1(i,t,r,o,a,c,f){let p;const m=Nn(i.visibleWrites,t),g=Zn(m,oe());if(g!=null)p=g;else if(r!=null)p=Lr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],C=f.getCompare(),w=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=w.getNext();for(;O&&k.length<a;)C(O,o)!==0&&k.push(O),O=w.getNext();return k}else return[]}function I1(){return{visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1}}function ko(i,t,r,o){return nm(i.writeTree,i.treePath,t,r,o)}function Du(i,t){return C1(i.writeTree,i.treePath,t)}function zh(i,t,r,o){return E1(i.writeTree,i.treePath,t,r,o)}function xo(i,t){return k1(i.writeTree,Me(i.treePath,t))}function N1(i,t,r,o,a,c){return x1(i.writeTree,i.treePath,t,r,o,a,c)}function Au(i,t,r){return S1(i.writeTree,i.treePath,t,r)}function rm(i,t){return im(Me(i.treePath,t),i.writeTree)}function im(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;L(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),L(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Bi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Ui(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Or(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Bi(o,t.snapshotNode,a.oldSnap));else throw Mr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const sm=new R1;class Ou{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Au(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),c=N1(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i){return{filter:i}}function D1(i,t){L(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),L(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function A1(i,t,r,o,a){const c=new T1;let f,p;if(r.type===Lt.OVERWRITE){const g=r;g.source.fromUser?f=uu(i,t,g.path,g.snap,o,a,c):(L(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!te(g.path),f=Io(i,t,g.path,g.snap,o,a,p,c))}else if(r.type===Lt.MERGE){const g=r;g.source.fromUser?f=L1(i,t,g.path,g.children,o,a,c):(L(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),f=cu(i,t,g.path,g.children,o,a,p,c))}else if(r.type===Lt.ACK_USER_WRITE){const g=r;g.revert?f=b1(i,t,g.path,o,a,c):f=M1(i,t,g.path,g.affectedTree,o,a,c)}else if(r.type===Lt.LISTEN_COMPLETE)f=F1(i,t,r.path,o,c);else throw Mr("Unknown operation type: "+r.type);const m=c.getChanges();return O1(t,f,m),{viewCache:f,changes:m}}function O1(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=ou(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Yp(ou(t)))}}function om(i,t,r,o,a,c){const f=t.eventCache;if(xo(o,r)!=null)return t;{let p,m;if(te(r))if(L(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Jn(t),k=g instanceof K?g:K.EMPTY_NODE,C=Du(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),C,c)}else{const g=ko(o,Jn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=J(r);if(g===".priority"){L(Tn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const C=zh(o,r,k,m);C!=null?p=i.filter.updatePriority(k,C):p=f.getNode()}else{const k=he(r);let C;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const w=zh(o,r,f.getNode(),m);w!=null?C=f.getNode().getImmediateChild(g).updateChild(k,w):C=f.getNode().getImmediateChild(g)}else C=Au(o,g,t.serverCache);C!=null?p=i.filter.updateChild(f.getNode(),g,C,k,a,c):p=f.getNode()}}return Oi(t,p,f.isFullyInitialized()||te(r),i.filter.filtersNodes())}}function Io(i,t,r,o,a,c,f,p){const m=t.serverCache;let g;const k=f?i.filter:i.filter.getIndexedFilter();if(te(r))g=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);g=k.updateFullNode(m.getNode(),O,null)}else{const O=J(r);if(!m.isCompleteForPath(r)&&Tn(r)>1)return t;const F=he(r),Q=m.getNode().getImmediateChild(O).updateChild(F,o);O===".priority"?g=k.updatePriority(m.getNode(),Q):g=k.updateChild(m.getNode(),O,Q,F,sm,null)}const C=Zp(t,g,m.isFullyInitialized()||te(r),k.filtersNodes()),w=new Ou(a,C,c);return om(i,C,r,a,w,p)}function uu(i,t,r,o,a,c,f){const p=t.eventCache;let m,g;const k=new Ou(a,t,c);if(te(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Oi(t,g,!0,i.filter.filtersNodes());else{const C=J(r);if(C===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Oi(t,g,p.isFullyInitialized(),p.isFiltered());else{const w=he(r),O=p.getNode().getImmediateChild(C);let F;if(te(w))F=o;else{const j=k.getCompleteChild(C);j!=null?Bp(w)===".priority"&&j.getChild(Hp(w)).isEmpty()?F=j:F=j.updateChild(w,o):F=K.EMPTY_NODE}if(O.equals(F))m=t;else{const j=i.filter.updateChild(p.getNode(),C,F,w,k,f);m=Oi(t,j,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function jh(i,t){return i.eventCache.isCompleteForChild(t)}function L1(i,t,r,o,a,c,f){let p=t;return o.foreach((m,g)=>{const k=Me(r,m);jh(t,J(k))&&(p=uu(i,p,k,g,a,c,f))}),o.foreach((m,g)=>{const k=Me(r,m);jh(t,J(k))||(p=uu(i,p,k,g,a,c,f))}),p}function Uh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function cu(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;te(r)?g=o:g=new _e(null).setTree(r,o);const k=t.serverCache.getNode();return g.children.inorderTraversal((C,w)=>{if(k.hasChild(C)){const O=t.serverCache.getNode().getImmediateChild(C),F=Uh(i,O,w);m=Io(i,m,new ue(C),F,a,c,f,p)}}),g.children.inorderTraversal((C,w)=>{const O=!t.serverCache.isCompleteForChild(C)&&w.value===null;if(!k.hasChild(C)&&!O){const F=t.serverCache.getNode().getImmediateChild(C),j=Uh(i,F,w);m=Io(i,m,new ue(C),j,a,c,f,p)}}),m}function M1(i,t,r,o,a,c,f){if(xo(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(te(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Io(i,t,r,m.getNode().getChild(r),a,c,p,f);if(te(r)){let g=new _e(null);return m.getNode().forEachChild(Rr,(k,C)=>{g=g.set(new ue(k),C)}),cu(i,t,r,g,a,c,p,f)}else return t}else{let g=new _e(null);return o.foreach((k,C)=>{const w=Me(r,k);m.isCompleteForPath(w)&&(g=g.set(k,m.getNode().getChild(w)))}),cu(i,t,r,g,a,c,p,f)}}function F1(i,t,r,o,a){const c=t.serverCache,f=Zp(t,c.getNode(),c.isFullyInitialized()||te(r),c.isFiltered());return om(i,f,r,o,sm,a)}function b1(i,t,r,o,a,c){let f;if(xo(o,r)!=null)return t;{const p=new Ou(o,t,a),m=t.eventCache.getNode();let g;if(te(r)||J(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=ko(o,Jn(t));else{const C=t.serverCache.getNode();L(C instanceof K,"serverChildren would be complete if leaf node"),k=Du(o,C)}k=k,g=i.filter.updateFullNode(m,k,c)}else{const k=J(r);let C=Au(o,k,t.serverCache);C==null&&t.serverCache.isCompleteForChild(k)&&(C=m.getImmediateChild(k)),C!=null?g=i.filter.updateChild(m,k,C,he(r),p,c):t.eventCache.getNode().hasChild(k)?g=i.filter.updateChild(m,k,K.EMPTY_NODE,he(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=ko(o,Jn(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,c)))}return f=t.serverCache.isFullyInitialized()||xo(o,oe())!=null,Oi(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Iu(o.getIndex()),c=r1(o);this.processor_=P1(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(K.EMPTY_NODE,f.getNode(),null),g=c.updateFullNode(K.EMPTY_NODE,p.getNode(),null),k=new Xn(m,f.isFullyInitialized(),a.filtersNodes()),C=new Xn(g,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Lo(C,k),this.eventGenerator_=new c1(this.query_)}get query(){return this.query_}}function j1(i){return i.viewCache_.serverCache.getNode()}function U1(i,t){const r=Jn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!te(t)&&!r.getImmediateChild(J(t)).isEmpty())?r.getChild(t):null}function Bh(i){return i.eventRegistrations_.length===0}function B1(i,t){i.eventRegistrations_.push(t)}function Wh(i,t,r){const o=[];if(r){L(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Hh(i,t,r,o){t.type===Lt.MERGE&&t.source.queryId!==null&&(L(Jn(i.viewCache_),"We should always have a full cache before handling merges"),L(ou(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=A1(i.processor_,a,t,r,o);return D1(i.processor_,c.viewCache),L(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,lm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function W1(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ie,(c,f)=>{o.push(Or(c,f))}),r.isFullyInitialized()&&o.push(Yp(r.getNode())),lm(i,o,r.getNode(),t)}function lm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return d1(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class H1{constructor(){this.views=new Map}}function V1(i){L(!No,"__referenceConstructor has already been defined"),No=i}function $1(){return L(No,"Reference.ts has not been loaded"),No}function Q1(i){return i.views.size===0}function Lu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return L(c!=null,"SyncTree gave us an op for an invalid query."),Hh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Hh(f,t,r,o));return c}}function G1(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=ko(r,a?o:null),m=!1;p?m=!0:o instanceof K?(p=Du(r,o),m=!1):(p=K.EMPTY_NODE,m=!1);const g=Lo(new Xn(p,m,!1),new Xn(o,a,!1));return new z1(t,g)}return f}function K1(i,t,r,o,a,c){const f=G1(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),B1(f,r),W1(f,r)}function q1(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=Rn(i);if(a==="default")for(const[m,g]of i.views.entries())f=f.concat(Wh(g,r,o)),Bh(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(a);m&&(f=f.concat(Wh(m,r,o)),Bh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Rn(i)&&c.push(new($1())(t._repo,t._path)),{removed:c,events:f}}function am(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Pr(i,t){let r=null;for(const o of i.views.values())r=r||U1(o,t);return r}function um(i,t){if(t._queryParams.loadsAllData())return Mo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function cm(i,t){return um(i,t)!=null}function Rn(i){return Mo(i)!=null}function Mo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;function Y1(i){L(!To,"__referenceConstructor has already been defined"),To=i}function X1(){return L(To,"Reference.ts has not been loaded"),To}let J1=1;class Vh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _e(null),this.pendingWriteTree_=I1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dm(i,t,r,o,a){return m1(i.pendingWriteTree_,t,r,o,a),a?Yi(i,new Yn(Jp(),t,r)):[]}function Kn(i,t,r=!1){const o=g1(i.pendingWriteTree_,t);if(_1(i.pendingWriteTree_,t)){let c=new _e(null);return o.snap!=null?c=c.set(oe(),!0):ut(o.children,f=>{c=c.set(new ue(f),!0)}),Yi(i,new So(o.path,c,r))}else return[]}function Fo(i,t,r){return Yi(i,new Yn(Tu(),t,r))}function Z1(i,t,r){const o=_e.fromObject(r);return Yi(i,new Vi(Tu(),t,o))}function ew(i,t){return Yi(i,new Hi(Tu(),t))}function tw(i,t,r){const o=Fu(i,r);if(o){const a=bu(o),c=a.path,f=a.queryId,p=ot(c,t),m=new Hi(Ru(f),p);return zu(i,c,m)}else return[]}function du(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||cm(f,t))){const m=q1(f,t,r,o);Q1(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(p=m.events,!a){const k=g.findIndex(w=>w._queryParams.loadsAllData())!==-1,C=i.syncPointTree_.findOnPath(c,(w,O)=>Rn(O));if(k&&!C){const w=i.syncPointTree_.subtree(c);if(!w.isEmpty()){const O=iw(w);for(let F=0;F<O.length;++F){const j=O[F],Q=j.query,Ne=pm(i,j);i.listenProvider_.startListening(Mi(Q),Ro(i,Q),Ne.hashFn,Ne.onComplete)}}}!C&&g.length>0&&!o&&(k?i.listenProvider_.stopListening(Mi(t),null):g.forEach(w=>{const O=i.queryToTagMap.get(bo(w));i.listenProvider_.stopListening(Mi(w),O)}))}sw(i,g)}return p}function nw(i,t,r,o){const a=Fu(i,o);if(a!=null){const c=bu(a),f=c.path,p=c.queryId,m=ot(f,t),g=new Yn(Ru(p),m,r);return zu(i,f,g)}else return[]}function rw(i,t,r,o){const a=Fu(i,o);if(a){const c=bu(a),f=c.path,p=c.queryId,m=ot(f,t),g=_e.fromObject(r),k=new Vi(Ru(p),m,g);return zu(i,f,k)}else return[]}function $h(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(w,O)=>{const F=ot(w,a);c=c||Pr(O,F),f=f||Rn(O)});let p=i.syncPointTree_.get(a);p?(f=f||Rn(p),c=c||Pr(p,oe())):(p=new H1,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=K.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((O,F)=>{const j=Pr(F,oe());j&&(c=c.updateImmediateChild(O,j))}));const g=cm(p,t);if(!g&&!t._queryParams.loadsAllData()){const w=bo(t);L(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const O=ow();i.queryToTagMap.set(w,O),i.tagToQueryMap.set(O,w)}const k=Pu(i.pendingWriteTree_,a);let C=K1(p,t,r,k,c,m);if(!g&&!f&&!o){const w=um(p,t);C=C.concat(lw(i,t,w))}return C}function Mu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=ot(f,t),g=Pr(p,m);if(g)return g});return nm(a,t,c,r,!0)}function Yi(i,t){return fm(t,i.syncPointTree_,null,Pu(i.pendingWriteTree_,oe()))}function fm(i,t,r,o){if(te(i.path))return hm(i,t,r,o);{const a=t.get(oe());r==null&&a!=null&&(r=Pr(a,oe()));let c=[];const f=J(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const g=r?r.getImmediateChild(f):null,k=rm(o,f);c=c.concat(fm(p,m,g,k))}return a&&(c=c.concat(Lu(a,i,o,r))),c}}function hm(i,t,r,o){const a=t.get(oe());r==null&&a!=null&&(r=Pr(a,oe()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,g=rm(o,f),k=i.operationForChild(f);k&&(c=c.concat(hm(k,p,m,g)))}),a&&(c=c.concat(Lu(a,i,o,r))),c}function pm(i,t){const r=t.query,o=Ro(i,r);return{hashFn:()=>(j1(t)||K.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?tw(i,r._path,o):ew(i,r._path);{const c=n0(a,r);return du(i,r,null,c)}}}}function Ro(i,t){const r=bo(t);return i.queryToTagMap.get(r)}function bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Fu(i,t){return i.tagToQueryMap.get(t)}function bu(i){const t=i.indexOf("$");return L(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ue(i.substr(0,t))}}function zu(i,t,r){const o=i.syncPointTree_.get(t);L(o,"Missing sync point for query tag that we're tracking");const a=Pu(i.pendingWriteTree_,t);return Lu(o,r,a,null)}function iw(i){return i.fold((t,r,o)=>{if(r&&Rn(r))return[Mo(r)];{let a=[];return r&&(a=am(r)),ut(o,(c,f)=>{a=a.concat(f)}),a}})}function Mi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(X1())(i._repo,i._path):i}function sw(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=bo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function ow(){return J1++}function lw(i,t,r){const o=t._path,a=Ro(i,t),c=pm(i,r),f=i.listenProvider_.startListening(Mi(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)L(!Rn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,k,C)=>{if(!te(g)&&k&&Rn(k))return[Mo(k).query];{let w=[];return k&&(w=w.concat(am(k).map(O=>O.query))),ut(C,(O,F)=>{w=w.concat(F)}),w}});for(let g=0;g<m.length;++g){const k=m[g];i.listenProvider_.stopListening(Mi(k),Ro(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new ju(r)}node(){return this.node_}}class Uu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Me(this.path_,t);return new Uu(this.syncTree_,r)}node(){return Mu(this.syncTree_,this.path_)}}const aw=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Qh=function(i,t,r){if(!i||typeof i!="object")return i;if(L(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return uw(i[".sv"],t,r);if(typeof i[".sv"]=="object")return cw(i[".sv"],t);L(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},uw=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:L(!1,"Unexpected server value: "+i)}},cw=function(i,t,r){i.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&L(!1,"Unexpected increment value: "+o);const a=t.node();if(L(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},dw=function(i,t,r,o){return Bu(t,new Uu(r,i),o)},mm=function(i,t,r){return Bu(i,new ju(t),r)};function Bu(i,t,r){const o=i.getPriority().val(),a=Qh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Qh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new je(p,Ve(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new je(a))),f.forEachChild(Ie,(p,m)=>{const g=Bu(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Hu(i,t){let r=t instanceof ue?t:new ue(t),o=i,a=J(r);for(;a!==null;){const c=Dr(o.node.children,a)||{children:{},childCount:0};o=new Wu(a,o,c),r=he(r),a=J(r)}return o}function jr(i){return i.node.value}function gm(i,t){i.node.value=t,fu(i)}function _m(i){return i.node.childCount>0}function fw(i){return jr(i)===void 0&&!_m(i)}function zo(i,t){ut(i.node.children,(r,o)=>{t(new Wu(r,i,o))})}function vm(i,t,r,o){r&&t(i),zo(i,a=>{vm(a,t,!0)})}function hw(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Xi(i){return new ue(i.parent===null?i.name:Xi(i.parent)+"/"+i.name)}function fu(i){i.parent!==null&&pw(i.parent,i.name,i)}function pw(i,t,r){const o=fw(r),a=rn(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,fu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,fu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=/[\[\].#$\/\u0000-\u001F\u007F]/,gw=/[\[\].#$\u0000-\u001F\u007F]/,Ka=10*1024*1024,ym=function(i){return typeof i=="string"&&i.length!==0&&!mw.test(i)},wm=function(i){return typeof i=="string"&&i.length!==0&&!gw.test(i)},_w=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),wm(i)},Cm=function(i,t,r,o){o&&t===void 0||Vu(_u(i,"value"),t,r)},Vu=function(i,t,r){const o=r instanceof ue?new M0(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Qn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Qn(o)+" with contents = "+t.toString());if(wp(t))throw new Error(i+"contains "+t.toString()+" "+Qn(o));if(typeof t=="string"&&t.length>Ka/3&&Ao(t)>Ka)throw new Error(i+"contains a string greater than "+Ka+" utf8 bytes "+Qn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(ut(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!ym(f)))throw new Error(i+" contains an invalid key ("+f+") "+Qn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F0(o,f),Vu(i,p,o),b0(o)}),a&&c)throw new Error(i+' contains ".value" child '+Qn(o)+" in addition to actual children.")}},Em=function(i,t,r,o){if(!wm(r))throw new Error(_u(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vw=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Em(i,t,r)},Sm=function(i,t){if(J(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},yw=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ym(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!_w(r))throw new Error(_u(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $u(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Su(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function km(i,t,r){$u(i,r),xm(i,o=>Su(o,t))}function nn(i,t,r){$u(i,r),xm(i,o=>Ot(o,t)||Ot(t,o))}function xm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(Cw(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function Cw(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Di&&qe("event: "+r.toString()),zr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="repo_interrupt",Sw=25;class kw{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ww,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eo(),this.transactionQueueTree_=new Wu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xw(i,t,r){if(i.stats_=Cu(i.repoInfo_),i.forceRestClient_||o0())i.server_=new Co(i.repoInfo_,(o,a,c,f)=>{Gh(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Kh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Zt(i.repoInfo_,t,(o,a,c,f)=>{Gh(i,o,a,c,f)},o=>{Kh(i,o)},o=>{Iw(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=d0(i.repoInfo_,()=>new u1(i.stats_,i.server_)),i.infoData_=new i1,i.infoSyncTree_=new Vh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Fo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),Gu(i,"connected",!1),i.serverSyncTree_=new Vh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const g=f(p,m);nn(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function Im(i){const r=i.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Qu(i){return aw({timestamp:Im(i)})}function Gh(i,t,r,o,a){i.dataUpdateCount++;const c=new ue(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=po(r,g=>Ve(g));f=rw(i.serverSyncTree_,c,m,a)}else{const m=Ve(r);f=nw(i.serverSyncTree_,c,m,a)}else if(o){const m=po(r,g=>Ve(g));f=Z1(i.serverSyncTree_,c,m)}else{const m=Ve(r);f=Fo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=jo(i,c)),nn(i.eventQueue_,p,f)}function Kh(i,t){Gu(i,"connected",t),t===!1&&Tw(i)}function Iw(i,t){ut(t,(r,o)=>{Gu(i,r,o)})}function Gu(i,t,r){const o=new ue("/.info/"+t),a=Ve(r);i.infoData_.updateSnapshot(o,a);const c=Fo(i.infoSyncTree_,o,a);nn(i.eventQueue_,o,c)}function Nm(i){return i.nextWriteId_++}function Nw(i,t,r,o,a){Ku(i,"set",{path:t.toString(),value:r,priority:o});const c=Qu(i),f=Ve(r,o),p=Mu(i.serverSyncTree_,t),m=mm(f,p,c),g=Nm(i),k=dm(i.serverSyncTree_,t,m,g,!0);$u(i.eventQueue_,k),i.server_.put(t.toString(),f.val(!0),(w,O)=>{const F=w==="ok";F||at("set at "+t+" failed: "+w);const j=Kn(i.serverSyncTree_,g,!F);nn(i.eventQueue_,t,j),Aw(i,a,w,O)});const C=Am(i,t);jo(i,C),nn(i.eventQueue_,C,[])}function Tw(i){Ku(i,"onDisconnectEvents");const t=Qu(i),r=Eo();su(i.onDisconnect_,oe(),(a,c)=>{const f=dw(a,c,i.serverSyncTree_,t);Xp(r,a,f)});let o=[];su(r,oe(),(a,c)=>{o=o.concat(Fo(i.serverSyncTree_,a,c));const f=Am(i,a);jo(i,f)}),i.onDisconnect_=Eo(),nn(i.eventQueue_,oe(),o)}function Rw(i,t,r){let o;J(t._path)===".info"?o=$h(i.infoSyncTree_,t,r):o=$h(i.serverSyncTree_,t,r),km(i.eventQueue_,t._path,o)}function Pw(i,t,r){let o;J(t._path)===".info"?o=du(i.infoSyncTree_,t,r):o=du(i.serverSyncTree_,t,r),km(i.eventQueue_,t._path,o)}function Dw(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Ew)}function Ku(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),qe(r,...t)}function Aw(i,t,r,o){t&&zr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Tm(i,t,r){return Mu(i.serverSyncTree_,t,r)||K.EMPTY_NODE}function qu(i,t=i.transactionQueueTree_){if(t||Uo(i,t),jr(t)){const r=Pm(i,t);L(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&Ow(i,Xi(t),r)}else _m(t)&&zo(t,r=>{qu(i,r)})}function Ow(i,t,r){const o=r.map(g=>g.currentWriteId),a=Tm(i,t,o);let c=a;const f=a.hash();for(let g=0;g<r.length;g++){const k=r[g];L(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const C=ot(t,k.path);c=c.updateChild(C,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{Ku(i,"transaction put response",{path:m.toString(),status:g});let k=[];if(g==="ok"){const C=[];for(let w=0;w<r.length;w++)r[w].status=2,k=k.concat(Kn(i.serverSyncTree_,r[w].currentWriteId)),r[w].onComplete&&C.push(()=>r[w].onComplete(null,!0,r[w].currentOutputSnapshotResolved)),r[w].unwatcher();Uo(i,Hu(i.transactionQueueTree_,t)),qu(i,i.transactionQueueTree_),nn(i.eventQueue_,t,k);for(let w=0;w<C.length;w++)zr(C[w])}else{if(g==="datastale")for(let C=0;C<r.length;C++)r[C].status===3?r[C].status=4:r[C].status=0;else{at("transaction at "+m.toString()+" failed: "+g);for(let C=0;C<r.length;C++)r[C].status=4,r[C].abortReason=g}jo(i,t)}},f)}function jo(i,t){const r=Rm(i,t),o=Xi(r),a=Pm(i,r);return Lw(i,a,o),o}function Lw(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=ot(r,m.path);let k=!1,C;if(L(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,C=m.abortReason,a=a.concat(Kn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=Sw)k=!0,C="maxretry",a=a.concat(Kn(i.serverSyncTree_,m.currentWriteId,!0));else{const w=Tm(i,m.path,f);m.currentInputSnapshot=w;const O=t[p].update(w.val());if(O!==void 0){Vu("transaction failed: Data returned ",O,m.path);let F=Ve(O);typeof O=="object"&&O!=null&&rn(O,".priority")||(F=F.updatePriority(w.getPriority()));const Q=m.currentWriteId,Ne=Qu(i),Se=mm(F,w,Ne);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=Se,m.currentWriteId=Nm(i),f.splice(f.indexOf(Q),1),a=a.concat(dm(i.serverSyncTree_,m.path,Se,m.currentWriteId,m.applyLocally)),a=a.concat(Kn(i.serverSyncTree_,Q,!0))}else k=!0,C="nodata",a=a.concat(Kn(i.serverSyncTree_,m.currentWriteId,!0))}nn(i.eventQueue_,r,a),a=[],k&&(t[p].status=2,function(w){setTimeout(w,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(C==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(C),!1,null))))}Uo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)zr(o[p]);qu(i,i.transactionQueueTree_)}function Rm(i,t){let r,o=i.transactionQueueTree_;for(r=J(t);r!==null&&jr(o)===void 0;)o=Hu(o,r),t=he(t),r=J(t);return o}function Pm(i,t){const r=[];return Dm(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Dm(i,t,r){const o=jr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);zo(t,a=>{Dm(i,a,r)})}function Uo(i,t){const r=jr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,gm(t,r.length>0?r:void 0)}zo(t,o=>{Uo(i,o)})}function Am(i,t){const r=Xi(Rm(i,t)),o=Hu(i.transactionQueueTree_,t);return hw(o,a=>{qa(i,a)}),qa(i,o),vm(o,a=>{qa(i,a)}),r}function qa(i,t){const r=jr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(L(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(L(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Kn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?gm(t,void 0):r.length=c+1,nn(i.eventQueue_,Xi(t),a);for(let f=0;f<o.length;f++)zr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function Fw(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):at(`Invalid query segment '${r}' in query '${i}'`)}return t}const qh=function(i,t){const r=bw(i),o=r.namespace;r.domain==="firebase.com"&&tn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Xy();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Ap(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new ue(r.pathString)}},bw=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let k=i.indexOf("/");k===-1&&(k=i.length);let C=i.indexOf("?");C===-1&&(C=i.length),t=i.substring(0,Math.min(k,C)),k<C&&(a=Mw(i.substring(k,C)));const w=Fw(i.substring(Math.min(i.length,C)));g=t.indexOf(":"),g>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const O=t.slice(0,g);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),r=t.substring(F+1),c=o}"ns"in w&&(c=w.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zw=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let a;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Yh.charAt(r%64),r=Math.floor(r/64);L(r===0,"Cannot push at time == 0");let f=c.join("");if(o){for(a=11;a>=0&&t[a]===63;a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)f+=Yh.charAt(t[a]);return L(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class Uw{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return te(this._path)?null:Bp(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const t=Oh(this._queryParams),r=yu(t);return r==="{}"?"default":r}get _queryObject(){return Oh(this._queryParams)}isEqual(t){if(t=Fr(t),!(t instanceof Yu))return!1;const r=this._repo===t._repo,o=Su(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+L0(this._path)}}class Pn extends Yu{constructor(t,r){super(t,r,new Nu,!1)}get parent(){const t=Hp(this._path);return t===null?null:new Pn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Po{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ue(t),o=$i(this.ref,t);return new Po(this._node.getChild(r),o,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Po(a,$i(this.ref,o),Ie)))}hasChild(t){const r=new ue(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xh(i,t){return i=Fr(i),i._checkNotDeleted("ref"),$i(i._root,t)}function $i(i,t){return i=Fr(i),J(i._path)===null?vw("child","path",t):Em("child","path",t),new Pn(i._repo,Me(i._path,t))}function Ww(i,t){i=Fr(i),Sm("push",i._path),Cm("push",t,i._path,!0);const r=Im(i._repo),o=zw(r),a=$i(i,o),c=$i(i,o);let f;return t!=null?f=Hw(c,t).then(()=>c):f=Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}function Hw(i,t){i=Fr(i),Sm("set",i._path),Cm("set",t,i._path,!1);const r=new Do;return Nw(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}class Xu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new jw("value",this,new Po(t.snapshotNode,new Pn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new Uw(this,t,r):null}matches(t){return t instanceof Xu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Vw(i,t,r,o,a){const c=new Bw(r,void 0),f=new Xu(c);return Rw(i._repo,i,f),()=>Pw(i._repo,i,f)}function $w(i,t,r,o){return Vw(i,"value",t)}V1(Pn);Y1(Pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="FIREBASE_DATABASE_EMULATOR_HOST",hu={};let Gw=!1;function Kw(i,t,r,o){const a=t.lastIndexOf(":"),c=t.substring(0,a),f=gu(c);i.repoInfo_=new Ap(t,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),o&&(i.authTokenProvider_=o)}function qw(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=qh(c,a),p=f.repoInfo,m;typeof process<"u"&&mh&&(m=mh[Qw]),m?(c=`http://${m}?ns=${p.namespace}`,f=qh(c,a),p=f.repoInfo):f.repoInfo.secure;const g=new a0(i.name,i.options,t);yw("Invalid Firebase Database URL",f),te(f.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const k=Xw(p,i,g,new l0(i,r));return new Jw(k,i)}function Yw(i,t){const r=hu[t];(!r||r[i.key]!==i)&&tn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Dw(i),delete r[i.key]}function Xw(i,t,r,o){let a=hu[t.name];a||(a={},hu[t.name]=a);let c=a[i.toURLString()];return c&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new kw(i,Gw,r,o),a[i.toURLString()]=c,c}class Jw{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Yw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&tn("Cannot call "+t+" on a deleted database.")}}function Zw(i=Ay(),t){const r=Ny(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=fv("database");o&&eC(r,...o)}return r}function eC(i,t,r,o={}){i=Fr(i),i._checkNotDeleted("useEmulator");const a=`${t}:${r}`,c=i._repoInternal;if(i._instanceStarted){if(a===i._repoInternal.repoInfo_.host&&mo(o,c.repoInfo_.emulatorOptions))return;tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(c.repoInfo_.nodeAdmin)o.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new fo(fo.OWNER);else if(o.mockUserToken){const p=typeof o.mockUserToken=="string"?o.mockUserToken:pv(o.mockUserToken,i.app.options.projectId);f=new fo(p)}gu(t)&&(hv(t),_v("Database",!0)),Kw(c,a,o,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){$y(Dy),_o(new bi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return qw(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Nr(gh,_h,i),Nr(gh,_h,"esm2017")}Zt.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Zt.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};tC();const nC={apiKey:"AIzaSyAhnEFYt5nCAsbTrwjN0CPAuwN_2VQrVOE",authDomain:"black-lotus-6d810.firebaseapp.com",databaseURL:"https://black-lotus-6d810-default-rtdb.firebaseio.com",projectId:"black-lotus-6d810",storageBucket:"black-lotus-6d810.appspot.com",messagingSenderId:"985514794256",appId:"1:985514794256:web:1f17e15600a9bc5a189995",measurementId:"G-QWRTL3RFDV"},rC=pp(nC),Jh=Zw(rC),iC=()=>{const[i,t]=Pe.useState([]),[r,o]=Pe.useState(""),[a,c]=Pe.useState("");Pe.useEffect(()=>{const p=Xh(Jh,"reviews");$w(p,m=>{const g=m.val();if(g){const k=Object.values(g);t(k.reverse())}})},[]);const f=p=>{p.preventDefault();const m={name:r,text:a,date:new Date().toISOString()};Ww(Xh(Jh,"reviews"),m),o(""),c("")};return P.jsxs("div",{className:"glass-section max-w-xl mx-auto my-10 p-6",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Leave a Review"}),P.jsxs("form",{onSubmit:f,className:"space-y-3 mb-6",children:[P.jsx("input",{type:"text",placeholder:"Your name",className:"w-full p-2 rounded text-black",value:r,onChange:p=>o(p.target.value),required:!0,style:{zIndex:"1"}}),P.jsx("textarea",{placeholder:"Your review",className:"w-full p-2 rounded text-black",value:a,onChange:p=>c(p.target.value),required:!0,style:{zIndex:"1"}}),P.jsx("button",{type:"submit",className:"mt-1 px-5 py-2.5 rounded-xl border border-white/20 bg-black/40 text-white backdrop-blur-sm shadow-md hover:shadow-xl hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Submit"})]}),P.jsx("h3",{className:"text-lg font-semibold mb-2",children:"What people are saying:"}),P.jsx("div",{className:"space-y-4",children:i.map((p,m)=>P.jsxs("div",{className:"border border-white/10 p-3 rounded bg-white/5",children:[P.jsx("p",{className:"font-semibold",children:p.name}),P.jsx("p",{className:"text-gray-200",children:p.text})]},m))})]})};function sC(){const[i,t]=Pe.useState(!1);return P.jsxs("div",{className:"relative bg-gradient-to-br from-black via-zinc-900 to-black font-sans scroll-smooth min-h-screen text-white",children:[P.jsx("div",{className:"fixed inset-0 -z-10 bg-repeat opacity-5 pointer-events-none",style:{backgroundImage:"url('images/logo.png')",backgroundSize:"500px",backgroundPosition:"center",backgroundAttachment:"fixed",zIndex:"1"}}),P.jsx(q_,{}),P.jsxs("main",{className:"pt-20 space-y-24 px-4 md:px-12 max-w-7xl mx-auto",children:[P.jsx("section",{id:"tattoos",children:P.jsx(X_,{})}),P.jsx("section",{id:"reviews",children:P.jsx(iC,{})}),P.jsx("section",{id:"artists",children:P.jsx(ev,{})}),P.jsxs("section",{id:"employment",className:"text-center ",children:[P.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Work With Us"}),P.jsx("p",{className:"text-gray-300 mb-6",children:"Think you have what it takes to join Black Lotus?"}),P.jsx("button",{onClick:()=>t(!0),className:"mt-1 px-5 py-2.5 rounded-xl border border-white/20 bg-black/40 text-white backdrop-blur-sm shadow-md hover:shadow-xl hover:bg-white/10 transition-all duration-300 ease-in-out",children:"Apply for Employment"})]}),P.jsx("section",{id:"footer",className:"text-center",children:P.jsx("a",{className:"text-center",children:"Design by Esco's Web Assistance Program"})})]}),i&&P.jsx(tv,{onClose:()=>t(!1)})]})}j_.createRoot(document.getElementById("root")).render(P.jsx(A_.StrictMode,{children:P.jsx(sC,{})}));
